(()=>{var fl=Object.create;var or=Object.defineProperty,pl=Object.defineProperties,gl=Object.getOwnPropertyDescriptor,ml=Object.getOwnPropertyDescriptors,vl=Object.getOwnPropertyNames,pi=Object.getOwnPropertySymbols,bl=Object.getPrototypeOf,lr=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable;var Jn=(e,t,i)=>t in e?or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,fe=(e,t)=>{for(var i in t||(t={}))lr.call(t,i)&&Jn(e,i,t[i]);if(pi)for(var i of pi(t))qn.call(t,i)&&Jn(e,i,t[i]);return e},hr=(e,t)=>pl(e,ml(t));var Yn=(e,t)=>{var i={};for(var r in e)lr.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&pi)for(var r of pi(e))t.indexOf(r)<0&&qn.call(e,r)&&(i[r]=e[r]);return i};var Kn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var yl=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of vl(t))!lr.call(e,n)&&n!==i&&or(e,n,{get:()=>t[n],enumerable:!(r=gl(t,n))||r.enumerable});return e};var Gn=(e,t,i)=>(i=e!=null?fl(bl(e)):{},yl(t||!e||!e.__esModule?or(i,"default",{value:e,enumerable:!0}):i,e));var ho=Kn((lo,Zi)=>{(function(e,t){"use strict";(function(){for(var b=0,k=["ms","moz","webkit","o"],L=0;L<k.length&&!e.requestAnimationFrame;++L)e.requestAnimationFrame=e[k[L]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[k[L]+"CancelAnimationFrame"]||e[k[L]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(P,D){var M=new Date().getTime(),F=Math.max(0,16-(M-b)),z=e.setTimeout(function(){P(M+F)},F);return b=M+F,z}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(P){clearTimeout(P)})})();var i,r,n,s=null,a=null,o=null,d=function(b,k,L){b.addEventListener?b.addEventListener(k,L,!1):b.attachEvent?b.attachEvent("on"+k,L):b["on"+k]=L},f={autoRun:!0,barThickness:3,barColors:{0:"rgba(26,  188, 156, .9)",".25":"rgba(52,  152, 219, .9)",".50":"rgba(241, 196, 15,  .9)",".75":"rgba(230, 126, 34,  .9)","1.0":"rgba(211, 84,  0,   .9)"},shadowBlur:10,shadowColor:"rgba(0,   0,   0,   .6)",className:null},g=function(){i.width=e.innerWidth,i.height=f.barThickness*5;var b=i.getContext("2d");b.shadowBlur=f.shadowBlur,b.shadowColor=f.shadowColor;var k=b.createLinearGradient(0,0,i.width,0);for(var L in f.barColors)k.addColorStop(L,f.barColors[L]);b.lineWidth=f.barThickness,b.beginPath(),b.moveTo(0,f.barThickness/2),b.lineTo(Math.ceil(r*i.width),f.barThickness/2),b.strokeStyle=k,b.stroke()},x=function(){i=t.createElement("canvas");var b=i.style;b.position="fixed",b.top=b.left=b.right=b.margin=b.padding=0,b.zIndex=100001,b.display="none",f.className&&i.classList.add(f.className),t.body.appendChild(i),d(e,"resize",g)},_={config:function(b){for(var k in b)f.hasOwnProperty(k)&&(f[k]=b[k])},show:function(b){if(!n)if(b){if(o)return;o=setTimeout(()=>_.show(),b)}else n=!0,a!==null&&e.cancelAnimationFrame(a),i||x(),i.style.opacity=1,i.style.display="block",_.progress(0),f.autoRun&&function k(){s=e.requestAnimationFrame(k),_.progress("+"+.05*Math.pow(1-Math.sqrt(r),2))}()},progress:function(b){return typeof b=="undefined"||(typeof b=="string"&&(b=(b.indexOf("+")>=0||b.indexOf("-")>=0?r:0)+parseFloat(b)),r=b>1?1:b,g()),r},hide:function(){clearTimeout(o),o=null,n&&(n=!1,s!=null&&(e.cancelAnimationFrame(s),s=null),function b(){if(_.progress("+.1")>=1&&(i.style.opacity-=.05,i.style.opacity<=.05)){i.style.display="none",a=null;return}a=e.requestAnimationFrame(b)}())}};typeof Zi=="object"&&typeof Zi.exports=="object"?Zi.exports=_:typeof define=="function"&&define.amd?define(function(){return _}):this.topbar=_}).call(lo,window,document)});var Ao=Kn((xn,En)=>{(function(e,t){typeof xn=="object"&&typeof En!="undefined"?En.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.Cropper=t())})(xn,function(){"use strict";function e(u,l){var c=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);l&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(u,v).enumerable})),c.push.apply(c,h)}return c}function t(u){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?e(Object(c),!0).forEach(function(h){a(u,h,c[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(c,h))})}return u}function i(u){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},i(u)}function r(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function n(u,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function s(u,l,c){return l&&n(u.prototype,l),c&&n(u,c),Object.defineProperty(u,"prototype",{writable:!1}),u}function a(u,l,c){return l in u?Object.defineProperty(u,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[l]=c,u}function o(u){return d(u)||f(u)||g(u)||_()}function d(u){if(Array.isArray(u))return x(u)}function f(u){if(typeof Symbol!="undefined"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function g(u,l){if(u){if(typeof u=="string")return x(u,l);var c=Object.prototype.toString.call(u).slice(8,-1);if(c==="Object"&&u.constructor&&(c=u.constructor.name),c==="Map"||c==="Set")return Array.from(u);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return x(u,l)}}function x(u,l){(l==null||l>u.length)&&(l=u.length);for(var c=0,h=new Array(l);c<l;c++)h[c]=u[c];return h}function _(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b=typeof window!="undefined"&&typeof window.document!="undefined",k=b?window:{},L=b&&k.document.documentElement?"ontouchstart"in k.document.documentElement:!1,P=b?"PointerEvent"in k:!1,D="cropper",M="all",F="crop",z="move",de="zoom",V="e",ee="w",C="s",I="n",Q="ne",j="nw",ue="se",Ke="sw",ht="".concat(D,"-crop"),di="".concat(D,"-disabled"),oe="".concat(D,"-hidden"),H="".concat(D,"-hide"),N="".concat(D,"-invisible"),Y="".concat(D,"-modal"),B="".concat(D,"-move"),X="".concat(D,"Action"),Oe="".concat(D,"Preview"),we="crop",Ue="move",ct="none",Ce="crop",Ge="cropend",Se="cropmove",dt="cropstart",Ft="dblclick",Po=L?"touchstart":"mousedown",Do=L?"touchmove":"mousemove",Lo=L?"touchend touchcancel":"mouseup",An=P?"pointerdown":Po,Cn=P?"pointermove":Do,Sn=P?"pointerup pointercancel":Lo,kn="ready",Tn="resize",Rn="wheel",er="zoom",On="image/jpeg",Io=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Mo=/^data:/,No=/^data:image\/jpeg;base64,/,Ho=/^img|canvas$/i,Pn=200,Dn=100,Ln={viewMode:0,dragMode:we,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Pn,minContainerHeight:Dn,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Bo='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Fo=Number.isNaN||k.isNaN;function $(u){return typeof u=="number"&&!Fo(u)}var In=function(l){return l>0&&l<1/0};function tr(u){return typeof u=="undefined"}function ut(u){return i(u)==="object"&&u!==null}var $o=Object.prototype.hasOwnProperty;function At(u){if(!ut(u))return!1;try{var l=u.constructor,c=l.prototype;return l&&c&&$o.call(c,"isPrototypeOf")}catch(h){return!1}}function ve(u){return typeof u=="function"}var jo=Array.prototype.slice;function Mn(u){return Array.from?Array.from(u):jo.call(u)}function te(u,l){return u&&ve(l)&&(Array.isArray(u)||$(u.length)?Mn(u).forEach(function(c,h){l.call(u,c,h,u)}):ut(u)&&Object.keys(u).forEach(function(c){l.call(u,u[c],c,u)})),u}var G=Object.assign||function(l){for(var c=arguments.length,h=new Array(c>1?c-1:0),v=1;v<c;v++)h[v-1]=arguments[v];return ut(l)&&h.length>0&&h.forEach(function(p){ut(p)&&Object.keys(p).forEach(function(m){l[m]=p[m]})}),l},Uo=/\.\d*(?:0|9){12}\d*$/;function Ct(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Uo.test(u)?Math.round(u*l)/l:u}var Wo=/^width|height|left|top|marginLeft|marginTop$/;function Ze(u,l){var c=u.style;te(l,function(h,v){Wo.test(v)&&$(h)&&(h="".concat(h,"px")),c[v]=h})}function zo(u,l){return u.classList?u.classList.contains(l):u.className.indexOf(l)>-1}function le(u,l){if(l){if($(u.length)){te(u,function(h){le(h,l)});return}if(u.classList){u.classList.add(l);return}var c=u.className.trim();c?c.indexOf(l)<0&&(u.className="".concat(c," ").concat(l)):u.className=l}}function Me(u,l){if(l){if($(u.length)){te(u,function(c){Me(c,l)});return}if(u.classList){u.classList.remove(l);return}u.className.indexOf(l)>=0&&(u.className=u.className.replace(l,""))}}function St(u,l,c){if(l){if($(u.length)){te(u,function(h){St(h,l,c)});return}c?le(u,l):Me(u,l)}}var Vo=/([a-z\d])([A-Z])/g;function ir(u){return u.replace(Vo,"$1-$2").toLowerCase()}function rr(u,l){return ut(u[l])?u[l]:u.dataset?u.dataset[l]:u.getAttribute("data-".concat(ir(l)))}function $t(u,l,c){ut(c)?u[l]=c:u.dataset?u.dataset[l]=c:u.setAttribute("data-".concat(ir(l)),c)}function Xo(u,l){if(ut(u[l]))try{delete u[l]}catch(c){u[l]=void 0}else if(u.dataset)try{delete u.dataset[l]}catch(c){u.dataset[l]=void 0}else u.removeAttribute("data-".concat(ir(l)))}var Nn=/\s\s*/,Hn=function(){var u=!1;if(b){var l=!1,c=function(){},h=Object.defineProperty({},"once",{get:function(){return u=!0,l},set:function(p){l=p}});k.addEventListener("test",c,h),k.removeEventListener("test",c,h)}return u}();function Pe(u,l,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=c;l.trim().split(Nn).forEach(function(p){if(!Hn){var m=u.listeners;m&&m[p]&&m[p][c]&&(v=m[p][c],delete m[p][c],Object.keys(m[p]).length===0&&delete m[p],Object.keys(m).length===0&&delete u.listeners)}u.removeEventListener(p,v,h)})}function ke(u,l,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=c;l.trim().split(Nn).forEach(function(p){if(h.once&&!Hn){var m=u.listeners,w=m===void 0?{}:m;v=function(){delete w[p][c],u.removeEventListener(p,v,h);for(var S=arguments.length,E=new Array(S),A=0;A<S;A++)E[A]=arguments[A];c.apply(u,E)},w[p]||(w[p]={}),w[p][c]&&u.removeEventListener(p,w[p][c],h),w[p][c]=v,u.listeners=w}u.addEventListener(p,v,h)})}function kt(u,l,c){var h;return ve(Event)&&ve(CustomEvent)?h=new CustomEvent(l,{detail:c,bubbles:!0,cancelable:!0}):(h=document.createEvent("CustomEvent"),h.initCustomEvent(l,!0,!0,c)),u.dispatchEvent(h)}function Bn(u){var l=u.getBoundingClientRect();return{left:l.left+(window.pageXOffset-document.documentElement.clientLeft),top:l.top+(window.pageYOffset-document.documentElement.clientTop)}}var nr=k.location,Jo=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Fn(u){var l=u.match(Jo);return l!==null&&(l[1]!==nr.protocol||l[2]!==nr.hostname||l[3]!==nr.port)}function $n(u){var l="timestamp=".concat(new Date().getTime());return u+(u.indexOf("?")===-1?"?":"&")+l}function jt(u){var l=u.rotate,c=u.scaleX,h=u.scaleY,v=u.translateX,p=u.translateY,m=[];$(v)&&v!==0&&m.push("translateX(".concat(v,"px)")),$(p)&&p!==0&&m.push("translateY(".concat(p,"px)")),$(l)&&l!==0&&m.push("rotate(".concat(l,"deg)")),$(c)&&c!==1&&m.push("scaleX(".concat(c,")")),$(h)&&h!==1&&m.push("scaleY(".concat(h,")"));var w=m.length?m.join(" "):"none";return{WebkitTransform:w,msTransform:w,transform:w}}function qo(u){var l=t({},u),c=0;return te(u,function(h,v){delete l[v],te(l,function(p){var m=Math.abs(h.startX-p.startX),w=Math.abs(h.startY-p.startY),R=Math.abs(h.endX-p.endX),S=Math.abs(h.endY-p.endY),E=Math.sqrt(m*m+w*w),A=Math.sqrt(R*R+S*S),T=(A-E)/E;Math.abs(T)>Math.abs(c)&&(c=T)})}),c}function ui(u,l){var c=u.pageX,h=u.pageY,v={endX:c,endY:h};return l?v:t({startX:c,startY:h},v)}function Yo(u){var l=0,c=0,h=0;return te(u,function(v){var p=v.startX,m=v.startY;l+=p,c+=m,h+=1}),l/=h,c/=h,{pageX:l,pageY:c}}function Qe(u){var l=u.aspectRatio,c=u.height,h=u.width,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",p=In(h),m=In(c);if(p&&m){var w=c*l;v==="contain"&&w>h||v==="cover"&&w<h?c=h/l:h=c*l}else p?c=h/l:m&&(h=c*l);return{width:h,height:c}}function Ko(u){var l=u.width,c=u.height,h=u.degree;if(h=Math.abs(h)%180,h===90)return{width:c,height:l};var v=h%90*Math.PI/180,p=Math.sin(v),m=Math.cos(v),w=l*m+c*p,R=l*p+c*m;return h>90?{width:R,height:w}:{width:w,height:R}}function Go(u,l,c,h){var v=l.aspectRatio,p=l.naturalWidth,m=l.naturalHeight,w=l.rotate,R=w===void 0?0:w,S=l.scaleX,E=S===void 0?1:S,A=l.scaleY,T=A===void 0?1:A,W=c.aspectRatio,U=c.naturalWidth,Z=c.naturalHeight,J=h.fillColor,ne=J===void 0?"transparent":J,he=h.imageSmoothingEnabled,ie=he===void 0?!0:he,We=h.imageSmoothingQuality,_e=We===void 0?"low":We,O=h.maxWidth,q=O===void 0?1/0:O,se=h.maxHeight,Te=se===void 0?1/0:se,ze=h.minWidth,ft=ze===void 0?0:ze,pt=h.minHeight,et=pt===void 0?0:pt,Ne=document.createElement("canvas"),be=Ne.getContext("2d"),gt=Qe({aspectRatio:W,width:q,height:Te}),fi=Qe({aspectRatio:W,width:ft,height:et},"cover"),sr=Math.min(gt.width,Math.max(fi.width,U)),ar=Math.min(gt.height,Math.max(fi.height,Z)),Wn=Qe({aspectRatio:v,width:q,height:Te}),zn=Qe({aspectRatio:v,width:ft,height:et},"cover"),Vn=Math.min(Wn.width,Math.max(zn.width,p)),Xn=Math.min(Wn.height,Math.max(zn.height,m)),dl=[-Vn/2,-Xn/2,Vn,Xn];return Ne.width=Ct(sr),Ne.height=Ct(ar),be.fillStyle=ne,be.fillRect(0,0,sr,ar),be.save(),be.translate(sr/2,ar/2),be.rotate(R*Math.PI/180),be.scale(E,T),be.imageSmoothingEnabled=ie,be.imageSmoothingQuality=_e,be.drawImage.apply(be,[u].concat(o(dl.map(function(ul){return Math.floor(Ct(ul))})))),be.restore(),Ne}var jn=String.fromCharCode;function Zo(u,l,c){var h="";c+=l;for(var v=l;v<c;v+=1)h+=jn(u.getUint8(v));return h}var Qo=/^data:.*,/;function el(u){var l=u.replace(Qo,""),c=atob(l),h=new ArrayBuffer(c.length),v=new Uint8Array(h);return te(v,function(p,m){v[m]=c.charCodeAt(m)}),h}function tl(u,l){for(var c=[],h=8192,v=new Uint8Array(u);v.length>0;)c.push(jn.apply(null,Mn(v.subarray(0,h)))),v=v.subarray(h);return"data:".concat(l,";base64,").concat(btoa(c.join("")))}function il(u){var l=new DataView(u),c;try{var h,v,p;if(l.getUint8(0)===255&&l.getUint8(1)===216)for(var m=l.byteLength,w=2;w+1<m;){if(l.getUint8(w)===255&&l.getUint8(w+1)===225){v=w;break}w+=1}if(v){var R=v+4,S=v+10;if(Zo(l,R,4)==="Exif"){var E=l.getUint16(S);if(h=E===18761,(h||E===19789)&&l.getUint16(S+2,h)===42){var A=l.getUint32(S+4,h);A>=8&&(p=S+A)}}}if(p){var T=l.getUint16(p,h),W,U;for(U=0;U<T;U+=1)if(W=p+U*12+2,l.getUint16(W,h)===274){W+=8,c=l.getUint16(W,h),l.setUint16(W,1,h);break}}}catch(Z){c=1}return c}function rl(u){var l=0,c=1,h=1;switch(u){case 2:c=-1;break;case 3:l=-180;break;case 4:h=-1;break;case 5:l=90,h=-1;break;case 6:l=90;break;case 7:l=90,c=-1;break;case 8:l=-90;break}return{rotate:l,scaleX:c,scaleY:h}}var nl={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var l=this.element,c=this.options,h=this.container,v=this.cropper,p=Number(c.minContainerWidth),m=Number(c.minContainerHeight);le(v,oe),Me(l,oe);var w={width:Math.max(h.offsetWidth,p>=0?p:Pn),height:Math.max(h.offsetHeight,m>=0?m:Dn)};this.containerData=w,Ze(v,{width:w.width,height:w.height}),le(l,oe),Me(v,oe)},initCanvas:function(){var l=this.containerData,c=this.imageData,h=this.options.viewMode,v=Math.abs(c.rotate)%180===90,p=v?c.naturalHeight:c.naturalWidth,m=v?c.naturalWidth:c.naturalHeight,w=p/m,R=l.width,S=l.height;l.height*w>l.width?h===3?R=l.height*w:S=l.width/w:h===3?S=l.width/w:R=l.height*w;var E={aspectRatio:w,naturalWidth:p,naturalHeight:m,width:R,height:S};this.canvasData=E,this.limited=h===1||h===2,this.limitCanvas(!0,!0),E.width=Math.min(Math.max(E.width,E.minWidth),E.maxWidth),E.height=Math.min(Math.max(E.height,E.minHeight),E.maxHeight),E.left=(l.width-E.width)/2,E.top=(l.height-E.height)/2,E.oldLeft=E.left,E.oldTop=E.top,this.initialCanvasData=G({},E)},limitCanvas:function(l,c){var h=this.options,v=this.containerData,p=this.canvasData,m=this.cropBoxData,w=h.viewMode,R=p.aspectRatio,S=this.cropped&&m;if(l){var E=Number(h.minCanvasWidth)||0,A=Number(h.minCanvasHeight)||0;w>1?(E=Math.max(E,v.width),A=Math.max(A,v.height),w===3&&(A*R>E?E=A*R:A=E/R)):w>0&&(E?E=Math.max(E,S?m.width:0):A?A=Math.max(A,S?m.height:0):S&&(E=m.width,A=m.height,A*R>E?E=A*R:A=E/R));var T=Qe({aspectRatio:R,width:E,height:A});E=T.width,A=T.height,p.minWidth=E,p.minHeight=A,p.maxWidth=1/0,p.maxHeight=1/0}if(c)if(w>(S?0:1)){var W=v.width-p.width,U=v.height-p.height;p.minLeft=Math.min(0,W),p.minTop=Math.min(0,U),p.maxLeft=Math.max(0,W),p.maxTop=Math.max(0,U),S&&this.limited&&(p.minLeft=Math.min(m.left,m.left+(m.width-p.width)),p.minTop=Math.min(m.top,m.top+(m.height-p.height)),p.maxLeft=m.left,p.maxTop=m.top,w===2&&(p.width>=v.width&&(p.minLeft=Math.min(0,W),p.maxLeft=Math.max(0,W)),p.height>=v.height&&(p.minTop=Math.min(0,U),p.maxTop=Math.max(0,U))))}else p.minLeft=-p.width,p.minTop=-p.height,p.maxLeft=v.width,p.maxTop=v.height},renderCanvas:function(l,c){var h=this.canvasData,v=this.imageData;if(c){var p=Ko({width:v.naturalWidth*Math.abs(v.scaleX||1),height:v.naturalHeight*Math.abs(v.scaleY||1),degree:v.rotate||0}),m=p.width,w=p.height,R=h.width*(m/h.naturalWidth),S=h.height*(w/h.naturalHeight);h.left-=(R-h.width)/2,h.top-=(S-h.height)/2,h.width=R,h.height=S,h.aspectRatio=m/w,h.naturalWidth=m,h.naturalHeight=w,this.limitCanvas(!0,!1)}(h.width>h.maxWidth||h.width<h.minWidth)&&(h.left=h.oldLeft),(h.height>h.maxHeight||h.height<h.minHeight)&&(h.top=h.oldTop),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),this.limitCanvas(!1,!0),h.left=Math.min(Math.max(h.left,h.minLeft),h.maxLeft),h.top=Math.min(Math.max(h.top,h.minTop),h.maxTop),h.oldLeft=h.left,h.oldTop=h.top,Ze(this.canvas,G({width:h.width,height:h.height},jt({translateX:h.left,translateY:h.top}))),this.renderImage(l),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(l){var c=this.canvasData,h=this.imageData,v=h.naturalWidth*(c.width/c.naturalWidth),p=h.naturalHeight*(c.height/c.naturalHeight);G(h,{width:v,height:p,left:(c.width-v)/2,top:(c.height-p)/2}),Ze(this.image,G({width:h.width,height:h.height},jt(G({translateX:h.left,translateY:h.top},h)))),l&&this.output()},initCropBox:function(){var l=this.options,c=this.canvasData,h=l.aspectRatio||l.initialAspectRatio,v=Number(l.autoCropArea)||.8,p={width:c.width,height:c.height};h&&(c.height*h>c.width?p.height=p.width/h:p.width=p.height*h),this.cropBoxData=p,this.limitCropBox(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.width=Math.max(p.minWidth,p.width*v),p.height=Math.max(p.minHeight,p.height*v),p.left=c.left+(c.width-p.width)/2,p.top=c.top+(c.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCropBoxData=G({},p)},limitCropBox:function(l,c){var h=this.options,v=this.containerData,p=this.canvasData,m=this.cropBoxData,w=this.limited,R=h.aspectRatio;if(l){var S=Number(h.minCropBoxWidth)||0,E=Number(h.minCropBoxHeight)||0,A=w?Math.min(v.width,p.width,p.width+p.left,v.width-p.left):v.width,T=w?Math.min(v.height,p.height,p.height+p.top,v.height-p.top):v.height;S=Math.min(S,v.width),E=Math.min(E,v.height),R&&(S&&E?E*R>S?E=S/R:S=E*R:S?E=S/R:E&&(S=E*R),T*R>A?T=A/R:A=T*R),m.minWidth=Math.min(S,A),m.minHeight=Math.min(E,T),m.maxWidth=A,m.maxHeight=T}c&&(w?(m.minLeft=Math.max(0,p.left),m.minTop=Math.max(0,p.top),m.maxLeft=Math.min(v.width,p.left+p.width)-m.width,m.maxTop=Math.min(v.height,p.top+p.height)-m.height):(m.minLeft=0,m.minTop=0,m.maxLeft=v.width-m.width,m.maxTop=v.height-m.height))},renderCropBox:function(){var l=this.options,c=this.containerData,h=this.cropBoxData;(h.width>h.maxWidth||h.width<h.minWidth)&&(h.left=h.oldLeft),(h.height>h.maxHeight||h.height<h.minHeight)&&(h.top=h.oldTop),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),this.limitCropBox(!1,!0),h.left=Math.min(Math.max(h.left,h.minLeft),h.maxLeft),h.top=Math.min(Math.max(h.top,h.minTop),h.maxTop),h.oldLeft=h.left,h.oldTop=h.top,l.movable&&l.cropBoxMovable&&$t(this.face,X,h.width>=c.width&&h.height>=c.height?z:M),Ze(this.cropBox,G({width:h.width,height:h.height},jt({translateX:h.left,translateY:h.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),kt(this.element,Ce,this.getData())}},sl={initPreview:function(){var l=this.element,c=this.crossOrigin,h=this.options.preview,v=c?this.crossOriginUrl:this.url,p=l.alt||"The image to preview",m=document.createElement("img");if(c&&(m.crossOrigin=c),m.src=v,m.alt=p,this.viewBox.appendChild(m),this.viewBoxImage=m,!!h){var w=h;typeof h=="string"?w=l.ownerDocument.querySelectorAll(h):h.querySelector&&(w=[h]),this.previews=w,te(w,function(R){var S=document.createElement("img");$t(R,Oe,{width:R.offsetWidth,height:R.offsetHeight,html:R.innerHTML}),c&&(S.crossOrigin=c),S.src=v,S.alt=p,S.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',R.innerHTML="",R.appendChild(S)})}},resetPreview:function(){te(this.previews,function(l){var c=rr(l,Oe);Ze(l,{width:c.width,height:c.height}),l.innerHTML=c.html,Xo(l,Oe)})},preview:function(){var l=this.imageData,c=this.canvasData,h=this.cropBoxData,v=h.width,p=h.height,m=l.width,w=l.height,R=h.left-c.left-l.left,S=h.top-c.top-l.top;!this.cropped||this.disabled||(Ze(this.viewBoxImage,G({width:m,height:w},jt(G({translateX:-R,translateY:-S},l)))),te(this.previews,function(E){var A=rr(E,Oe),T=A.width,W=A.height,U=T,Z=W,J=1;v&&(J=T/v,Z=p*J),p&&Z>W&&(J=W/p,U=v*J,Z=W),Ze(E,{width:U,height:Z}),Ze(E.getElementsByTagName("img")[0],G({width:m*J,height:w*J},jt(G({translateX:-R*J,translateY:-S*J},l))))}))}},al={bind:function(){var l=this.element,c=this.options,h=this.cropper;ve(c.cropstart)&&ke(l,dt,c.cropstart),ve(c.cropmove)&&ke(l,Se,c.cropmove),ve(c.cropend)&&ke(l,Ge,c.cropend),ve(c.crop)&&ke(l,Ce,c.crop),ve(c.zoom)&&ke(l,er,c.zoom),ke(h,An,this.onCropStart=this.cropStart.bind(this)),c.zoomable&&c.zoomOnWheel&&ke(h,Rn,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),c.toggleDragModeOnDblclick&&ke(h,Ft,this.onDblclick=this.dblclick.bind(this)),ke(l.ownerDocument,Cn,this.onCropMove=this.cropMove.bind(this)),ke(l.ownerDocument,Sn,this.onCropEnd=this.cropEnd.bind(this)),c.responsive&&ke(window,Tn,this.onResize=this.resize.bind(this))},unbind:function(){var l=this.element,c=this.options,h=this.cropper;ve(c.cropstart)&&Pe(l,dt,c.cropstart),ve(c.cropmove)&&Pe(l,Se,c.cropmove),ve(c.cropend)&&Pe(l,Ge,c.cropend),ve(c.crop)&&Pe(l,Ce,c.crop),ve(c.zoom)&&Pe(l,er,c.zoom),Pe(h,An,this.onCropStart),c.zoomable&&c.zoomOnWheel&&Pe(h,Rn,this.onWheel,{passive:!1,capture:!0}),c.toggleDragModeOnDblclick&&Pe(h,Ft,this.onDblclick),Pe(l.ownerDocument,Cn,this.onCropMove),Pe(l.ownerDocument,Sn,this.onCropEnd),c.responsive&&Pe(window,Tn,this.onResize)}},ol={resize:function(){if(!this.disabled){var l=this.options,c=this.container,h=this.containerData,v=c.offsetWidth/h.width,p=c.offsetHeight/h.height,m=Math.abs(v-1)>Math.abs(p-1)?v:p;if(m!==1){var w,R;l.restore&&(w=this.getCanvasData(),R=this.getCropBoxData()),this.render(),l.restore&&(this.setCanvasData(te(w,function(S,E){w[E]=S*m})),this.setCropBoxData(te(R,function(S,E){R[E]=S*m})))}}},dblclick:function(){this.disabled||this.options.dragMode===ct||this.setDragMode(zo(this.dragBox,ht)?Ue:we)},wheel:function(l){var c=this,h=Number(this.options.wheelZoomRatio)||.1,v=1;this.disabled||(l.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){c.wheeling=!1},50),l.deltaY?v=l.deltaY>0?1:-1:l.wheelDelta?v=-l.wheelDelta/120:l.detail&&(v=l.detail>0?1:-1),this.zoom(-v*h,l)))},cropStart:function(l){var c=l.buttons,h=l.button;if(!(this.disabled||(l.type==="mousedown"||l.type==="pointerdown"&&l.pointerType==="mouse")&&($(c)&&c!==1||$(h)&&h!==0||l.ctrlKey))){var v=this.options,p=this.pointers,m;l.changedTouches?te(l.changedTouches,function(w){p[w.identifier]=ui(w)}):p[l.pointerId||0]=ui(l),Object.keys(p).length>1&&v.zoomable&&v.zoomOnTouch?m=de:m=rr(l.target,X),Io.test(m)&&kt(this.element,dt,{originalEvent:l,action:m})!==!1&&(l.preventDefault(),this.action=m,this.cropping=!1,m===F&&(this.cropping=!0,le(this.dragBox,Y)))}},cropMove:function(l){var c=this.action;if(!(this.disabled||!c)){var h=this.pointers;l.preventDefault(),kt(this.element,Se,{originalEvent:l,action:c})!==!1&&(l.changedTouches?te(l.changedTouches,function(v){G(h[v.identifier]||{},ui(v,!0))}):G(h[l.pointerId||0]||{},ui(l,!0)),this.change(l))}},cropEnd:function(l){if(!this.disabled){var c=this.action,h=this.pointers;l.changedTouches?te(l.changedTouches,function(v){delete h[v.identifier]}):delete h[l.pointerId||0],c&&(l.preventDefault(),Object.keys(h).length||(this.action=""),this.cropping&&(this.cropping=!1,St(this.dragBox,Y,this.cropped&&this.options.modal)),kt(this.element,Ge,{originalEvent:l,action:c}))}}},ll={change:function(l){var c=this.options,h=this.canvasData,v=this.containerData,p=this.cropBoxData,m=this.pointers,w=this.action,R=c.aspectRatio,S=p.left,E=p.top,A=p.width,T=p.height,W=S+A,U=E+T,Z=0,J=0,ne=v.width,he=v.height,ie=!0,We;!R&&l.shiftKey&&(R=A&&T?A/T:1),this.limited&&(Z=p.minLeft,J=p.minTop,ne=Z+Math.min(v.width,h.width,h.left+h.width),he=J+Math.min(v.height,h.height,h.top+h.height));var _e=m[Object.keys(m)[0]],O={x:_e.endX-_e.startX,y:_e.endY-_e.startY},q=function(Te){switch(Te){case V:W+O.x>ne&&(O.x=ne-W);break;case ee:S+O.x<Z&&(O.x=Z-S);break;case I:E+O.y<J&&(O.y=J-E);break;case C:U+O.y>he&&(O.y=he-U);break}};switch(w){case M:S+=O.x,E+=O.y;break;case V:if(O.x>=0&&(W>=ne||R&&(E<=J||U>=he))){ie=!1;break}q(V),A+=O.x,A<0&&(w=ee,A=-A,S-=A),R&&(T=A/R,E+=(p.height-T)/2);break;case I:if(O.y<=0&&(E<=J||R&&(S<=Z||W>=ne))){ie=!1;break}q(I),T-=O.y,E+=O.y,T<0&&(w=C,T=-T,E-=T),R&&(A=T*R,S+=(p.width-A)/2);break;case ee:if(O.x<=0&&(S<=Z||R&&(E<=J||U>=he))){ie=!1;break}q(ee),A-=O.x,S+=O.x,A<0&&(w=V,A=-A,S-=A),R&&(T=A/R,E+=(p.height-T)/2);break;case C:if(O.y>=0&&(U>=he||R&&(S<=Z||W>=ne))){ie=!1;break}q(C),T+=O.y,T<0&&(w=I,T=-T,E-=T),R&&(A=T*R,S+=(p.width-A)/2);break;case Q:if(R){if(O.y<=0&&(E<=J||W>=ne)){ie=!1;break}q(I),T-=O.y,E+=O.y,A=T*R}else q(I),q(V),O.x>=0?W<ne?A+=O.x:O.y<=0&&E<=J&&(ie=!1):A+=O.x,O.y<=0?E>J&&(T-=O.y,E+=O.y):(T-=O.y,E+=O.y);A<0&&T<0?(w=Ke,T=-T,A=-A,E-=T,S-=A):A<0?(w=j,A=-A,S-=A):T<0&&(w=ue,T=-T,E-=T);break;case j:if(R){if(O.y<=0&&(E<=J||S<=Z)){ie=!1;break}q(I),T-=O.y,E+=O.y,A=T*R,S+=p.width-A}else q(I),q(ee),O.x<=0?S>Z?(A-=O.x,S+=O.x):O.y<=0&&E<=J&&(ie=!1):(A-=O.x,S+=O.x),O.y<=0?E>J&&(T-=O.y,E+=O.y):(T-=O.y,E+=O.y);A<0&&T<0?(w=ue,T=-T,A=-A,E-=T,S-=A):A<0?(w=Q,A=-A,S-=A):T<0&&(w=Ke,T=-T,E-=T);break;case Ke:if(R){if(O.x<=0&&(S<=Z||U>=he)){ie=!1;break}q(ee),A-=O.x,S+=O.x,T=A/R}else q(C),q(ee),O.x<=0?S>Z?(A-=O.x,S+=O.x):O.y>=0&&U>=he&&(ie=!1):(A-=O.x,S+=O.x),O.y>=0?U<he&&(T+=O.y):T+=O.y;A<0&&T<0?(w=Q,T=-T,A=-A,E-=T,S-=A):A<0?(w=ue,A=-A,S-=A):T<0&&(w=j,T=-T,E-=T);break;case ue:if(R){if(O.x>=0&&(W>=ne||U>=he)){ie=!1;break}q(V),A+=O.x,T=A/R}else q(C),q(V),O.x>=0?W<ne?A+=O.x:O.y>=0&&U>=he&&(ie=!1):A+=O.x,O.y>=0?U<he&&(T+=O.y):T+=O.y;A<0&&T<0?(w=j,T=-T,A=-A,E-=T,S-=A):A<0?(w=Ke,A=-A,S-=A):T<0&&(w=Q,T=-T,E-=T);break;case z:this.move(O.x,O.y),ie=!1;break;case de:this.zoom(qo(m),l),ie=!1;break;case F:if(!O.x||!O.y){ie=!1;break}We=Bn(this.cropper),S=_e.startX-We.left,E=_e.startY-We.top,A=p.minWidth,T=p.minHeight,O.x>0?w=O.y>0?ue:Q:O.x<0&&(S-=A,w=O.y>0?Ke:j),O.y<0&&(E-=T),this.cropped||(Me(this.cropBox,oe),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}ie&&(p.width=A,p.height=T,p.left=S,p.top=E,this.action=w,this.renderCropBox()),te(m,function(se){se.startX=se.endX,se.startY=se.endY})}},hl={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&le(this.dragBox,Y),Me(this.cropBox,oe),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=G({},this.initialImageData),this.canvasData=G({},this.initialCanvasData),this.cropBoxData=G({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(G(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Me(this.dragBox,Y),le(this.cropBox,oe)),this},replace:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&l&&(this.isImg&&(this.element.src=l),c?(this.url=l,this.image.src=l,this.ready&&(this.viewBoxImage.src=l,te(this.previews,function(h){h.getElementsByTagName("img")[0].src=l}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(l))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Me(this.cropper,di)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,le(this.cropper,di)),this},destroy:function(){var l=this.element;return l[D]?(l[D]=void 0,this.isImg&&this.replaced&&(l.src=this.originalUrl),this.uncreate(),this):this},move:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,h=this.canvasData,v=h.left,p=h.top;return this.moveTo(tr(l)?l:v+Number(l),tr(c)?c:p+Number(c))},moveTo:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,h=this.canvasData,v=!1;return l=Number(l),c=Number(c),this.ready&&!this.disabled&&this.options.movable&&($(l)&&(h.left=l,v=!0),$(c)&&(h.top=c,v=!0),v&&this.renderCanvas(!0)),this},zoom:function(l,c){var h=this.canvasData;return l=Number(l),l<0?l=1/(1-l):l=1+l,this.zoomTo(h.width*l/h.naturalWidth,null,c)},zoomTo:function(l,c,h){var v=this.options,p=this.canvasData,m=p.width,w=p.height,R=p.naturalWidth,S=p.naturalHeight;if(l=Number(l),l>=0&&this.ready&&!this.disabled&&v.zoomable){var E=R*l,A=S*l;if(kt(this.element,er,{ratio:l,oldRatio:m/R,originalEvent:h})===!1)return this;if(h){var T=this.pointers,W=Bn(this.cropper),U=T&&Object.keys(T).length?Yo(T):{pageX:h.pageX,pageY:h.pageY};p.left-=(E-m)*((U.pageX-W.left-p.left)/m),p.top-=(A-w)*((U.pageY-W.top-p.top)/w)}else At(c)&&$(c.x)&&$(c.y)?(p.left-=(E-m)*((c.x-p.left)/m),p.top-=(A-w)*((c.y-p.top)/w)):(p.left-=(E-m)/2,p.top-=(A-w)/2);p.width=E,p.height=A,this.renderCanvas(!0)}return this},rotate:function(l){return this.rotateTo((this.imageData.rotate||0)+Number(l))},rotateTo:function(l){return l=Number(l),$(l)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=l%360,this.renderCanvas(!0,!0)),this},scaleX:function(l){var c=this.imageData.scaleY;return this.scale(l,$(c)?c:1)},scaleY:function(l){var c=this.imageData.scaleX;return this.scale($(c)?c:1,l)},scale:function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,h=this.imageData,v=!1;return l=Number(l),c=Number(c),this.ready&&!this.disabled&&this.options.scalable&&($(l)&&(h.scaleX=l,v=!0),$(c)&&(h.scaleY=c,v=!0),v&&this.renderCanvas(!0,!0)),this},getData:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.options,h=this.imageData,v=this.canvasData,p=this.cropBoxData,m;if(this.ready&&this.cropped){m={x:p.left-v.left,y:p.top-v.top,width:p.width,height:p.height};var w=h.width/h.naturalWidth;if(te(m,function(E,A){m[A]=E/w}),l){var R=Math.round(m.y+m.height),S=Math.round(m.x+m.width);m.x=Math.round(m.x),m.y=Math.round(m.y),m.width=S-m.x,m.height=R-m.y}}else m={x:0,y:0,width:0,height:0};return c.rotatable&&(m.rotate=h.rotate||0),c.scalable&&(m.scaleX=h.scaleX||1,m.scaleY=h.scaleY||1),m},setData:function(l){var c=this.options,h=this.imageData,v=this.canvasData,p={};if(this.ready&&!this.disabled&&At(l)){var m=!1;c.rotatable&&$(l.rotate)&&l.rotate!==h.rotate&&(h.rotate=l.rotate,m=!0),c.scalable&&($(l.scaleX)&&l.scaleX!==h.scaleX&&(h.scaleX=l.scaleX,m=!0),$(l.scaleY)&&l.scaleY!==h.scaleY&&(h.scaleY=l.scaleY,m=!0)),m&&this.renderCanvas(!0,!0);var w=h.width/h.naturalWidth;$(l.x)&&(p.left=l.x*w+v.left),$(l.y)&&(p.top=l.y*w+v.top),$(l.width)&&(p.width=l.width*w),$(l.height)&&(p.height=l.height*w),this.setCropBoxData(p)}return this},getContainerData:function(){return this.ready?G({},this.containerData):{}},getImageData:function(){return this.sized?G({},this.imageData):{}},getCanvasData:function(){var l=this.canvasData,c={};return this.ready&&te(["left","top","width","height","naturalWidth","naturalHeight"],function(h){c[h]=l[h]}),c},setCanvasData:function(l){var c=this.canvasData,h=c.aspectRatio;return this.ready&&!this.disabled&&At(l)&&($(l.left)&&(c.left=l.left),$(l.top)&&(c.top=l.top),$(l.width)?(c.width=l.width,c.height=l.width/h):$(l.height)&&(c.height=l.height,c.width=l.height*h),this.renderCanvas(!0)),this},getCropBoxData:function(){var l=this.cropBoxData,c;return this.ready&&this.cropped&&(c={left:l.left,top:l.top,width:l.width,height:l.height}),c||{}},setCropBoxData:function(l){var c=this.cropBoxData,h=this.options.aspectRatio,v,p;return this.ready&&this.cropped&&!this.disabled&&At(l)&&($(l.left)&&(c.left=l.left),$(l.top)&&(c.top=l.top),$(l.width)&&l.width!==c.width&&(v=!0,c.width=l.width),$(l.height)&&l.height!==c.height&&(p=!0,c.height=l.height),h&&(v?c.height=c.width/h:p&&(c.width=c.height*h)),this.renderCropBox()),this},getCroppedCanvas:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var c=this.canvasData,h=Go(this.image,this.imageData,c,l);if(!this.cropped)return h;var v=this.getData(),p=v.x,m=v.y,w=v.width,R=v.height,S=h.width/Math.floor(c.naturalWidth);S!==1&&(p*=S,m*=S,w*=S,R*=S);var E=w/R,A=Qe({aspectRatio:E,width:l.maxWidth||1/0,height:l.maxHeight||1/0}),T=Qe({aspectRatio:E,width:l.minWidth||0,height:l.minHeight||0},"cover"),W=Qe({aspectRatio:E,width:l.width||(S!==1?h.width:w),height:l.height||(S!==1?h.height:R)}),U=W.width,Z=W.height;U=Math.min(A.width,Math.max(T.width,U)),Z=Math.min(A.height,Math.max(T.height,Z));var J=document.createElement("canvas"),ne=J.getContext("2d");J.width=Ct(U),J.height=Ct(Z),ne.fillStyle=l.fillColor||"transparent",ne.fillRect(0,0,U,Z);var he=l.imageSmoothingEnabled,ie=he===void 0?!0:he,We=l.imageSmoothingQuality;ne.imageSmoothingEnabled=ie,We&&(ne.imageSmoothingQuality=We);var _e=h.width,O=h.height,q=p,se=m,Te,ze,ft,pt,et,Ne;q<=-w||q>_e?(q=0,Te=0,ft=0,et=0):q<=0?(ft=-q,q=0,Te=Math.min(_e,w+q),et=Te):q<=_e&&(ft=0,Te=Math.min(w,_e-q),et=Te),Te<=0||se<=-R||se>O?(se=0,ze=0,pt=0,Ne=0):se<=0?(pt=-se,se=0,ze=Math.min(O,R+se),Ne=ze):se<=O&&(pt=0,ze=Math.min(R,O-se),Ne=ze);var be=[q,se,Te,ze];if(et>0&&Ne>0){var gt=U/w;be.push(ft*gt,pt*gt,et*gt,Ne*gt)}return ne.drawImage.apply(ne,[h].concat(o(be.map(function(fi){return Math.floor(Ct(fi))})))),J},setAspectRatio:function(l){var c=this.options;return!this.disabled&&!tr(l)&&(c.aspectRatio=Math.max(0,l)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(l){var c=this.options,h=this.dragBox,v=this.face;if(this.ready&&!this.disabled){var p=l===we,m=c.movable&&l===Ue;l=p||m?l:ct,c.dragMode=l,$t(h,X,l),St(h,ht,p),St(h,B,m),c.cropBoxMovable||($t(v,X,l),St(v,ht,p),St(v,B,m))}return this}},cl=k.Cropper,Un=function(){function u(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r(this,u),!l||!Ho.test(l.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=l,this.options=G({},Ln,At(c)&&c),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return s(u,[{key:"init",value:function(){var c=this.element,h=c.tagName.toLowerCase(),v;if(!c[D]){if(c[D]=this,h==="img"){if(this.isImg=!0,v=c.getAttribute("src")||"",this.originalUrl=v,!v)return;v=c.src}else h==="canvas"&&window.HTMLCanvasElement&&(v=c.toDataURL());this.load(v)}}},{key:"load",value:function(c){var h=this;if(c){this.url=c,this.imageData={};var v=this.element,p=this.options;if(!p.rotatable&&!p.scalable&&(p.checkOrientation=!1),!p.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Mo.test(c)){No.test(c)?this.read(el(c)):this.clone();return}var m=new XMLHttpRequest,w=this.clone.bind(this);this.reloading=!0,this.xhr=m,m.onabort=w,m.onerror=w,m.ontimeout=w,m.onprogress=function(){m.getResponseHeader("content-type")!==On&&m.abort()},m.onload=function(){h.read(m.response)},m.onloadend=function(){h.reloading=!1,h.xhr=null},p.checkCrossOrigin&&Fn(c)&&v.crossOrigin&&(c=$n(c)),m.open("GET",c,!0),m.responseType="arraybuffer",m.withCredentials=v.crossOrigin==="use-credentials",m.send()}}},{key:"read",value:function(c){var h=this.options,v=this.imageData,p=il(c),m=0,w=1,R=1;if(p>1){this.url=tl(c,On);var S=rl(p);m=S.rotate,w=S.scaleX,R=S.scaleY}h.rotatable&&(v.rotate=m),h.scalable&&(v.scaleX=w,v.scaleY=R),this.clone()}},{key:"clone",value:function(){var c=this.element,h=this.url,v=c.crossOrigin,p=h;this.options.checkCrossOrigin&&Fn(h)&&(v||(v="anonymous"),p=$n(h)),this.crossOrigin=v,this.crossOriginUrl=p;var m=document.createElement("img");v&&(m.crossOrigin=v),m.src=p||h,m.alt=c.alt||"The image to crop",this.image=m,m.onload=this.start.bind(this),m.onerror=this.stop.bind(this),le(m,H),c.parentNode.insertBefore(m,c.nextSibling)}},{key:"start",value:function(){var c=this,h=this.image;h.onload=null,h.onerror=null,this.sizing=!0;var v=k.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(k.navigator.userAgent),p=function(S,E){G(c.imageData,{naturalWidth:S,naturalHeight:E,aspectRatio:S/E}),c.initialImageData=G({},c.imageData),c.sizing=!1,c.sized=!0,c.build()};if(h.naturalWidth&&!v){p(h.naturalWidth,h.naturalHeight);return}var m=document.createElement("img"),w=document.body||document.documentElement;this.sizingImage=m,m.onload=function(){p(m.width,m.height),v||w.removeChild(m)},m.src=h.src,v||(m.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",w.appendChild(m))}},{key:"stop",value:function(){var c=this.image;c.onload=null,c.onerror=null,c.parentNode.removeChild(c),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var c=this.element,h=this.options,v=this.image,p=c.parentNode,m=document.createElement("div");m.innerHTML=Bo;var w=m.querySelector(".".concat(D,"-container")),R=w.querySelector(".".concat(D,"-canvas")),S=w.querySelector(".".concat(D,"-drag-box")),E=w.querySelector(".".concat(D,"-crop-box")),A=E.querySelector(".".concat(D,"-face"));this.container=p,this.cropper=w,this.canvas=R,this.dragBox=S,this.cropBox=E,this.viewBox=w.querySelector(".".concat(D,"-view-box")),this.face=A,R.appendChild(v),le(c,oe),p.insertBefore(w,c.nextSibling),Me(v,H),this.initPreview(),this.bind(),h.initialAspectRatio=Math.max(0,h.initialAspectRatio)||NaN,h.aspectRatio=Math.max(0,h.aspectRatio)||NaN,h.viewMode=Math.max(0,Math.min(3,Math.round(h.viewMode)))||0,le(E,oe),h.guides||le(E.getElementsByClassName("".concat(D,"-dashed")),oe),h.center||le(E.getElementsByClassName("".concat(D,"-center")),oe),h.background&&le(w,"".concat(D,"-bg")),h.highlight||le(A,N),h.cropBoxMovable&&(le(A,B),$t(A,X,M)),h.cropBoxResizable||(le(E.getElementsByClassName("".concat(D,"-line")),oe),le(E.getElementsByClassName("".concat(D,"-point")),oe)),this.render(),this.ready=!0,this.setDragMode(h.dragMode),h.autoCrop&&this.crop(),this.setData(h.data),ve(h.ready)&&ke(c,kn,h.ready,{once:!0}),kt(c,kn)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var c=this.cropper.parentNode;c&&c.removeChild(this.cropper),Me(this.element,oe)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=cl,u}},{key:"setDefaults",value:function(c){G(Ln,At(c)&&c)}}]),u}();return G(Un.prototype,nl,sl,al,ol,ll,hl),Un})});(function(){var e=t();function t(){if(typeof window.CustomEvent=="function")return window.CustomEvent;function n(s,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(s,a.bubbles,a.cancelable,a.detail),o}return n.prototype=window.Event.prototype,n}function i(n,s){var a=document.createElement("input");return a.type="hidden",a.name=n,a.value=s,a}function r(n,s){var a=n.getAttribute("data-to"),o=i("_method",n.getAttribute("data-method")),d=i("_csrf_token",n.getAttribute("data-csrf")),f=document.createElement("form"),g=document.createElement("input"),x=n.getAttribute("target");f.method=n.getAttribute("data-method")==="get"?"get":"post",f.action=a,f.style.display="none",x?f.target=x:s&&(f.target="_blank"),f.appendChild(d),f.appendChild(o),document.body.appendChild(f),g.type="submit",f.appendChild(g),g.click()}window.addEventListener("click",function(n){var s=n.target;if(!n.defaultPrevented)for(;s&&s.getAttribute;){var a=new e("phoenix.link.click",{bubbles:!0,cancelable:!0});if(!s.dispatchEvent(a))return n.preventDefault(),n.stopImmediatePropagation(),!1;if(s.getAttribute("data-method"))return r(s,n.metaKey||n.shiftKey),n.preventDefault(),!1;s=s.parentNode}},!1),window.addEventListener("phoenix.link.click",function(n){var s=n.target.getAttribute("data-confirm");s&&!window.confirm(s)&&n.preventDefault()},!1)})();var pr=!1,gr=!1,bt=[],mr=-1;function wl(e){_l(e)}function _l(e){bt.includes(e)||bt.push(e),xl()}function us(e){let t=bt.indexOf(e);t!==-1&&t>mr&&bt.splice(t,1)}function xl(){!gr&&!pr&&(pr=!0,queueMicrotask(El))}function El(){pr=!1,gr=!0;for(let e=0;e<bt.length;e++)bt[e](),mr=e;bt.length=0,mr=-1,gr=!1}var Ot,xt,Pt,fs,vr=!0;function Al(e){vr=!1,e(),vr=!0}function Cl(e){Ot=e.reactive,Pt=e.release,xt=t=>e.effect(t,{scheduler:i=>{vr?wl(i):i()}}),fs=e.raw}function Zn(e){xt=e}function Sl(e){let t=()=>{};return[r=>{let n=xt(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(s=>s())}),e._x_effects.add(n),t=()=>{n!==void 0&&(e._x_effects.delete(n),Pt(n))},n},()=>{t()}]}function ps(e,t){let i=!0,r,n=xt(()=>{let s=e();JSON.stringify(s),i?r=s:queueMicrotask(()=>{t(s,r),r=s}),i=!1});return()=>Pt(n)}function Xt(e,t,i={}){e.dispatchEvent(new CustomEvent(t,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function it(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(n=>it(n,t));return}let i=!1;if(t(e,()=>i=!0),i)return;let r=e.firstElementChild;for(;r;)it(r,t,!1),r=r.nextElementSibling}function De(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var Qn=!1;function kl(){Qn&&De("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Qn=!0,document.body||De("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Xt(document,"alpine:init"),Xt(document,"alpine:initializing"),Hr(),Ol(t=>Ve(t,it)),Ir(t=>Lr(t)),As((t,i)=>{jr(t,i).forEach(r=>r())});let e=t=>!Ci(t.parentElement,!0);Array.from(document.querySelectorAll(vs().join(","))).filter(e).forEach(t=>{Ve(t)}),Xt(document,"alpine:initialized")}var Dr=[],gs=[];function ms(){return Dr.map(e=>e())}function vs(){return Dr.concat(gs).map(e=>e())}function bs(e){Dr.push(e)}function ys(e){gs.push(e)}function Ci(e,t=!1){return Yt(e,i=>{if((t?vs():ms()).some(n=>i.matches(n)))return!0})}function Yt(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Yt(e.parentElement,t)}}function Tl(e){return ms().some(t=>e.matches(t))}var ws=[];function Rl(e){ws.push(e)}function Ve(e,t=it,i=()=>{}){zl(()=>{t(e,(r,n)=>{if(r._x_inited){r._x_ignore&&n();return}i(r,n),ws.forEach(s=>s(r,n)),jr(r,r.attributes).forEach(s=>s()),r._x_ignore?n():r._x_inited=!0})})}function Lr(e,t=it){t(e,i=>{Ss(i),Pl(i),delete i._x_inited})}var _s=[],xs=[],Es=[];function Ol(e){Es.push(e)}function Ir(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,xs.push(t))}function As(e){_s.push(e)}function Cs(e,t,i){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(i)}function Ss(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([i,r])=>{(t===void 0||t.includes(i))&&(r.forEach(n=>n()),delete e._x_attributeCleanups[i])})}function Pl(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}var Mr=new MutationObserver(Fr),Nr=!1;function Hr(){Mr.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Nr=!0}function ks(){Dl(),Mr.disconnect(),Nr=!1}var Ut=[];function Dl(){let e=Mr.takeRecords();Ut.push(()=>e.length>0&&Fr(e));let t=Ut.length;queueMicrotask(()=>{if(Ut.length===t)for(;Ut.length>0;)Ut.shift()()})}function ae(e){if(!Nr)return e();ks();let t=e();return Hr(),t}var Br=!1,xi=[];function Ll(){Br=!0}function Il(){Br=!1,Fr(xi),xi=[]}function Fr(e){if(Br){xi=xi.concat(e);return}let t=new Set,i=new Set,r=new Map,n=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&(e[s].type==="childList"&&(e[s].addedNodes.forEach(a=>a.nodeType===1&&t.add(a)),e[s].removedNodes.forEach(a=>a.nodeType===1&&i.add(a))),e[s].type==="attributes")){let a=e[s].target,o=e[s].attributeName,d=e[s].oldValue,f=()=>{r.has(a)||r.set(a,[]),r.get(a).push({name:o,value:a.getAttribute(o)})},g=()=>{n.has(a)||n.set(a,[]),n.get(a).push(o)};a.hasAttribute(o)&&d===null?f():a.hasAttribute(o)?(g(),f()):g()}n.forEach((s,a)=>{Ss(a,s)}),r.forEach((s,a)=>{_s.forEach(o=>o(a,s))});for(let s of i)t.has(s)||(xs.forEach(a=>a(s)),Lr(s));t.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of t)s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,Es.forEach(a=>a(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);t.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),t=null,i=null,r=null,n=null}function Ts(e){return Gt(Tt(e))}function Kt(e,t,i){return e._x_dataStack=[t,...Tt(i||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function Tt(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Tt(e.host):e.parentNode?Tt(e.parentNode):[]}function Gt(e){return new Proxy({objects:e},Ml)}var Ml={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(i=>Reflect.has(i,t))},get({objects:e},t,i){return t=="toJSON"?Nl:Reflect.get(e.find(r=>Reflect.has(r,t))||{},t,i)},set({objects:e},t,i,r){let n=e.find(a=>Reflect.has(a,t))||e[e.length-1],s=Object.getOwnPropertyDescriptor(n,t);return s!=null&&s.set&&(s!=null&&s.get)?Reflect.set(n,t,i,r):Reflect.set(n,t,i)}};function Nl(){return Reflect.ownKeys(this).reduce((t,i)=>(t[i]=Reflect.get(this,i),t),{})}function Rs(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,i=(r,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([s,{value:a,enumerable:o}])=>{if(o===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let d=n===""?s:`${n}.${s}`;typeof a=="object"&&a!==null&&a._x_interceptor?r[s]=a.initialize(e,d,s):t(a)&&a!==r&&!(a instanceof Element)&&i(a,d)})};return i(e)}function Os(e,t=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(r,n,s){return e(this.initialValue,()=>Hl(r,n),a=>br(r,n,a),n,s)}};return t(i),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let n=i.initialize.bind(i);i.initialize=(s,a,o)=>{let d=r.initialize(s,a,o);return i.initialValue=d,n(s,a,o)}}else i.initialValue=r;return i}}function Hl(e,t){return t.split(".").reduce((i,r)=>i[r],e)}function br(e,t,i){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=i;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),br(e[t[0]],t.slice(1),i)}}var Ps={};function Ie(e,t){Ps[e]=t}function yr(e,t){return Object.entries(Ps).forEach(([i,r])=>{let n=null;function s(){if(n)return n;{let[a,o]=Hs(t);return n=fe({interceptor:Os},a),Ir(t,o),n}}Object.defineProperty(e,`$${i}`,{get(){return r(t,s())},enumerable:!1})}),e}function Bl(e,t,i,...r){try{return i(...r)}catch(n){qt(n,e,t)}}function qt(e,t,i=void 0){e=Object.assign(e!=null?e:{message:"No error message given."},{el:t,expression:i}),console.warn(`Alpine Expression Error: ${e.message}

${i?'Expression: "'+i+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var wi=!0;function Ds(e){let t=wi;wi=!1;let i=e();return wi=t,i}function yt(e,t,i={}){let r;return me(e,t)(n=>r=n,i),r}function me(...e){return Ls(...e)}var Ls=Is;function Fl(e){Ls=e}function Is(e,t){let i={};yr(i,e);let r=[i,...Tt(e)],n=typeof t=="function"?$l(r,t):Ul(r,t,e);return Bl.bind(null,e,t,n)}function $l(e,t){return(i=()=>{},{scope:r={},params:n=[]}={})=>{let s=t.apply(Gt([r,...e]),n);Ei(i,s)}}var cr={};function jl(e,t){if(cr[e])return cr[e];let i=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,s=(()=>{try{let a=new i(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${e}`}),a}catch(a){return qt(a,t,e),Promise.resolve()}})();return cr[e]=s,s}function Ul(e,t,i){let r=jl(t,i);return(n=()=>{},{scope:s={},params:a=[]}={})=>{r.result=void 0,r.finished=!1;let o=Gt([s,...e]);if(typeof r=="function"){let d=r(r,o).catch(f=>qt(f,i,t));r.finished?(Ei(n,r.result,o,a,i),r.result=void 0):d.then(f=>{Ei(n,f,o,a,i)}).catch(f=>qt(f,i,t)).finally(()=>r.result=void 0)}}}function Ei(e,t,i,r,n){if(wi&&typeof t=="function"){let s=t.apply(i,r);s instanceof Promise?s.then(a=>Ei(e,a,i,r)).catch(a=>qt(a,n,t)):e(s)}else typeof t=="object"&&t instanceof Promise?t.then(s=>e(s)):e(t)}var $r="x-";function Dt(e=""){return $r+e}function Wl(e){$r=e}var wr={};function re(e,t){return wr[e]=t,{before(i){if(!wr[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${e}\` will use the default order of execution`);return}let r=vt.indexOf(i);vt.splice(r>=0?r:vt.indexOf("DEFAULT"),0,e)}}}function jr(e,t,i){if(t=Array.from(t),e._x_virtualDirectives){let s=Object.entries(e._x_virtualDirectives).map(([o,d])=>({name:o,value:d})),a=Ms(s);s=s.map(o=>a.find(d=>d.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),t=t.concat(s)}let r={};return t.map($s((s,a)=>r[s]=a)).filter(Us).map(Xl(r,i)).sort(Jl).map(s=>Vl(e,s))}function Ms(e){return Array.from(e).map($s()).filter(t=>!Us(t))}var _r=!1,Vt=new Map,Ns=Symbol();function zl(e){_r=!0;let t=Symbol();Ns=t,Vt.set(t,[]);let i=()=>{for(;Vt.get(t).length;)Vt.get(t).shift()();Vt.delete(t)},r=()=>{_r=!1,i()};e(i),r()}function Hs(e){let t=[],i=o=>t.push(o),[r,n]=Sl(e);return t.push(n),[{Alpine:Zt,effect:r,cleanup:i,evaluateLater:me.bind(me,e),evaluate:yt.bind(yt,e)},()=>t.forEach(o=>o())]}function Vl(e,t){let i=()=>{},r=wr[t.type]||i,[n,s]=Hs(e);Cs(e,t.original,s);let a=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,n),r=r.bind(r,e,t,n),_r?Vt.get(Ns).push(r):r())};return a.runCleanups=s,a}var Bs=(e,t)=>({name:i,value:r})=>(i.startsWith(e)&&(i=i.replace(e,t)),{name:i,value:r}),Fs=e=>e;function $s(e=()=>{}){return({name:t,value:i})=>{let{name:r,value:n}=js.reduce((s,a)=>a(s),{name:t,value:i});return r!==t&&e(r,t),{name:r,value:n}}}var js=[];function Ur(e){js.push(e)}function Us({name:e}){return Ws().test(e)}var Ws=()=>new RegExp(`^${$r}([^:^.]+)\\b`);function Xl(e,t){return({name:i,value:r})=>{let n=i.match(Ws()),s=i.match(/:([a-zA-Z0-9\-_:]+)/),a=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],o=t||e[i]||i;return{type:n?n[1]:null,value:s?s[1]:null,modifiers:a.map(d=>d.replace(".","")),expression:r,original:o}}}var xr="DEFAULT",vt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",xr,"teleport"];function Jl(e,t){let i=vt.indexOf(e.type)===-1?xr:e.type,r=vt.indexOf(t.type)===-1?xr:t.type;return vt.indexOf(i)-vt.indexOf(r)}var Er=[],Wr=!1;function zr(e=()=>{}){return queueMicrotask(()=>{Wr||setTimeout(()=>{Ar()})}),new Promise(t=>{Er.push(()=>{e(),t()})})}function Ar(){for(Wr=!1;Er.length;)Er.shift()()}function ql(){Wr=!0}function Vr(e,t){return Array.isArray(t)?es(e,t.join(" ")):typeof t=="object"&&t!==null?Yl(e,t):typeof t=="function"?Vr(e,t()):es(e,t)}function es(e,t){let i=s=>s.split(" ").filter(Boolean),r=s=>s.split(" ").filter(a=>!e.classList.contains(a)).filter(Boolean),n=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",n(r(t))}function Yl(e,t){let i=o=>o.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([o,d])=>d?i(o):!1).filter(Boolean),n=Object.entries(t).flatMap(([o,d])=>d?!1:i(o)).filter(Boolean),s=[],a=[];return n.forEach(o=>{e.classList.contains(o)&&(e.classList.remove(o),a.push(o))}),r.forEach(o=>{e.classList.contains(o)||(e.classList.add(o),s.push(o))}),()=>{a.forEach(o=>e.classList.add(o)),s.forEach(o=>e.classList.remove(o))}}function Si(e,t){return typeof t=="object"&&t!==null?Kl(e,t):Gl(e,t)}function Kl(e,t){let i={};return Object.entries(t).forEach(([r,n])=>{i[r]=e.style[r],r.startsWith("--")||(r=Zl(r)),e.style.setProperty(r,n)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{Si(e,i)}}function Gl(e,t){let i=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",i||"")}}function Zl(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cr(e,t=()=>{}){let i=!1;return function(){i?t.apply(this,arguments):(i=!0,e.apply(this,arguments))}}re("transition",(e,{value:t,modifiers:i,expression:r},{evaluate:n})=>{typeof r=="function"&&(r=n(r)),r!==!1&&(!r||typeof r=="boolean"?eh(e,i,t):Ql(e,r,t))});function Ql(e,t,i){zs(e,Vr,""),{enter:n=>{e._x_transition.enter.during=n},"enter-start":n=>{e._x_transition.enter.start=n},"enter-end":n=>{e._x_transition.enter.end=n},leave:n=>{e._x_transition.leave.during=n},"leave-start":n=>{e._x_transition.leave.start=n},"leave-end":n=>{e._x_transition.leave.end=n}}[i](t)}function eh(e,t,i){zs(e,Si);let r=!t.includes("in")&&!t.includes("out")&&!i,n=r||t.includes("in")||["enter"].includes(i),s=r||t.includes("out")||["leave"].includes(i);t.includes("in")&&!r&&(t=t.filter((D,M)=>M<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((D,M)=>M>t.indexOf("out")));let a=!t.includes("opacity")&&!t.includes("scale"),o=a||t.includes("opacity"),d=a||t.includes("scale"),f=o?0:1,g=d?Wt(t,"scale",95)/100:1,x=Wt(t,"delay",0)/1e3,_=Wt(t,"origin","center"),b="opacity, transform",k=Wt(t,"duration",150)/1e3,L=Wt(t,"duration",75)/1e3,P="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(e._x_transition.enter.during={transformOrigin:_,transitionDelay:`${x}s`,transitionProperty:b,transitionDuration:`${k}s`,transitionTimingFunction:P},e._x_transition.enter.start={opacity:f,transform:`scale(${g})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(e._x_transition.leave.during={transformOrigin:_,transitionDelay:`${x}s`,transitionProperty:b,transitionDuration:`${L}s`,transitionTimingFunction:P},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:f,transform:`scale(${g})`})}function zs(e,t,i={}){e._x_transition||(e._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(r=()=>{},n=()=>{}){Sr(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,n)},out(r=()=>{},n=()=>{}){Sr(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,i,r){let n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>n(i);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(i):s():e._x_transition?e._x_transition.in(i):s();return}e._x_hidePromise=e._x_transition?new Promise((a,o)=>{e._x_transition.out(()=>{},()=>a(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>o({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let a=Vs(e);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(e)):n(()=>{let o=d=>{let f=Promise.all([d._x_hidePromise,...(d._x_hideChildren||[]).map(o)]).then(([g])=>g());return delete d._x_hidePromise,delete d._x_hideChildren,f};o(e).catch(d=>{if(!d.isFromCancelledTransition)throw d})})})};function Vs(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Vs(t)}function Sr(e,t,{during:i,start:r,end:n}={},s=()=>{},a=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(r).length===0&&Object.keys(n).length===0){s(),a();return}let o,d,f;th(e,{start(){o=t(e,r)},during(){d=t(e,i)},before:s,end(){o(),f=t(e,n)},after:a,cleanup(){d(),f()}})}function th(e,t){let i,r,n,s=Cr(()=>{ae(()=>{i=!0,r||t.before(),n||(t.end(),Ar()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:Cr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},ae(()=>{t.start(),t.during()}),ql(),requestAnimationFrame(()=>{if(i)return;let a=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,o=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),ae(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{i||(ae(()=>{t.end()}),Ar(),setTimeout(e._x_transitioning.finish,a+o),n=!0)})})}function Wt(e,t,i){if(e.indexOf(t)===-1)return i;let r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return i;if(t==="duration"||t==="delay"){let n=r.match(/([0-9]+)ms/);if(n)return n[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var rt=!1;function Et(e,t=()=>{}){return(...i)=>rt?t(...i):e(...i)}function ih(e){return(...t)=>rt&&e(...t)}var Xs=[];function ki(e){Xs.push(e)}function rh(e,t){Xs.forEach(i=>i(e,t)),rt=!0,Js(()=>{Ve(t,(i,r)=>{r(i,()=>{})})}),rt=!1}var kr=!1;function nh(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),rt=!0,kr=!0,Js(()=>{sh(t)}),rt=!1,kr=!1}function sh(e){let t=!1;Ve(e,(r,n)=>{it(r,(s,a)=>{if(t&&Tl(s))return a();t=!0,n(s,a)})})}function Js(e){let t=xt;Zn((i,r)=>{let n=t(i);return Pt(n),()=>{}}),e(),Zn(t)}function qs(e,t,i,r=[]){switch(e._x_bindings||(e._x_bindings=Ot({})),e._x_bindings[t]=i,t=r.includes("camel")?fh(t):t,t){case"value":ah(e,i);break;case"style":lh(e,i);break;case"class":oh(e,i);break;case"selected":case"checked":hh(e,t,i);break;default:Ys(e,t,i);break}}function ah(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=_i(e.value)===t:e.checked=ts(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(i=>ts(i,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")uh(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function oh(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Vr(e,t)}function lh(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Si(e,t)}function hh(e,t,i){Ys(e,t,i),dh(e,t,i)}function Ys(e,t,i){[null,void 0,!1].includes(i)&&ph(t)?e.removeAttribute(t):(Ks(t)&&(i=t),ch(e,t,i))}function ch(e,t,i){e.getAttribute(t)!=i&&e.setAttribute(t,i)}function dh(e,t,i){e[t]!==i&&(e[t]=i)}function uh(e,t){let i=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=i.includes(r.value)})}function fh(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())}function ts(e,t){return e==t}function _i(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}function Ks(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function ph(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function gh(e,t,i){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:Gs(e,t,i)}function mh(e,t,i,r=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let n=e._x_inlineBindings[t];return n.extract=r,Ds(()=>yt(e,n.expression))}return Gs(e,t,i)}function Gs(e,t,i){let r=e.getAttribute(t);return r===null?typeof i=="function"?i():i:r===""?!0:Ks(t)?!![t,"true"].includes(r):r}function Zs(e,t){var i;return function(){var r=this,n=arguments,s=function(){i=null,e.apply(r,n)};clearTimeout(i),i=setTimeout(s,t)}}function Qs(e,t){let i;return function(){let r=this,n=arguments;i||(e.apply(r,n),i=!0,setTimeout(()=>i=!1,t))}}function ea({get:e,set:t},{get:i,set:r}){let n=!0,s,a,o=xt(()=>{let d=e(),f=i();if(n)r(dr(d)),n=!1;else{let g=JSON.stringify(d),x=JSON.stringify(f);g!==s?r(dr(d)):g!==x&&t(dr(f))}s=JSON.stringify(e()),a=JSON.stringify(i())});return()=>{Pt(o)}}function dr(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function vh(e){(Array.isArray(e)?e:[e]).forEach(i=>i(Zt))}var mt={},is=!1;function bh(e,t){if(is||(mt=Ot(mt),is=!0),t===void 0)return mt[e];mt[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&mt[e].init(),Rs(mt[e])}function yh(){return mt}var ta={};function wh(e,t){let i=typeof t!="function"?()=>t:t;return e instanceof Element?ia(e,i()):(ta[e]=i,()=>{})}function _h(e){return Object.entries(ta).forEach(([t,i])=>{Object.defineProperty(e,t,{get(){return(...r)=>i(...r)}})}),e}function ia(e,t,i){let r=[];for(;r.length;)r.pop()();let n=Object.entries(t).map(([a,o])=>({name:a,value:o})),s=Ms(n);return n=n.map(a=>s.find(o=>o.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),jr(e,n,i).map(a=>{r.push(a.runCleanups),a()}),()=>{for(;r.length;)r.pop()()}}var ra={};function xh(e,t){ra[e]=t}function Eh(e,t){return Object.entries(ra).forEach(([i,r])=>{Object.defineProperty(e,i,{get(){return(...n)=>r.bind(t)(...n)},enumerable:!1})}),e}var Ah={get reactive(){return Ot},get release(){return Pt},get effect(){return xt},get raw(){return fs},version:"3.13.6",flushAndStopDeferringMutations:Il,dontAutoEvaluateFunctions:Ds,disableEffectScheduling:Al,startObservingMutations:Hr,stopObservingMutations:ks,setReactivityEngine:Cl,onAttributeRemoved:Cs,onAttributesAdded:As,closestDataStack:Tt,skipDuringClone:Et,onlyDuringClone:ih,addRootSelector:bs,addInitSelector:ys,interceptClone:ki,addScopeToNode:Kt,deferMutations:Ll,mapAttributes:Ur,evaluateLater:me,interceptInit:Rl,setEvaluator:Fl,mergeProxies:Gt,extractProp:mh,findClosest:Yt,onElRemoved:Ir,closestRoot:Ci,destroyTree:Lr,interceptor:Os,transition:Sr,setStyles:Si,mutateDom:ae,directive:re,entangle:ea,throttle:Qs,debounce:Zs,evaluate:yt,initTree:Ve,nextTick:zr,prefixed:Dt,prefix:Wl,plugin:vh,magic:Ie,store:bh,start:kl,clone:nh,cloneNode:rh,bound:gh,$data:Ts,watch:ps,walk:it,data:xh,bind:wh},Zt=Ah;function na(e,t){let i=Object.create(null),r=e.split(",");for(let n=0;n<r.length;n++)i[r[n]]=!0;return t?n=>!!i[n.toLowerCase()]:n=>!!i[n]}var Ch="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Id=na(Ch+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Sh=Object.freeze({}),Md=Object.freeze([]),kh=Object.prototype.hasOwnProperty,Ti=(e,t)=>kh.call(e,t),wt=Array.isArray,Jt=e=>sa(e)==="[object Map]",Th=e=>typeof e=="string",Xr=e=>typeof e=="symbol",Ri=e=>e!==null&&typeof e=="object",Rh=Object.prototype.toString,sa=e=>Rh.call(e),aa=e=>sa(e).slice(8,-1),Jr=e=>Th(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Oi=e=>{let t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Oh=/-(\w)/g,Nd=Oi(e=>e.replace(Oh,(t,i)=>i?i.toUpperCase():"")),Ph=/\B([A-Z])/g,Hd=Oi(e=>e.replace(Ph,"-$1").toLowerCase()),oa=Oi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bd=Oi(e=>e?`on${oa(e)}`:""),la=(e,t)=>e!==t&&(e===e||t===t),Tr=new WeakMap,zt=[],He,_t=Symbol("iterate"),Rr=Symbol("Map key iterate");function Dh(e){return e&&e._isEffect===!0}function Lh(e,t=Sh){Dh(e)&&(e=e.raw);let i=Nh(e,t);return t.lazy||i(),i}function Ih(e){e.active&&(ha(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var Mh=0;function Nh(e,t){let i=function(){if(!i.active)return e();if(!zt.includes(i)){ha(i);try{return Bh(),zt.push(i),He=i,e()}finally{zt.pop(),ca(),He=zt[zt.length-1]}}};return i.id=Mh++,i.allowRecurse=!!t.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=e,i.deps=[],i.options=t,i}function ha(e){let{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}var Rt=!0,qr=[];function Hh(){qr.push(Rt),Rt=!1}function Bh(){qr.push(Rt),Rt=!0}function ca(){let e=qr.pop();Rt=e===void 0?!0:e}function Le(e,t,i){if(!Rt||He===void 0)return;let r=Tr.get(e);r||Tr.set(e,r=new Map);let n=r.get(i);n||r.set(i,n=new Set),n.has(He)||(n.add(He),He.deps.push(n),He.options.onTrack&&He.options.onTrack({effect:He,target:e,type:t,key:i}))}function nt(e,t,i,r,n,s){let a=Tr.get(e);if(!a)return;let o=new Set,d=g=>{g&&g.forEach(x=>{(x!==He||x.allowRecurse)&&o.add(x)})};if(t==="clear")a.forEach(d);else if(i==="length"&&wt(e))a.forEach((g,x)=>{(x==="length"||x>=r)&&d(g)});else switch(i!==void 0&&d(a.get(i)),t){case"add":wt(e)?Jr(i)&&d(a.get("length")):(d(a.get(_t)),Jt(e)&&d(a.get(Rr)));break;case"delete":wt(e)||(d(a.get(_t)),Jt(e)&&d(a.get(Rr)));break;case"set":Jt(e)&&d(a.get(_t));break}let f=g=>{g.options.onTrigger&&g.options.onTrigger({effect:g,target:e,key:i,type:t,newValue:r,oldValue:n,oldTarget:s}),g.options.scheduler?g.options.scheduler(g):g()};o.forEach(f)}var Fh=na("__proto__,__v_isRef,__isVue"),da=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Xr)),$h=ua(),jh=ua(!0),rs=Uh();function Uh(){let e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){let r=K(this);for(let s=0,a=this.length;s<a;s++)Le(r,"get",s+"");let n=r[t](...i);return n===-1||n===!1?r[t](...i.map(K)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){Hh();let r=K(this)[t].apply(this,i);return ca(),r}}),e}function ua(e=!1,t=!1){return function(r,n,s){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_raw"&&s===(e?t?nc:ma:t?rc:ga).get(r))return r;let a=wt(r);if(!e&&a&&Ti(rs,n))return Reflect.get(rs,n,s);let o=Reflect.get(r,n,s);return(Xr(n)?da.has(n):Fh(n))||(e||Le(r,"get",n),t)?o:Or(o)?!a||!Jr(n)?o.value:o:Ri(o)?e?va(o):Zr(o):o}}var Wh=zh();function zh(e=!1){return function(i,r,n,s){let a=i[r];if(!e&&(n=K(n),a=K(a),!wt(i)&&Or(a)&&!Or(n)))return a.value=n,!0;let o=wt(i)&&Jr(r)?Number(r)<i.length:Ti(i,r),d=Reflect.set(i,r,n,s);return i===K(s)&&(o?la(n,a)&&nt(i,"set",r,n,a):nt(i,"add",r,n)),d}}function Vh(e,t){let i=Ti(e,t),r=e[t],n=Reflect.deleteProperty(e,t);return n&&i&&nt(e,"delete",t,void 0,r),n}function Xh(e,t){let i=Reflect.has(e,t);return(!Xr(t)||!da.has(t))&&Le(e,"has",t),i}function Jh(e){return Le(e,"iterate",wt(e)?"length":_t),Reflect.ownKeys(e)}var qh={get:$h,set:Wh,deleteProperty:Vh,has:Xh,ownKeys:Jh},Yh={get:jh,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Yr=e=>Ri(e)?Zr(e):e,Kr=e=>Ri(e)?va(e):e,Gr=e=>e,Pi=e=>Reflect.getPrototypeOf(e);function gi(e,t,i=!1,r=!1){e=e.__v_raw;let n=K(e),s=K(t);t!==s&&!i&&Le(n,"get",t),!i&&Le(n,"get",s);let{has:a}=Pi(n),o=r?Gr:i?Kr:Yr;if(a.call(n,t))return o(e.get(t));if(a.call(n,s))return o(e.get(s));e!==n&&e.get(t)}function mi(e,t=!1){let i=this.__v_raw,r=K(i),n=K(e);return e!==n&&!t&&Le(r,"has",e),!t&&Le(r,"has",n),e===n?i.has(e):i.has(e)||i.has(n)}function vi(e,t=!1){return e=e.__v_raw,!t&&Le(K(e),"iterate",_t),Reflect.get(e,"size",e)}function ns(e){e=K(e);let t=K(this);return Pi(t).has.call(t,e)||(t.add(e),nt(t,"add",e,e)),this}function ss(e,t){t=K(t);let i=K(this),{has:r,get:n}=Pi(i),s=r.call(i,e);s?pa(i,r,e):(e=K(e),s=r.call(i,e));let a=n.call(i,e);return i.set(e,t),s?la(t,a)&&nt(i,"set",e,t,a):nt(i,"add",e,t),this}function as(e){let t=K(this),{has:i,get:r}=Pi(t),n=i.call(t,e);n?pa(t,i,e):(e=K(e),n=i.call(t,e));let s=r?r.call(t,e):void 0,a=t.delete(e);return n&&nt(t,"delete",e,void 0,s),a}function os(){let e=K(this),t=e.size!==0,i=Jt(e)?new Map(e):new Set(e),r=e.clear();return t&&nt(e,"clear",void 0,void 0,i),r}function bi(e,t){return function(r,n){let s=this,a=s.__v_raw,o=K(a),d=t?Gr:e?Kr:Yr;return!e&&Le(o,"iterate",_t),a.forEach((f,g)=>r.call(n,d(f),d(g),s))}}function yi(e,t,i){return function(...r){let n=this.__v_raw,s=K(n),a=Jt(s),o=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,f=n[e](...r),g=i?Gr:t?Kr:Yr;return!t&&Le(s,"iterate",d?Rr:_t),{next(){let{value:x,done:_}=f.next();return _?{value:x,done:_}:{value:o?[g(x[0]),g(x[1])]:g(x),done:_}},[Symbol.iterator](){return this}}}}function tt(e){return function(...t){{let i=t[0]?`on key "${t[0]}" `:"";console.warn(`${oa(e)} operation ${i}failed: target is readonly.`,K(this))}return e==="delete"?!1:this}}function Kh(){let e={get(s){return gi(this,s)},get size(){return vi(this)},has:mi,add:ns,set:ss,delete:as,clear:os,forEach:bi(!1,!1)},t={get(s){return gi(this,s,!1,!0)},get size(){return vi(this)},has:mi,add:ns,set:ss,delete:as,clear:os,forEach:bi(!1,!0)},i={get(s){return gi(this,s,!0)},get size(){return vi(this,!0)},has(s){return mi.call(this,s,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:bi(!0,!1)},r={get(s){return gi(this,s,!0,!0)},get size(){return vi(this,!0)},has(s){return mi.call(this,s,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:bi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=yi(s,!1,!1),i[s]=yi(s,!0,!1),t[s]=yi(s,!1,!0),r[s]=yi(s,!0,!0)}),[e,i,t,r]}var[Gh,Zh,Qh,ec]=Kh();function fa(e,t){let i=t?e?ec:Qh:e?Zh:Gh;return(r,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(Ti(i,n)&&n in r?i:r,n,s)}var tc={get:fa(!1,!1)},ic={get:fa(!0,!1)};function pa(e,t,i){let r=K(i);if(r!==i&&t.call(e,r)){let n=aa(e);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var ga=new WeakMap,rc=new WeakMap,ma=new WeakMap,nc=new WeakMap;function sc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ac(e){return e.__v_skip||!Object.isExtensible(e)?0:sc(aa(e))}function Zr(e){return e&&e.__v_isReadonly?e:ba(e,!1,qh,tc,ga)}function va(e){return ba(e,!0,Yh,ic,ma)}function ba(e,t,i,r,n){if(!Ri(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;let s=n.get(e);if(s)return s;let a=ac(e);if(a===0)return e;let o=new Proxy(e,a===2?r:i);return n.set(e,o),o}function K(e){return e&&K(e.__v_raw)||e}function Or(e){return!!(e&&e.__v_isRef===!0)}Ie("nextTick",()=>zr);Ie("dispatch",e=>Xt.bind(Xt,e));Ie("watch",(e,{evaluateLater:t,cleanup:i})=>(r,n)=>{let s=t(r),o=ps(()=>{let d;return s(f=>d=f),d},n);i(o)});Ie("store",yh);Ie("data",e=>Ts(e));Ie("root",e=>Ci(e));Ie("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Gt(oc(e))),e._x_refs_proxy));function oc(e){let t=[];return Yt(e,i=>{i._x_refs&&t.push(i._x_refs)}),t}var ur={};function ya(e){return ur[e]||(ur[e]=0),++ur[e]}function lc(e,t){return Yt(e,i=>{if(i._x_ids&&i._x_ids[t])return!0})}function hc(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=ya(t))}Ie("id",(e,{cleanup:t})=>(i,r=null)=>{let n=`${i}${r?`-${r}`:""}`;return cc(e,n,t,()=>{let s=lc(e,i),a=s?s._x_ids[i]:ya(i);return r?`${i}-${a}-${r}`:`${i}-${a}`})});ki((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function cc(e,t,i,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let n=r();return e._x_id[t]=n,i(()=>{delete e._x_id[t]}),n}Ie("el",e=>e);wa("Focus","focus","focus");wa("Persist","persist","persist");function wa(e,t,i){Ie(t,r=>De(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,r))}re("modelable",(e,{expression:t},{effect:i,evaluateLater:r,cleanup:n})=>{let s=r(t),a=()=>{let g;return s(x=>g=x),g},o=r(`${t} = __placeholder`),d=g=>o(()=>{},{scope:{__placeholder:g}}),f=a();d(f),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let g=e._x_model.get,x=e._x_model.set,_=ea({get(){return g()},set(b){x(b)}},{get(){return a()},set(b){d(b)}});n(_)})});re("teleport",(e,{modifiers:t,expression:i},{cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&De("x-teleport can only be used on a <template> tag",e);let n=ls(i),s=e.content.cloneNode(!0).firstElementChild;e._x_teleport=s,s._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(o=>{s.addEventListener(o,d=>{d.stopPropagation(),e.dispatchEvent(new d.constructor(d.type,d))})}),Kt(s,{},e);let a=(o,d,f)=>{f.includes("prepend")?d.parentNode.insertBefore(o,d):f.includes("append")?d.parentNode.insertBefore(o,d.nextSibling):d.appendChild(o)};ae(()=>{a(s,n,t),Ve(s),s._x_ignore=!0}),e._x_teleportPutBack=()=>{let o=ls(i);ae(()=>{a(e._x_teleport,o,t)})},r(()=>s.remove())});var dc=document.createElement("div");function ls(e){let t=Et(()=>document.querySelector(e),()=>dc)();return t||De(`Cannot find x-teleport element for selector: "${e}"`),t}var _a=()=>{};_a.inline=(e,{modifiers:t},{cleanup:i})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,i(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};re("ignore",_a);re("effect",Et((e,{expression:t},{effect:i})=>{i(me(e,t))}));function Pr(e,t,i,r){let n=e,s=d=>r(d),a={},o=(d,f)=>g=>f(d,g);if(i.includes("dot")&&(t=uc(t)),i.includes("camel")&&(t=fc(t)),i.includes("passive")&&(a.passive=!0),i.includes("capture")&&(a.capture=!0),i.includes("window")&&(n=window),i.includes("document")&&(n=document),i.includes("debounce")){let d=i[i.indexOf("debounce")+1]||"invalid-wait",f=Ai(d.split("ms")[0])?Number(d.split("ms")[0]):250;s=Zs(s,f)}if(i.includes("throttle")){let d=i[i.indexOf("throttle")+1]||"invalid-wait",f=Ai(d.split("ms")[0])?Number(d.split("ms")[0]):250;s=Qs(s,f)}return i.includes("prevent")&&(s=o(s,(d,f)=>{f.preventDefault(),d(f)})),i.includes("stop")&&(s=o(s,(d,f)=>{f.stopPropagation(),d(f)})),i.includes("self")&&(s=o(s,(d,f)=>{f.target===e&&d(f)})),(i.includes("away")||i.includes("outside"))&&(n=document,s=o(s,(d,f)=>{e.contains(f.target)||f.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&d(f))})),i.includes("once")&&(s=o(s,(d,f)=>{d(f),n.removeEventListener(t,s,a)})),s=o(s,(d,f)=>{gc(t)&&mc(f,i)||d(f)}),n.addEventListener(t,s,a),()=>{n.removeEventListener(t,s,a)}}function uc(e){return e.replace(/-/g,".")}function fc(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())}function Ai(e){return!Array.isArray(e)&&!isNaN(e)}function pc(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function gc(e){return["keydown","keyup"].includes(e)}function mc(e,t){let i=t.filter(s=>!["window","document","prevent","stop","once","capture"].includes(s));if(i.includes("debounce")){let s=i.indexOf("debounce");i.splice(s,Ai((i[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let s=i.indexOf("throttle");i.splice(s,Ai((i[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&hs(e.key).includes(i[0]))return!1;let n=["ctrl","shift","alt","meta","cmd","super"].filter(s=>i.includes(s));return i=i.filter(s=>!n.includes(s)),!(n.length>0&&n.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),e[`${a}Key`])).length===n.length&&hs(e.key).includes(i[0]))}function hs(e){if(!e)return[];e=pc(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(i=>{if(t[i]===e)return i}).filter(i=>i)}re("model",(e,{modifiers:t,expression:i},{effect:r,cleanup:n})=>{let s=e;t.includes("parent")&&(s=e.parentNode);let a=me(s,i),o;typeof i=="string"?o=me(s,`${i} = __placeholder`):typeof i=="function"&&typeof i()=="string"?o=me(s,`${i()} = __placeholder`):o=()=>{};let d=()=>{let _;return a(b=>_=b),cs(_)?_.get():_},f=_=>{let b;a(k=>b=k),cs(b)?b.set(_):o(()=>{},{scope:{__placeholder:_}})};typeof i=="string"&&e.type==="radio"&&ae(()=>{e.hasAttribute("name")||e.setAttribute("name",i)});var g=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let x=rt?()=>{}:Pr(e,g,t,_=>{f(vc(e,t,_,d()))});if(t.includes("fill")&&([void 0,null,""].includes(d())||e.type==="checkbox"&&Array.isArray(d()))&&e.dispatchEvent(new Event(g,{})),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=x,n(()=>e._x_removeModelListeners.default()),e.form){let _=Pr(e.form,"reset",[],b=>{zr(()=>e._x_model&&e._x_model.set(e.value))});n(()=>_())}e._x_model={get(){return d()},set(_){f(_)}},e._x_forceModelUpdate=_=>{_===void 0&&typeof i=="string"&&i.match(/\./)&&(_=""),window.fromModel=!0,ae(()=>qs(e,"value",_)),delete window.fromModel},r(()=>{let _=d();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(_)})});function vc(e,t,i,r){return ae(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;if(e.type==="checkbox")if(Array.isArray(r)){let n=null;return t.includes("number")?n=fr(i.target.value):t.includes("boolean")?n=_i(i.target.value):n=i.target.value,i.target.checked?r.concat([n]):r.filter(s=>!bc(s,n))}else return i.target.checked;else return e.tagName.toLowerCase()==="select"&&e.multiple?t.includes("number")?Array.from(i.target.selectedOptions).map(n=>{let s=n.value||n.text;return fr(s)}):t.includes("boolean")?Array.from(i.target.selectedOptions).map(n=>{let s=n.value||n.text;return _i(s)}):Array.from(i.target.selectedOptions).map(n=>n.value||n.text):t.includes("number")?fr(i.target.value):t.includes("boolean")?_i(i.target.value):t.includes("trim")?i.target.value.trim():i.target.value})}function fr(e){let t=e?parseFloat(e):null;return yc(t)?t:e}function bc(e,t){return e==t}function yc(e){return!Array.isArray(e)&&!isNaN(e)}function cs(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}re("cloak",e=>queueMicrotask(()=>ae(()=>e.removeAttribute(Dt("cloak")))));ys(()=>`[${Dt("init")}]`);re("init",Et((e,{expression:t},{evaluate:i})=>typeof t=="string"?!!t.trim()&&i(t,{},!1):i(t,{},!1)));re("text",(e,{expression:t},{effect:i,evaluateLater:r})=>{let n=r(t);i(()=>{n(s=>{ae(()=>{e.textContent=s})})})});re("html",(e,{expression:t},{effect:i,evaluateLater:r})=>{let n=r(t);i(()=>{n(s=>{ae(()=>{e.innerHTML=s,e._x_ignoreSelf=!0,Ve(e),delete e._x_ignoreSelf})})})});Ur(Bs(":",Fs(Dt("bind:"))));var xa=(e,{value:t,modifiers:i,expression:r,original:n},{effect:s})=>{if(!t){let o={};_h(o),me(e,r)(f=>{ia(e,f,n)},{scope:o});return}if(t==="key")return wc(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=me(e,r);s(()=>a(o=>{o===void 0&&typeof r=="string"&&r.match(/\./)&&(o=""),ae(()=>qs(e,t,o,i))}))};xa.inline=(e,{value:t,modifiers:i,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})};re("bind",xa);function wc(e,t){e._x_keyExpression=t}bs(()=>`[${Dt("data")}]`);re("data",(e,{expression:t},{cleanup:i})=>{if(_c(e))return;t=t===""?"{}":t;let r={};yr(r,e);let n={};Eh(n,r);let s=yt(e,t,{scope:n});(s===void 0||s===!0)&&(s={}),yr(s,e);let a=Ot(s);Rs(a);let o=Kt(e,a);a.init&&yt(e,a.init),i(()=>{a.destroy&&yt(e,a.destroy),o()})});ki((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function _c(e){return rt?kr?!0:e.hasAttribute("data-has-alpine-state"):!1}re("show",(e,{modifiers:t,expression:i},{effect:r})=>{let n=me(e,i);e._x_doHide||(e._x_doHide=()=>{ae(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{ae(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},o=()=>setTimeout(a),d=Cr(x=>x?a():s(),x=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,x,a,s):x?o():s()}),f,g=!0;r(()=>n(x=>{!g&&x===f||(t.includes("immediate")&&(x?o():s()),d(x),f=x,g=!1)}))});re("for",(e,{expression:t},{effect:i,cleanup:r})=>{let n=Ec(t),s=me(e,n.items),a=me(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},i(()=>xc(e,n,s,a)),r(()=>{Object.values(e._x_lookup).forEach(o=>o.remove()),delete e._x_prevKeys,delete e._x_lookup})});function xc(e,t,i,r){let n=a=>typeof a=="object"&&!Array.isArray(a),s=e;i(a=>{Ac(a)&&a>=0&&(a=Array.from(Array(a).keys(),P=>P+1)),a===void 0&&(a=[]);let o=e._x_lookup,d=e._x_prevKeys,f=[],g=[];if(n(a))a=Object.entries(a).map(([P,D])=>{let M=ds(t,D,P,a);r(F=>{g.includes(F)&&De("Duplicate key on x-for",e),g.push(F)},{scope:fe({index:P},M)}),f.push(M)});else for(let P=0;P<a.length;P++){let D=ds(t,a[P],P,a);r(M=>{g.includes(M)&&De("Duplicate key on x-for",e),g.push(M)},{scope:fe({index:P},D)}),f.push(D)}let x=[],_=[],b=[],k=[];for(let P=0;P<d.length;P++){let D=d[P];g.indexOf(D)===-1&&b.push(D)}d=d.filter(P=>!b.includes(P));let L="template";for(let P=0;P<g.length;P++){let D=g[P],M=d.indexOf(D);if(M===-1)d.splice(P,0,D),x.push([L,P]);else if(M!==P){let F=d.splice(P,1)[0],z=d.splice(M-1,1)[0];d.splice(P,0,z),d.splice(M,0,F),_.push([F,z])}else k.push(D);L=D}for(let P=0;P<b.length;P++){let D=b[P];o[D]._x_effects&&o[D]._x_effects.forEach(us),o[D].remove(),o[D]=null,delete o[D]}for(let P=0;P<_.length;P++){let[D,M]=_[P],F=o[D],z=o[M],de=document.createElement("div");ae(()=>{z||De('x-for ":key" is undefined or invalid',s,M,o),z.after(de),F.after(z),z._x_currentIfEl&&z.after(z._x_currentIfEl),de.before(F),F._x_currentIfEl&&F.after(F._x_currentIfEl),de.remove()}),z._x_refreshXForScope(f[g.indexOf(M)])}for(let P=0;P<x.length;P++){let[D,M]=x[P],F=D==="template"?s:o[D];F._x_currentIfEl&&(F=F._x_currentIfEl);let z=f[M],de=g[M],V=document.importNode(s.content,!0).firstElementChild,ee=Ot(z);Kt(V,ee,s),V._x_refreshXForScope=C=>{Object.entries(C).forEach(([I,Q])=>{ee[I]=Q})},ae(()=>{F.after(V),Et(()=>Ve(V))()}),typeof de=="object"&&De("x-for key cannot be an object, it must be a string or an integer",s),o[de]=V}for(let P=0;P<k.length;P++)o[k[P]]._x_refreshXForScope(f[g.indexOf(k[P])]);s._x_prevKeys=g})}function Ec(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=e.match(r);if(!n)return;let s={};s.items=n[2].trim();let a=n[1].replace(i,"").trim(),o=a.match(t);return o?(s.item=a.replace(t,"").trim(),s.index=o[1].trim(),o[2]&&(s.collection=o[2].trim())):s.item=a,s}function ds(e,t,i,r){let n={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,o)=>{n[a]=t[o]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{n[a]=t[a]}):n[e.item]=t,e.index&&(n[e.index]=i),e.collection&&(n[e.collection]=r),n}function Ac(e){return!Array.isArray(e)&&!isNaN(e)}function Ea(){}Ea.inline=(e,{expression:t},{cleanup:i})=>{let r=Ci(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,i(()=>delete r._x_refs[t])};re("ref",Ea);re("if",(e,{expression:t},{effect:i,cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&De("x-if can only be used on a <template> tag",e);let n=me(e,t),s=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let o=e.content.cloneNode(!0).firstElementChild;return Kt(o,{},e),ae(()=>{e.after(o),Et(()=>Ve(o))()}),e._x_currentIfEl=o,e._x_undoIf=()=>{it(o,d=>{d._x_effects&&d._x_effects.forEach(us)}),o.remove(),delete e._x_currentIfEl},o},a=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};i(()=>n(o=>{o?s():a()})),r(()=>e._x_undoIf&&e._x_undoIf())});re("id",(e,{expression:t},{evaluate:i})=>{i(t).forEach(n=>hc(e,n))});ki((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});Ur(Bs("@",Fs(Dt("on:"))));re("on",Et((e,{value:t,modifiers:i,expression:r},{cleanup:n})=>{let s=r?me(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=Pr(e,t,i,o=>{s(()=>{},{scope:{$event:o},params:[o]})});n(()=>a())}));Di("Collapse","collapse","collapse");Di("Intersect","intersect","intersect");Di("Focus","trap","focus");Di("Mask","mask","mask");function Di(e,t,i){re(t,r=>De(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,r))}Zt.setEvaluator(Is);Zt.setReactivityEngine({reactive:Zr,effect:Lh,release:Ih,raw:K});var Cc=Zt,Qr=Cc;var ei=e=>typeof e=="function"?e:function(){return e},Sc=typeof self!="undefined"?self:null,Qt=typeof window!="undefined"?window:null,ti=Sc||Qt||ti,kc="2.0.0",Be={connecting:0,open:1,closing:2,closed:3},Tc=1e4,Rc=1e3,xe={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},Xe={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},tn={longpoll:"longpoll",websocket:"websocket"},Oc={complete:4},Li=class{constructor(e,t,i,r){this.channel=e,this.event=t,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},Aa=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},Pc=class{constructor(e,t,i){this.state=xe.closed,this.topic=e,this.params=ei(t||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new Li(this,Xe.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new Aa(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=xe.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=xe.closed,this.socket.remove(this)}),this.onError(r=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,r),this.isJoining()&&this.joinPush.reset(),this.state=xe.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new Li(this,Xe.leave,ei({}),this.timeout).send(),this.state=xe.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(Xe.reply,(r,n)=>{this.trigger(this.replyEventName(n),r)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(Xe.close,e)}onError(e){return this.on(Xe.error,t=>e(t))}on(e,t){let i=this.bindingRef++;return this.bindings.push({event:e,ref:i,callback:t}),i}off(e,t){this.bindings=this.bindings.filter(i=>!(i.event===e&&(typeof t=="undefined"||t===i.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,i=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new Li(this,e,function(){return t},i);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=xe.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(Xe.close,"leave")},i=new Li(this,Xe.leave,ei({}),e);return i.receive("ok",()=>t()).receive("timeout",()=>t()),i.send(),this.canPush()||i.trigger("ok",{}),i}onMessage(e,t,i){return t}isMember(e,t,i,r){return this.topic!==e?!1:r&&r!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:i,joinRef:r}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}trigger(e,t,i,r){let n=this.onMessage(e,t,i,r);if(t&&!n)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let s=this.bindings.filter(a=>a.event===e);for(let a=0;a<s.length;a++)s[a].callback(n,i,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===xe.closed}isErrored(){return this.state===xe.errored}isJoined(){return this.state===xe.joined}isJoining(){return this.state===xe.joining}isLeaving(){return this.state===xe.leaving}},Mi=class{static request(e,t,i,r,n,s,a){if(ti.XDomainRequest){let o=new ti.XDomainRequest;return this.xdomainRequest(o,e,t,r,n,s,a)}else{let o=new ti.XMLHttpRequest;return this.xhrRequest(o,e,t,i,r,n,s,a)}}static xdomainRequest(e,t,i,r,n,s,a){return e.timeout=n,e.open(t,i),e.onload=()=>{let o=this.parseJSON(e.responseText);a&&a(o)},s&&(e.ontimeout=s),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,i,r,n,s,a,o){return e.open(t,i,!0),e.timeout=s,e.setRequestHeader("Content-Type",r),e.onerror=()=>o&&o(null),e.onreadystatechange=()=>{if(e.readyState===Oc.complete&&o){let d=this.parseJSON(e.responseText);o(d)}},a&&(e.ontimeout=a),e.send(n),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let i=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let n=t?`${t}[${r}]`:r,s=e[r];typeof s=="object"?i.push(this.serialize(s,n)):i.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}return i.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let i=e.match(/\?/)?"&":"?";return`${e}${i}${this.serialize(t)}`}},Dc=e=>{let t="",i=new Uint8Array(e),r=i.byteLength;for(let n=0;n<r;n++)t+=String.fromCharCode(i[n]);return btoa(t)},en=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.awaitingBatchAck=!1,this.currentBatch=null,this.currentBatchTimer=null,this.batchBuffer=[],this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=Be.connecting,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+tn.websocket),"$1/"+tn.longpoll)}endpointURL(){return Mi.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,i){this.close(e,t,i),this.readyState=Be.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===Be.open||this.readyState===Be.connecting}poll(){this.ajax("GET","application/json",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:i,messages:r}=e;this.token=i}else t=0;switch(t){case 200:r.forEach(n=>{setTimeout(()=>this.onmessage({data:n}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=Be.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){typeof e!="string"&&(e=Dc(e)),this.currentBatch?this.currentBatch.push(e):this.awaitingBatchAck?this.batchBuffer.push(e):(this.currentBatch=[e],this.currentBatchTimer=setTimeout(()=>{this.batchSend(this.currentBatch),this.currentBatch=null},0))}batchSend(e){this.awaitingBatchAck=!0,this.ajax("POST","application/x-ndjson",e.join(`
`),()=>this.onerror("timeout"),t=>{this.awaitingBatchAck=!1,!t||t.status!==200?(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1)):this.batchBuffer.length>0&&(this.batchSend(this.batchBuffer),this.batchBuffer=[])})}close(e,t,i){for(let n of this.reqs)n.abort();this.readyState=Be.closed;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:i});this.batchBuffer=[],clearTimeout(this.currentBatchTimer),this.currentBatchTimer=null,typeof CloseEvent!="undefined"?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,i,r,n){let s,a=()=>{this.reqs.delete(s),r()};s=Mi.request(e,this.endpointURL(),t,i,this.timeout,a,o=>{this.reqs.delete(s),this.isActive()&&n(o)}),this.reqs.add(s)}};var Ii={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[i,r,n,s,a]=JSON.parse(e);return t({join_ref:i,ref:r,topic:n,event:s,payload:a})}},binaryEncode(e){let{join_ref:t,ref:i,event:r,topic:n,payload:s}=e,a=this.META_LENGTH+t.length+i.length+n.length+r.length,o=new ArrayBuffer(this.HEADER_LENGTH+a),d=new DataView(o),f=0;d.setUint8(f++,this.KINDS.push),d.setUint8(f++,t.length),d.setUint8(f++,i.length),d.setUint8(f++,n.length),d.setUint8(f++,r.length),Array.from(t,x=>d.setUint8(f++,x.charCodeAt(0))),Array.from(i,x=>d.setUint8(f++,x.charCodeAt(0))),Array.from(n,x=>d.setUint8(f++,x.charCodeAt(0))),Array.from(r,x=>d.setUint8(f++,x.charCodeAt(0)));var g=new Uint8Array(o.byteLength+s.byteLength);return g.set(new Uint8Array(o),0),g.set(new Uint8Array(s),o.byteLength),g.buffer},binaryDecode(e){let t=new DataView(e),i=t.getUint8(0),r=new TextDecoder;switch(i){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,i){let r=t.getUint8(1),n=t.getUint8(2),s=t.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,o=i.decode(e.slice(a,a+r));a=a+r;let d=i.decode(e.slice(a,a+n));a=a+n;let f=i.decode(e.slice(a,a+s));a=a+s;let g=e.slice(a,e.byteLength);return{join_ref:o,ref:null,topic:d,event:f,payload:g}},decodeReply(e,t,i){let r=t.getUint8(1),n=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),o=this.HEADER_LENGTH+this.META_LENGTH,d=i.decode(e.slice(o,o+r));o=o+r;let f=i.decode(e.slice(o,o+n));o=o+n;let g=i.decode(e.slice(o,o+s));o=o+s;let x=i.decode(e.slice(o,o+a));o=o+a;let _=e.slice(o,e.byteLength),b={status:x,response:_};return{join_ref:d,ref:f,topic:g,event:Xe.reply,payload:b}},decodeBroadcast(e,t,i){let r=t.getUint8(1),n=t.getUint8(2),s=this.HEADER_LENGTH+2,a=i.decode(e.slice(s,s+r));s=s+r;let o=i.decode(e.slice(s,s+n));s=s+n;let d=e.slice(s,e.byteLength);return{join_ref:null,ref:null,topic:a,event:o,payload:d}}},Ca=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||Tc,this.transport=t.transport||ti.WebSocket||en,this.establishedConnections=0,this.defaultEncoder=Ii.encode.bind(Ii),this.defaultDecoder=Ii.decode.bind(Ii),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==en?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let i=null;Qt&&Qt.addEventListener&&(Qt.addEventListener("pagehide",r=>{this.conn&&(this.disconnect(),i=this.connectClock)}),Qt.addEventListener("pageshow",r=>{i===this.connectClock&&(i=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=r=>t.rejoinAfterMs?t.rejoinAfterMs(r):[1e3,2e3,5e3][r-1]||1e4,this.reconnectAfterMs=r=>t.reconnectAfterMs?t.reconnectAfterMs(r):[10,50,100,150,200,250,500,1e3,2e3][r-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=ei(t.params||{}),this.endPoint=`${e}/${tn.websocket}`,this.vsn=t.vsn||kc,this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new Aa(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return en}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=Mi.appendParams(Mi.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,i){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,i)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=ei(e)),!this.conn&&(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=t=>this.onConnError(t),this.conn.onmessage=t=>this.onConnMessage(t),this.conn.onclose=t=>this.onConnClose(t))}log(e,t,i){this.logger(e,t,i)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),i=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage(n=>{n.ref===t&&(this.off([r]),e(Date.now()-i))});return!0}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),Rc,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,i){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,i||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===Be.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,i])=>i(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,i=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,r])=>{r(e,t,i)}),(t===this.transport||i>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(Xe.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case Be.connecting:return"connecting";case Be.open:return"open";case Be.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([i])=>e.indexOf(i)===-1)}channel(e,t={}){let i=new Pc(e,t,this);return this.channels.push(i),i}push(e){if(this.hasLogger()){let{topic:t,event:i,payload:r,ref:n,join_ref:s}=e;this.log("push",`${t} ${i} (${s}, ${n})`,r)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:r,payload:n,ref:s,join_ref:a}=t;s&&s===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${n.status||""} ${i} ${r} ${s&&"("+s+")"||""}`,n);for(let o=0;o<this.channels.length;o++){let d=this.channels[o];d.isMember(i,r,n,a)&&d.trigger(r,n,s,a)}for(let o=0;o<this.stateChangeCallbacks.message.length;o++){let[,d]=this.stateChangeCallbacks.message[o];d(t)}})}leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i.isJoined()||i.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};var Ga="consecutive-reloads",Lc=10,Ic=5e3,Mc=1e4,Nc=3e4,Za=["phx-click-loading","phx-change-loading","phx-submit-loading","phx-keydown-loading","phx-keyup-loading","phx-blur-loading","phx-focus-loading","phx-hook-loading"],qe="data-phx-component",rn="data-phx-link",Hc="track-static",Bc="data-phx-link-state",Ee="data-phx-ref",at="data-phx-ref-src",Qa="track-uploads",Ye="data-phx-upload-ref",bn="data-phx-preflighted-refs",Fc="data-phx-done-refs",Sa="drop-target",fn="data-phx-active-refs",Xi="phx:live-file:updated",eo="data-phx-skip",to="data-phx-id",ka="data-phx-prune",Ta="page-loading",Ra="phx-connected",ii="phx-loading",Ni="phx-no-feedback",Hi="phx-error",Oa="phx-client-error",nn="phx-server-error",Mt="data-phx-parent-id",yn="data-phx-main",Ht="data-phx-root-id",pn="viewport-top",gn="viewport-bottom",$c="trigger-action",qi="feedback-for",Yi="feedback-group",mn="phx-has-focused",jc=["text","textarea","number","email","password","search","tel","url","date","time","datetime-local","color","range"],io=["checkbox","radio"],Ki="phx-has-submitted",lt="data-phx-session",Bt=`[${lt}]`,Pa="data-phx-sticky",hi="data-phx-static",sn="data-phx-readonly",Lt="data-phx-disabled",vn="disable-with",Bi="data-phx-disable-with-restore",ri="hook",Uc="debounce",Wc="throttle",Gi="update",an="stream",on="data-phx-stream",zc="key",Fe="phxPrivate",Da="auto-recover",Fi="phx:live-socket:debug",ln="phx:live-socket:profiling",hn="phx:live-socket:latency-sim",Vc="progress",La="mounted",Xc=1,Jc=200,qc="phx-",Yc=3e4,ni="debounce-trigger",si="throttled",Ia="debounce-prev-key",Kc={debounce:300,throttle:300},$i="d",$e="s",cn="r",pe="c",Ma="e",Na="r",Ha="t",Gc="p",Ba="stream",Zc=class{constructor(e,t,i){this.liveSocket=i,this.entry=e,this.offset=0,this.chunkSize=t,this.chunkTimer=null,this.errored=!1,this.uploadChannel=i.channel(`lvu:${e.ref}`,{token:e.metadata()})}error(e){this.errored||(this.uploadChannel.leave(),this.errored=!0,clearTimeout(this.chunkTimer),this.entry.error(e))}upload(){this.uploadChannel.onError(e=>this.error(e)),this.uploadChannel.join().receive("ok",e=>this.readNextChunk()).receive("error",e=>this.error(e))}isDone(){return this.offset>=this.entry.file.size}readNextChunk(){let e=new window.FileReader,t=this.entry.file.slice(this.offset,this.chunkSize+this.offset);e.onload=i=>{if(i.target.error===null)this.offset+=i.target.result.byteLength,this.pushChunk(i.target.result);else return Ae("Read error: "+i.target.error)},e.readAsArrayBuffer(t)}pushChunk(e){this.uploadChannel.isJoined()&&this.uploadChannel.push("chunk",e).receive("ok",()=>{this.entry.progress(this.offset/this.entry.file.size*100),this.isDone()||(this.chunkTimer=setTimeout(()=>this.readNextChunk(),this.liveSocket.getLatencySim()||0))}).receive("error",({reason:t})=>this.error(t))}},Ae=(e,t)=>console.error&&console.error(e,t),Je=e=>{let t=typeof e;return t==="number"||t==="string"&&/^(0|[1-9]\d*)$/.test(e)};function Qc(){let e=new Set,t=document.querySelectorAll("*[id]");for(let i=0,r=t.length;i<r;i++)e.has(t[i].id)?console.error(`Multiple IDs detected: ${t[i].id}. Ensure unique element ids.`):e.add(t[i].id)}var ed=(e,t,i,r)=>{e.liveSocket.isDebugEnabled()&&console.log(`${e.id} ${t}: ${i} - `,r)},dn=e=>typeof e=="function"?e:function(){return e},Ji=e=>JSON.parse(JSON.stringify(e)),ci=(e,t,i)=>{do{if(e.matches(`[${t}]`)&&!e.disabled)return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1&&!(i&&i.isSameNode(e)||e.matches(Bt)));return null},ai=e=>e!==null&&typeof e=="object"&&!(e instanceof Array),td=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Fa=e=>{for(let t in e)return!1;return!0},ot=(e,t)=>e&&t(e),id=function(e,t,i,r){e.forEach(n=>{new Zc(n,i.config.chunk_size,r).upload()})},ro={canPushState(){return typeof history.pushState!="undefined"},dropLocal(e,t,i){return e.removeItem(this.localKey(t,i))},updateLocal(e,t,i,r,n){let s=this.getLocal(e,t,i),a=this.localKey(t,i),o=s===null?r:n(s);return e.setItem(a,JSON.stringify(o)),o},getLocal(e,t,i){return JSON.parse(e.getItem(this.localKey(t,i)))},updateCurrentState(e){this.canPushState()&&history.replaceState(e(history.state||{}),"",window.location.href)},pushState(e,t,i){if(this.canPushState()){if(i!==window.location.href){if(t.type=="redirect"&&t.scroll){let n=history.state||{};n.scroll=t.scroll,history.replaceState(n,"",window.location.href)}delete t.scroll,history[e+"State"](t,"",i||null);let r=this.getHashTargetEl(window.location.hash);r?r.scrollIntoView():t.type==="redirect"&&window.scroll(0,0)}}else this.redirect(i)},setCookie(e,t){document.cookie=`${e}=${t}`},getCookie(e){return document.cookie.replace(new RegExp(`(?:(?:^|.*;s*)${e}s*=s*([^;]*).*$)|^.*$`),"$1")},redirect(e,t){t&&ro.setCookie("__phoenix_flash__",t+"; max-age=60000; path=/"),window.location=e},localKey(e,t){return`${e}-${t}`},getHashTargetEl(e){let t=e.toString().substring(1);if(t!=="")return document.getElementById(t)||document.querySelector(`a[name="${t}"]`)}},je=ro,rd={focusMain(){let e=document.querySelector("main h1, main, h1");if(e){let t=e.tabIndex;e.tabIndex=-1,e.focus(),e.tabIndex=t}},anyOf(e,t){return t.find(i=>e instanceof i)},isFocusable(e,t){return e instanceof HTMLAnchorElement&&e.rel!=="ignore"||e instanceof HTMLAreaElement&&e.href!==void 0||!e.disabled&&this.anyOf(e,[HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement,HTMLButtonElement])||e instanceof HTMLIFrameElement||e.tabIndex>0||!t&&e.getAttribute("tabindex")!==null&&e.getAttribute("aria-hidden")!=="true"},attemptFocus(e,t){if(this.isFocusable(e,t))try{e.focus()}catch(i){}return!!document.activeElement&&document.activeElement.isSameNode(e)},focusFirstInteractive(e){let t=e.firstElementChild;for(;t;){if(this.attemptFocus(t,!0)||this.focusFirstInteractive(t,!0))return!0;t=t.nextElementSibling}},focusFirst(e){let t=e.firstElementChild;for(;t;){if(this.attemptFocus(t)||this.focusFirst(t))return!0;t=t.nextElementSibling}},focusLast(e){let t=e.lastElementChild;for(;t;){if(this.attemptFocus(t)||this.focusLast(t))return!0;t=t.previousElementSibling}}},Nt=rd,ji=null,$a=200,nd={exec(e,t,i,r,n){let[s,a]=n||[null,{callback:n&&n.callback}];(t.charAt(0)==="["?JSON.parse(t):[[s,a]]).forEach(([d,f])=>{d===s&&a.data&&(f.data=Object.assign(f.data||{},a.data),f.callback=f.callback||a.callback),this.filterToEls(r,f).forEach(g=>{this[`exec_${d}`](e,t,i,r,g,f)})})},isVisible(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length>0)},isInViewport(e){let t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth;return t.right>0&&t.bottom>0&&t.left<r&&t.top<i},exec_exec(e,t,i,r,n,{attr:s,to:a}){(a?y.all(document,a):[r]).forEach(d=>{let f=d.getAttribute(s);if(!f)throw new Error(`expected ${s} to contain JS command on "${a}"`);i.liveSocket.execJS(d,f,e)})},exec_dispatch(e,t,i,r,n,{to:s,event:a,detail:o,bubbles:d}){o=o||{},o.dispatcher=r,y.dispatchEvent(n,a,{detail:o,bubbles:d})},exec_push(e,t,i,r,n,s){let{event:a,data:o,target:d,page_loading:f,loading:g,value:x,dispatcher:_,callback:b}=s,k={loading:g,value:x,target:d,page_loading:!!f},L=e==="change"&&_?_:r,P=d||L.getAttribute(i.binding("target"))||L;i.withinTargets(P,(D,M)=>{if(D.isConnected())if(e==="change"){let{newCid:F,_target:z}=s;z=z||(y.isFormInput(r)?r.name:void 0),z&&(k._target=z),D.pushInput(r,M,F,a||t,k,b)}else if(e==="submit"){let{submitter:F}=s;D.submitForm(r,M,a||t,F,k,b)}else D.pushEvent(e,r,M,a||t,o,k,b)})},exec_navigate(e,t,i,r,n,{href:s,replace:a}){i.liveSocket.historyRedirect(s,a?"replace":"push")},exec_patch(e,t,i,r,n,{href:s,replace:a}){i.liveSocket.pushHistoryPatch(s,a?"replace":"push",r)},exec_focus(e,t,i,r,n){window.requestAnimationFrame(()=>Nt.attemptFocus(n))},exec_focus_first(e,t,i,r,n){window.requestAnimationFrame(()=>Nt.focusFirstInteractive(n)||Nt.focusFirst(n))},exec_push_focus(e,t,i,r,n){window.requestAnimationFrame(()=>ji=n||r)},exec_pop_focus(e,t,i,r,n){window.requestAnimationFrame(()=>{ji&&ji.focus(),ji=null})},exec_add_class(e,t,i,r,n,{names:s,transition:a,time:o}){this.addOrRemoveClasses(n,s,[],a,o,i)},exec_remove_class(e,t,i,r,n,{names:s,transition:a,time:o}){this.addOrRemoveClasses(n,[],s,a,o,i)},exec_toggle_class(e,t,i,r,n,{to:s,names:a,transition:o,time:d}){this.toggleClasses(n,a,o,i)},exec_toggle_attr(e,t,i,r,n,{attr:[s,a,o]}){n.hasAttribute(s)?o!==void 0?n.getAttribute(s)===a?this.setOrRemoveAttrs(n,[[s,o]],[]):this.setOrRemoveAttrs(n,[[s,a]],[]):this.setOrRemoveAttrs(n,[],[s]):this.setOrRemoveAttrs(n,[[s,a]],[])},exec_transition(e,t,i,r,n,{time:s,transition:a}){this.addOrRemoveClasses(n,[],[],a,s,i)},exec_toggle(e,t,i,r,n,{display:s,ins:a,outs:o,time:d}){this.toggle(e,i,n,s,a,o,d)},exec_show(e,t,i,r,n,{display:s,transition:a,time:o}){this.show(e,i,n,s,a,o)},exec_hide(e,t,i,r,n,{display:s,transition:a,time:o}){this.hide(e,i,n,s,a,o)},exec_set_attr(e,t,i,r,n,{attr:[s,a]}){this.setOrRemoveAttrs(n,[[s,a]],[])},exec_remove_attr(e,t,i,r,n,{attr:s}){this.setOrRemoveAttrs(n,[],[s])},show(e,t,i,r,n,s){this.isVisible(i)||this.toggle(e,t,i,r,n,null,s)},hide(e,t,i,r,n,s){this.isVisible(i)&&this.toggle(e,t,i,r,null,n,s)},toggle(e,t,i,r,n,s,a){a=a||$a;let[o,d,f]=n||[[],[],[]],[g,x,_]=s||[[],[],[]];if(o.length>0||g.length>0)if(this.isVisible(i)){let b=()=>{this.addOrRemoveClasses(i,x,o.concat(d).concat(f)),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,g,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,_,x))})};i.dispatchEvent(new Event("phx:hide-start")),t.transition(a,b,()=>{this.addOrRemoveClasses(i,[],g.concat(_)),y.putSticky(i,"toggle",k=>k.style.display="none"),i.dispatchEvent(new Event("phx:hide-end"))})}else{if(e==="remove")return;let b=()=>{this.addOrRemoveClasses(i,d,g.concat(x).concat(_));let k=r||this.defaultDisplay(i);y.putSticky(i,"toggle",L=>L.style.display=k),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,o,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,f,d))})};i.dispatchEvent(new Event("phx:show-start")),t.transition(a,b,()=>{this.addOrRemoveClasses(i,[],o.concat(f)),i.dispatchEvent(new Event("phx:show-end"))})}else this.isVisible(i)?window.requestAnimationFrame(()=>{i.dispatchEvent(new Event("phx:hide-start")),y.putSticky(i,"toggle",b=>b.style.display="none"),i.dispatchEvent(new Event("phx:hide-end"))}):window.requestAnimationFrame(()=>{i.dispatchEvent(new Event("phx:show-start"));let b=r||this.defaultDisplay(i);y.putSticky(i,"toggle",k=>k.style.display=b),i.dispatchEvent(new Event("phx:show-end"))})},toggleClasses(e,t,i,r,n){window.requestAnimationFrame(()=>{let[s,a]=y.getSticky(e,"classes",[[],[]]),o=t.filter(f=>s.indexOf(f)<0&&!e.classList.contains(f)),d=t.filter(f=>a.indexOf(f)<0&&e.classList.contains(f));this.addOrRemoveClasses(e,o,d,i,r,n)})},addOrRemoveClasses(e,t,i,r,n,s){n=n||$a;let[a,o,d]=r||[[],[],[]];if(a.length>0){let f=()=>{this.addOrRemoveClasses(e,o,[].concat(a).concat(d)),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(e,a,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(e,d,o))})},g=()=>this.addOrRemoveClasses(e,t.concat(d),i.concat(a).concat(o));return s.transition(n,f,g)}window.requestAnimationFrame(()=>{let[f,g]=y.getSticky(e,"classes",[[],[]]),x=t.filter(L=>f.indexOf(L)<0&&!e.classList.contains(L)),_=i.filter(L=>g.indexOf(L)<0&&e.classList.contains(L)),b=f.filter(L=>i.indexOf(L)<0).concat(x),k=g.filter(L=>t.indexOf(L)<0).concat(_);y.putSticky(e,"classes",L=>(L.classList.remove(...k),L.classList.add(...b),[b,k]))})},setOrRemoveAttrs(e,t,i){let[r,n]=y.getSticky(e,"attrs",[[],[]]),s=t.map(([d,f])=>d).concat(i),a=r.filter(([d,f])=>!s.includes(d)).concat(t),o=n.filter(d=>!s.includes(d)).concat(i);y.putSticky(e,"attrs",d=>(o.forEach(f=>d.removeAttribute(f)),a.forEach(([f,g])=>d.setAttribute(f,g)),[a,o]))},hasAllClasses(e,t){return t.every(i=>e.classList.contains(i))},isToggledOut(e,t){return!this.isVisible(e)||this.hasAllClasses(e,t)},filterToEls(e,{to:t}){return t?y.all(document,t):[e]},defaultDisplay(e){return{tr:"table-row",td:"table-cell"}[e.tagName.toLowerCase()]||"block"}},ge=nd,Re={byId(e){return document.getElementById(e)||Ae(`no id found for ${e}`)},removeClass(e,t){e.classList.remove(t),e.classList.length===0&&e.removeAttribute("class")},all(e,t,i){if(!e)return[];let r=Array.from(e.querySelectorAll(t));return i?r.forEach(i):r},childNodeLength(e){let t=document.createElement("template");return t.innerHTML=e,t.content.childElementCount},isUploadInput(e){return e.type==="file"&&e.getAttribute(Ye)!==null},isAutoUpload(e){return e.hasAttribute("data-phx-auto-upload")},findUploadInputs(e){let t=e.id,i=this.all(document,`input[type="file"][${Ye}][form="${t}"]`);return this.all(e,`input[type="file"][${Ye}]`).concat(i)},findComponentNodeList(e,t){return this.filterWithinSameLiveView(this.all(e,`[${qe}="${t}"]`),e)},isPhxDestroyed(e){return!!(e.id&&Re.private(e,"destroyed"))},wantsNewTab(e){let t=e.ctrlKey||e.shiftKey||e.metaKey||e.button&&e.button===1,i=e.target instanceof HTMLAnchorElement&&e.target.hasAttribute("download"),r=e.target.hasAttribute("target")&&e.target.getAttribute("target").toLowerCase()==="_blank";return t||r||i},isUnloadableFormSubmit(e){return e.target&&e.target.getAttribute("method")==="dialog"||e.submitter&&e.submitter.getAttribute("formmethod")==="dialog"?!1:!e.defaultPrevented&&!this.wantsNewTab(e)},isNewPageClick(e,t){let i=e.target instanceof HTMLAnchorElement?e.target.getAttribute("href"):null,r;if(e.defaultPrevented||i===null||this.wantsNewTab(e)||i.startsWith("mailto:")||i.startsWith("tel:")||e.target.isContentEditable)return!1;try{r=new URL(i)}catch(n){try{r=new URL(i,t)}catch(s){return!0}}return r.host===t.host&&r.protocol===t.protocol&&r.pathname===t.pathname&&r.search===t.search?r.hash===""&&!r.href.endsWith("#"):r.protocol.startsWith("http")},markPhxChildDestroyed(e){this.isPhxChild(e)&&e.setAttribute(lt,""),this.putPrivate(e,"destroyed",!0)},findPhxChildrenInFragment(e,t){let i=document.createElement("template");return i.innerHTML=e,this.findPhxChildren(i.content,t)},isIgnored(e,t){return(e.getAttribute(t)||e.getAttribute("data-phx-update"))==="ignore"},isPhxUpdate(e,t,i){return e.getAttribute&&i.indexOf(e.getAttribute(t))>=0},findPhxSticky(e){return this.all(e,`[${Pa}]`)},findPhxChildren(e,t){return this.all(e,`${Bt}[${Mt}="${t}"]`)},findParentCIDs(e,t){let i=new Set(t),r=t.reduce((n,s)=>{let a=`[${qe}="${s}"] [${qe}]`;return this.filterWithinSameLiveView(this.all(e,a),e).map(o=>parseInt(o.getAttribute(qe))).forEach(o=>n.delete(o)),n},i);return r.size===0?new Set(t):r},filterWithinSameLiveView(e,t){return t.querySelector(Bt)?e.filter(i=>this.withinSameLiveView(i,t)):e},withinSameLiveView(e,t){for(;e=e.parentNode;){if(e.isSameNode(t))return!0;if(e.getAttribute(lt)!==null)return!1}},private(e,t){return e[Fe]&&e[Fe][t]},deletePrivate(e,t){e[Fe]&&delete e[Fe][t]},putPrivate(e,t,i){e[Fe]||(e[Fe]={}),e[Fe][t]=i},updatePrivate(e,t,i,r){let n=this.private(e,t);n===void 0?this.putPrivate(e,t,r(i)):this.putPrivate(e,t,r(n))},copyPrivates(e,t){t[Fe]&&(e[Fe]=t[Fe])},putTitle(e){let t=document.querySelector("title");if(t){let{prefix:i,suffix:r}=t.dataset;document.title=`${i||""}${e}${r||""}`}else document.title=e},debounce(e,t,i,r,n,s,a,o){let d=e.getAttribute(i),f=e.getAttribute(n);d===""&&(d=r),f===""&&(f=s);let g=d||f;switch(g){case null:return o();case"blur":this.once(e,"debounce-blur")&&e.addEventListener("blur",()=>o());return;default:let x=parseInt(g),_=()=>f?this.deletePrivate(e,si):o(),b=this.incCycle(e,ni,_);if(isNaN(x))return Ae(`invalid throttle/debounce value: ${g}`);if(f){let L=!1;if(t.type==="keydown"){let P=this.private(e,Ia);this.putPrivate(e,Ia,t.key),L=P!==t.key}if(!L&&this.private(e,si))return!1;{o();let P=setTimeout(()=>{a()&&this.triggerCycle(e,ni)},x);this.putPrivate(e,si,P)}}else setTimeout(()=>{a()&&this.triggerCycle(e,ni,b)},x);let k=e.form;k&&this.once(k,"bind-debounce")&&k.addEventListener("submit",()=>{Array.from(new FormData(k).entries(),([L])=>{let P=k.querySelector(`[name="${L}"]`);this.incCycle(P,ni),this.deletePrivate(P,si)})}),this.once(e,"bind-debounce")&&e.addEventListener("blur",()=>{clearTimeout(this.private(e,si)),this.triggerCycle(e,ni)})}},triggerCycle(e,t,i){let[r,n]=this.private(e,t);i||(i=r),i===r&&(this.incCycle(e,t),n())},once(e,t){return this.private(e,t)===!0?!1:(this.putPrivate(e,t,!0),!0)},incCycle(e,t,i=function(){}){let[r]=this.private(e,t)||[0,i];return r++,this.putPrivate(e,t,[r,i]),r},maybeAddPrivateHooks(e,t,i){e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute(i))&&e.setAttribute("data-phx-hook","Phoenix.InfiniteScroll")},isFeedbackContainer(e,t){return e.hasAttribute&&e.hasAttribute(t)},maybeHideFeedback(e,t,i,r){let n={};t.forEach(s=>{if(!e.contains(s))return;let a=s.getAttribute(i);if(!a){ge.addOrRemoveClasses(s,[],[Ni]);return}if(n[a]===!0){this.hideFeedback(s);return}n[a]=this.shouldHideFeedback(e,a,r),n[a]===!0&&this.hideFeedback(s)})},hideFeedback(e){ge.addOrRemoveClasses(e,[Ni],[])},shouldHideFeedback(e,t,i){let r=`[name="${t}"],
                   [name="${t}[]"],
                   [${i}="${t}"]`,n=!1;return Re.all(e,r,s=>{(this.private(s,mn)||this.private(s,Ki))&&(n=!0)}),!n},feedbackSelector(e,t,i){let r=`[${t}="${e.name}"],
                 [${t}="${e.name.replace(/\[\]$/,"")}"]`;return e.getAttribute(i)&&(r+=`,[${t}="${e.getAttribute(i)}"]`),r},resetForm(e,t,i){Array.from(e.elements).forEach(r=>{let n=this.feedbackSelector(r,t,i);this.deletePrivate(r,mn),this.deletePrivate(r,Ki),this.all(document,n,s=>{ge.addOrRemoveClasses(s,[Ni],[])})})},showError(e,t,i){if(e.name){let r=this.feedbackSelector(e,t,i);this.all(document,r,n=>{ge.addOrRemoveClasses(n,[],[Ni])})}},isPhxChild(e){return e.getAttribute&&e.getAttribute(Mt)},isPhxSticky(e){return e.getAttribute&&e.getAttribute(Pa)!==null},isChildOfAny(e,t){return!!t.find(i=>i.contains(e))},firstPhxChild(e){return this.isPhxChild(e)?e:this.all(e,`[${Mt}]`)[0]},dispatchEvent(e,t,i={}){let r=!0;e.nodeName==="INPUT"&&e.type==="file"&&t==="click"&&(r=!1);let a={bubbles:i.bubbles===void 0?r:!!i.bubbles,cancelable:!0,detail:i.detail||{}},o=t==="click"?new MouseEvent("click",a):new CustomEvent(t,a);e.dispatchEvent(o)},cloneNode(e,t){if(typeof t=="undefined")return e.cloneNode(!0);{let i=e.cloneNode(!1);return i.innerHTML=t,i}},mergeAttrs(e,t,i={}){let r=new Set(i.exclude||[]),n=i.isIgnored,s=t.attributes;for(let o=s.length-1;o>=0;o--){let d=s[o].name;if(r.has(d))d==="value"&&e.value===t.value&&e.setAttribute("value",t.getAttribute(d));else{let f=t.getAttribute(d);e.getAttribute(d)!==f&&(!n||n&&d.startsWith("data-"))&&e.setAttribute(d,f)}}let a=e.attributes;for(let o=a.length-1;o>=0;o--){let d=a[o].name;n?d.startsWith("data-")&&!t.hasAttribute(d)&&![Ee,at].includes(d)&&e.removeAttribute(d):t.hasAttribute(d)||e.removeAttribute(d)}},mergeFocusedInput(e,t){e instanceof HTMLSelectElement||Re.mergeAttrs(e,t,{exclude:["value"]}),t.readOnly?e.setAttribute("readonly",!0):e.removeAttribute("readonly")},hasSelectionRange(e){return e.setSelectionRange&&(e.type==="text"||e.type==="textarea")},restoreFocus(e,t,i){if(e instanceof HTMLSelectElement&&e.focus(),!Re.isTextualInput(e))return;let r=e.matches(":focus");e.readOnly&&e.blur(),r||e.focus(),this.hasSelectionRange(e)&&e.setSelectionRange(t,i)},isFormInput(e){return/^(?:input|select|textarea)$/i.test(e.tagName)&&e.type!=="button"},syncAttrsToProps(e){e instanceof HTMLInputElement&&io.indexOf(e.type.toLocaleLowerCase())>=0&&(e.checked=e.getAttribute("checked")!==null)},isTextualInput(e){return jc.indexOf(e.type)>=0},isNowTriggerFormExternal(e,t){return e.getAttribute&&e.getAttribute(t)!==null},syncPendingRef(e,t,i){let r=e.getAttribute(Ee);if(r===null)return!0;let n=e.getAttribute(at);return Re.isFormInput(e)||e.getAttribute(i)!==null?(Re.isUploadInput(e)&&Re.mergeAttrs(e,t,{isIgnored:!0}),Re.putPrivate(e,Ee,t),!1):(Za.forEach(s=>{e.classList.contains(s)&&t.classList.add(s)}),t.setAttribute(Ee,r),t.setAttribute(at,n),!0)},cleanChildNodes(e,t){if(Re.isPhxUpdate(e,t,["append","prepend"])){let i=[];e.childNodes.forEach(r=>{r.id||(r.nodeType===Node.TEXT_NODE&&r.nodeValue.trim()===""||Ae(`only HTML element tags with an id are allowed inside containers with phx-update.

removing illegal node: "${(r.outerHTML||r.nodeValue).trim()}"

`),i.push(r))}),i.forEach(r=>r.remove())}},replaceRootContainer(e,t,i){let r=new Set(["id",lt,hi,yn,Ht]);if(e.tagName.toLowerCase()===t.toLowerCase())return Array.from(e.attributes).filter(n=>!r.has(n.name.toLowerCase())).forEach(n=>e.removeAttribute(n.name)),Object.keys(i).filter(n=>!r.has(n.toLowerCase())).forEach(n=>e.setAttribute(n,i[n])),e;{let n=document.createElement(t);return Object.keys(i).forEach(s=>n.setAttribute(s,i[s])),r.forEach(s=>n.setAttribute(s,e.getAttribute(s))),n.innerHTML=e.innerHTML,e.replaceWith(n),n}},getSticky(e,t,i){let r=(Re.private(e,"sticky")||[]).find(([n])=>t===n);if(r){let[n,s,a]=r;return a}else return typeof i=="function"?i():i},deleteSticky(e,t){this.updatePrivate(e,"sticky",[],i=>i.filter(([r,n])=>r!==t))},putSticky(e,t,i){let r=i(e);this.updatePrivate(e,"sticky",[],n=>{let s=n.findIndex(([a])=>t===a);return s>=0?n[s]=[t,i,r]:n.push([t,i,r]),n})},applyStickyOperations(e){let t=Re.private(e,"sticky");t&&t.forEach(([i,r,n])=>this.putSticky(e,i,r))}},y=Re,It=class{static isActive(e,t){let i=t._phxRef===void 0,r=It.isPreflightInProgress(t),s=e.getAttribute(fn).split(",").indexOf(ce.genFileRef(t))>=0;return t.size>0&&(i||s||!r)}static isPreflighted(e,t){return e.getAttribute(bn).split(",").indexOf(ce.genFileRef(t))>=0&&this.isActive(e,t)}static isPreflightInProgress(e){return e._preflightInProgress===!0}static markPreflightInProgress(e){e._preflightInProgress=!0}constructor(e,t,i){this.ref=ce.genFileRef(t),this.fileEl=e,this.file=t,this.view=i,this.meta=null,this._isCancelled=!1,this._isDone=!1,this._progress=0,this._lastProgressSent=-1,this._onDone=function(){},this._onElUpdated=this.onElUpdated.bind(this),this.fileEl.addEventListener(Xi,this._onElUpdated)}metadata(){return this.meta}progress(e){this._progress=Math.floor(e),this._progress>this._lastProgressSent&&(this._progress>=100?(this._progress=100,this._lastProgressSent=100,this._isDone=!0,this.view.pushFileProgress(this.fileEl,this.ref,100,()=>{ce.untrackFile(this.fileEl,this.file),this._onDone()})):(this._lastProgressSent=this._progress,this.view.pushFileProgress(this.fileEl,this.ref,this._progress)))}cancel(){this._isCancelled=!0,this._isDone=!0,this._onDone()}isDone(){return this._isDone}error(e="failed"){this.fileEl.removeEventListener(Xi,this._onElUpdated),this.view.pushFileProgress(this.fileEl,this.ref,{error:e}),y.isAutoUpload(this.fileEl)||ce.clearFiles(this.fileEl)}onDone(e){this._onDone=()=>{this.fileEl.removeEventListener(Xi,this._onElUpdated),e()}}onElUpdated(){this.fileEl.getAttribute(fn).split(",").indexOf(this.ref)===-1&&this.cancel()}toPreflightPayload(){return{last_modified:this.file.lastModified,name:this.file.name,relative_path:this.file.webkitRelativePath,size:this.file.size,type:this.file.type,ref:this.ref,meta:typeof this.file.meta=="function"?this.file.meta():void 0}}uploader(e){if(this.meta.uploader){let t=e[this.meta.uploader]||Ae(`no uploader configured for ${this.meta.uploader}`);return{name:this.meta.uploader,callback:t}}else return{name:"channel",callback:id}}zipPostFlight(e){this.meta=e.entries[this.ref],this.meta||Ae(`no preflight upload response returned with ref ${this.ref}`,{input:this.fileEl,response:e})}},sd=0,ce=class{static genFileRef(e){let t=e._phxRef;return t!==void 0?t:(e._phxRef=(sd++).toString(),e._phxRef)}static getEntryDataURL(e,t,i){let r=this.activeFiles(e).find(n=>this.genFileRef(n)===t);i(URL.createObjectURL(r))}static hasUploadsInProgress(e){let t=0;return y.findUploadInputs(e).forEach(i=>{i.getAttribute(bn)!==i.getAttribute(Fc)&&t++}),t>0}static serializeUploads(e){let t=this.activeFiles(e),i={};return t.forEach(r=>{let n={path:e.name},s=e.getAttribute(Ye);i[s]=i[s]||[],n.ref=this.genFileRef(r),n.last_modified=r.lastModified,n.name=r.name||n.ref,n.relative_path=r.webkitRelativePath,n.type=r.type,n.size=r.size,typeof r.meta=="function"&&(n.meta=r.meta()),i[s].push(n)}),i}static clearFiles(e){e.value=null,e.removeAttribute(Ye),y.putPrivate(e,"files",[])}static untrackFile(e,t){y.putPrivate(e,"files",y.private(e,"files").filter(i=>!Object.is(i,t)))}static trackFiles(e,t,i){if(e.getAttribute("multiple")!==null){let r=t.filter(n=>!this.activeFiles(e).find(s=>Object.is(s,n)));y.putPrivate(e,"files",this.activeFiles(e).concat(r)),e.value=null}else i&&i.files.length>0&&(e.files=i.files),y.putPrivate(e,"files",t)}static activeFileInputs(e){let t=y.findUploadInputs(e);return Array.from(t).filter(i=>i.files&&this.activeFiles(i).length>0)}static activeFiles(e){return(y.private(e,"files")||[]).filter(t=>It.isActive(e,t))}static inputsAwaitingPreflight(e){let t=y.findUploadInputs(e);return Array.from(t).filter(i=>this.filesAwaitingPreflight(i).length>0)}static filesAwaitingPreflight(e){return this.activeFiles(e).filter(t=>!It.isPreflighted(e,t)&&!It.isPreflightInProgress(t))}static markPreflightInProgress(e){e.forEach(t=>It.markPreflightInProgress(t.file))}constructor(e,t,i){this.view=t,this.onComplete=i,this._entries=Array.from(ce.filesAwaitingPreflight(e)||[]).map(r=>new It(e,r,t)),ce.markPreflightInProgress(this._entries),this.numEntriesInProgress=this._entries.length}entries(){return this._entries}initAdapterUpload(e,t,i){this._entries=this._entries.map(n=>(n.zipPostFlight(e),n.onDone(()=>{this.numEntriesInProgress--,this.numEntriesInProgress===0&&this.onComplete()}),n));let r=this._entries.reduce((n,s)=>{if(!s.meta)return n;let{name:a,callback:o}=s.uploader(i.uploaders);return n[a]=n[a]||{callback:o,entries:[]},n[a].entries.push(s),n},{});for(let n in r){let{callback:s,entries:a}=r[n];s(a,t,e,i)}}},no={LiveFileUpload:{activeRefs(){return this.el.getAttribute(fn)},preflightedRefs(){return this.el.getAttribute(bn)},mounted(){this.preflightedWas=this.preflightedRefs()},updated(){let e=this.preflightedRefs();this.preflightedWas!==e&&(this.preflightedWas=e,e===""&&this.__view.cancelSubmit(this.el.form)),this.activeRefs()===""&&(this.el.value=null),this.el.dispatchEvent(new CustomEvent(Xi))}},LiveImgPreview:{mounted(){this.ref=this.el.getAttribute("data-phx-entry-ref"),this.inputEl=document.getElementById(this.el.getAttribute(Ye)),ce.getEntryDataURL(this.inputEl,this.ref,e=>{this.url=e,this.el.src=e})},destroyed(){URL.revokeObjectURL(this.url)}},FocusWrap:{mounted(){this.focusStart=this.el.firstElementChild,this.focusEnd=this.el.lastElementChild,this.focusStart.addEventListener("focus",()=>Nt.focusLast(this.el)),this.focusEnd.addEventListener("focus",()=>Nt.focusFirst(this.el)),this.el.addEventListener("phx:show-end",()=>this.el.focus()),window.getComputedStyle(this.el).display!=="none"&&Nt.focusFirst(this.el)}}},so=e=>["scroll","auto"].indexOf(getComputedStyle(e).overflowY)>=0?e:document.documentElement===e?null:so(e.parentElement),ja=e=>e?e.scrollTop:document.documentElement.scrollTop||document.body.scrollTop,wn=e=>e?e.getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight,_n=e=>e?e.getBoundingClientRect().top:0,ad=(e,t)=>{let i=e.getBoundingClientRect();return i.top>=_n(t)&&i.left>=0&&i.top<=wn(t)},od=(e,t)=>{let i=e.getBoundingClientRect();return i.right>=_n(t)&&i.left>=0&&i.bottom<=wn(t)},Ua=(e,t)=>{let i=e.getBoundingClientRect();return i.top>=_n(t)&&i.left>=0&&i.top<=wn(t)};no.InfiniteScroll={mounted(){this.scrollContainer=so(this.el);let e=ja(this.scrollContainer),t=!1,i=500,r=null,n=this.throttle(i,(o,d)=>{r=()=>!0,this.liveSocket.execJSHookPush(this.el,o,{id:d.id,_overran:!0},()=>{r=null})}),s=this.throttle(i,(o,d)=>{r=()=>d.scrollIntoView({block:"start"}),this.liveSocket.execJSHookPush(this.el,o,{id:d.id},()=>{r=null,window.requestAnimationFrame(()=>{Ua(d,this.scrollContainer)||d.scrollIntoView({block:"start"})})})}),a=this.throttle(i,(o,d)=>{r=()=>d.scrollIntoView({block:"end"}),this.liveSocket.execJSHookPush(this.el,o,{id:d.id},()=>{r=null,window.requestAnimationFrame(()=>{Ua(d,this.scrollContainer)||d.scrollIntoView({block:"end"})})})});this.onScroll=o=>{let d=ja(this.scrollContainer);if(r)return e=d,r();let f=this.el.getBoundingClientRect(),g=this.el.getAttribute(this.liveSocket.binding("viewport-top")),x=this.el.getAttribute(this.liveSocket.binding("viewport-bottom")),_=this.el.lastElementChild,b=this.el.firstElementChild,k=d<e,L=d>e;k&&g&&!t&&f.top>=0?(t=!0,n(g,b)):L&&t&&f.top<=0&&(t=!1),g&&k&&ad(b,this.scrollContainer)?s(g,b):x&&L&&od(_,this.scrollContainer)&&a(x,_),e=d},this.scrollContainer?this.scrollContainer.addEventListener("scroll",this.onScroll):window.addEventListener("scroll",this.onScroll)},destroyed(){this.scrollContainer?this.scrollContainer.removeEventListener("scroll",this.onScroll):window.removeEventListener("scroll",this.onScroll)},throttle(e,t){let i=0,r;return(...n)=>{let s=Date.now(),a=e-(s-i);a<=0||a>e?(r&&(clearTimeout(r),r=null),i=s,t(...n)):r||(r=setTimeout(()=>{i=Date.now(),r=null,t(...n)},a))}}};var ld=no,hd=class{constructor(e,t,i){let r=new Set,n=new Set([...t.children].map(a=>a.id)),s=[];Array.from(e.children).forEach(a=>{if(a.id&&(r.add(a.id),n.has(a.id))){let o=a.previousElementSibling&&a.previousElementSibling.id;s.push({elementId:a.id,previousElementId:o})}}),this.containerId=t.id,this.updateType=i,this.elementsToModify=s,this.elementIdsToAdd=[...n].filter(a=>!r.has(a))}perform(){let e=y.byId(this.containerId);this.elementsToModify.forEach(t=>{t.previousElementId?ot(document.getElementById(t.previousElementId),i=>{ot(document.getElementById(t.elementId),r=>{r.previousElementSibling&&r.previousElementSibling.id==i.id||i.insertAdjacentElement("afterend",r)})}):ot(document.getElementById(t.elementId),i=>{i.previousElementSibling==null||e.insertAdjacentElement("afterbegin",i)})}),this.updateType=="prepend"&&this.elementIdsToAdd.reverse().forEach(t=>{ot(document.getElementById(t),i=>e.insertAdjacentElement("afterbegin",i))})}},Wa=11;function cd(e,t){var i=t.attributes,r,n,s,a,o;if(!(t.nodeType===Wa||e.nodeType===Wa)){for(var d=i.length-1;d>=0;d--)r=i[d],n=r.name,s=r.namespaceURI,a=r.value,s?(n=r.localName||n,o=e.getAttributeNS(s,n),o!==a&&(r.prefix==="xmlns"&&(n=r.name),e.setAttributeNS(s,n,a))):(o=e.getAttribute(n),o!==a&&e.setAttribute(n,a));for(var f=e.attributes,g=f.length-1;g>=0;g--)r=f[g],n=r.name,s=r.namespaceURI,s?(n=r.localName||n,t.hasAttributeNS(s,n)||e.removeAttributeNS(s,n)):t.hasAttribute(n)||e.removeAttribute(n)}}var Ui,dd="http://www.w3.org/1999/xhtml",ye=typeof document=="undefined"?void 0:document,ud=!!ye&&"content"in ye.createElement("template"),fd=!!ye&&ye.createRange&&"createContextualFragment"in ye.createRange();function pd(e){var t=ye.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function gd(e){Ui||(Ui=ye.createRange(),Ui.selectNode(ye.body));var t=Ui.createContextualFragment(e);return t.childNodes[0]}function md(e){var t=ye.createElement("body");return t.innerHTML=e,t.childNodes[0]}function vd(e){return e=e.trim(),ud?pd(e):fd?gd(e):md(e)}function Wi(e,t){var i=e.nodeName,r=t.nodeName,n,s;return i===r?!0:(n=i.charCodeAt(0),s=r.charCodeAt(0),n<=90&&s>=97?i===r.toUpperCase():s<=90&&n>=97?r===i.toUpperCase():!1)}function bd(e,t){return!t||t===dd?ye.createElement(e):ye.createElementNS(t,e)}function yd(e,t){for(var i=e.firstChild;i;){var r=i.nextSibling;t.appendChild(i),i=r}return t}function un(e,t,i){e[i]!==t[i]&&(e[i]=t[i],e[i]?e.setAttribute(i,""):e.removeAttribute(i))}var za={OPTION:function(e,t){var i=e.parentNode;if(i){var r=i.nodeName.toUpperCase();r==="OPTGROUP"&&(i=i.parentNode,r=i&&i.nodeName.toUpperCase()),r==="SELECT"&&!i.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),i.selectedIndex=-1)}un(e,t,"selected")},INPUT:function(e,t){un(e,t,"checked"),un(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var i=t.value;e.value!==i&&(e.value=i);var r=e.firstChild;if(r){var n=r.nodeValue;if(n==i||!i&&n==e.placeholder)return;r.nodeValue=i}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var i=-1,r=0,n=e.firstChild,s,a;n;)if(a=n.nodeName&&n.nodeName.toUpperCase(),a==="OPTGROUP")s=n,n=s.firstChild;else{if(a==="OPTION"){if(n.hasAttribute("selected")){i=r;break}r++}n=n.nextSibling,!n&&s&&(n=s.nextSibling,s=null)}e.selectedIndex=i}}},oi=1,Va=11,Xa=3,Ja=8;function st(){}function wd(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function _d(e){return function(i,r,n){if(n||(n={}),typeof r=="string")if(i.nodeName==="#document"||i.nodeName==="HTML"||i.nodeName==="BODY"){var s=r;r=ye.createElement("html"),r.innerHTML=s}else r=vd(r);else r.nodeType===Va&&(r=r.firstElementChild);var a=n.getNodeKey||wd,o=n.onBeforeNodeAdded||st,d=n.onNodeAdded||st,f=n.onBeforeElUpdated||st,g=n.onElUpdated||st,x=n.onBeforeNodeDiscarded||st,_=n.onNodeDiscarded||st,b=n.onBeforeElChildrenUpdated||st,k=n.skipFromChildren||st,L=n.addChild||function(H,N){return H.appendChild(N)},P=n.childrenOnly===!0,D=Object.create(null),M=[];function F(H){M.push(H)}function z(H,N){if(H.nodeType===oi)for(var Y=H.firstChild;Y;){var B=void 0;N&&(B=a(Y))?F(B):(_(Y),Y.firstChild&&z(Y,N)),Y=Y.nextSibling}}function de(H,N,Y){x(H)!==!1&&(N&&N.removeChild(H),_(H),z(H,Y))}function V(H){if(H.nodeType===oi||H.nodeType===Va)for(var N=H.firstChild;N;){var Y=a(N);Y&&(D[Y]=N),V(N),N=N.nextSibling}}V(i);function ee(H){d(H);for(var N=H.firstChild;N;){var Y=N.nextSibling,B=a(N);if(B){var X=D[B];X&&Wi(N,X)?(N.parentNode.replaceChild(X,N),I(X,N)):ee(N)}else ee(N);N=Y}}function C(H,N,Y){for(;N;){var B=N.nextSibling;(Y=a(N))?F(Y):de(N,H,!0),N=B}}function I(H,N,Y){var B=a(N);B&&delete D[B],!(!Y&&(f(H,N)===!1||(e(H,N),g(H),b(H,N)===!1)))&&(H.nodeName!=="TEXTAREA"?Q(H,N):za.TEXTAREA(H,N))}function Q(H,N){var Y=k(H,N),B=N.firstChild,X=H.firstChild,Oe,we,Ue,ct,Ce;e:for(;B;){for(ct=B.nextSibling,Oe=a(B);!Y&&X;){if(Ue=X.nextSibling,B.isSameNode&&B.isSameNode(X)){B=ct,X=Ue;continue e}we=a(X);var Ge=X.nodeType,Se=void 0;if(Ge===B.nodeType&&(Ge===oi?(Oe?Oe!==we&&((Ce=D[Oe])?Ue===Ce?Se=!1:(H.insertBefore(Ce,X),we?F(we):de(X,H,!0),X=Ce,we=a(X)):Se=!1):we&&(Se=!1),Se=Se!==!1&&Wi(X,B),Se&&I(X,B)):(Ge===Xa||Ge==Ja)&&(Se=!0,X.nodeValue!==B.nodeValue&&(X.nodeValue=B.nodeValue))),Se){B=ct,X=Ue;continue e}we?F(we):de(X,H,!0),X=Ue}if(Oe&&(Ce=D[Oe])&&Wi(Ce,B))Y||L(H,Ce),I(Ce,B);else{var dt=o(B);dt!==!1&&(dt&&(B=dt),B.actualize&&(B=B.actualize(H.ownerDocument||ye)),L(H,B),ee(B))}B=ct,X=Ue}C(H,X,we);var Ft=za[H.nodeName];Ft&&Ft(H,N)}var j=i,ue=j.nodeType,Ke=r.nodeType;if(!P){if(ue===oi)Ke===oi?Wi(i,r)||(_(i),j=yd(i,bd(r.nodeName,r.namespaceURI))):j=r;else if(ue===Xa||ue===Ja){if(Ke===ue)return j.nodeValue!==r.nodeValue&&(j.nodeValue=r.nodeValue),j;j=r}}if(j===r)_(i);else{if(r.isSameNode&&r.isSameNode(j))return;if(I(j,r,P),M)for(var ht=0,di=M.length;ht<di;ht++){var oe=D[M[ht]];oe&&de(oe,oe.parentNode,!1)}}return!P&&j!==i&&i.parentNode&&(j.actualize&&(j=j.actualize(i.ownerDocument||ye)),i.parentNode.replaceChild(j,i)),j}}var xd=_d(cd),qa=xd,zi=class{static patchEl(e,t,i){qa(e,t,{childrenOnly:!1,onBeforeElUpdated:(r,n)=>{if(i&&i.isSameNode(r)&&y.isFormInput(r))return y.mergeFocusedInput(r,n),!1}})}constructor(e,t,i,r,n,s){this.view=e,this.liveSocket=e.liveSocket,this.container=t,this.id=i,this.rootID=e.root.id,this.html=r,this.streams=n,this.streamInserts={},this.streamComponentRestore={},this.targetCID=s,this.cidPatch=Je(this.targetCID),this.pendingRemoves=[],this.phxRemove=this.liveSocket.binding("remove"),this.callbacks={beforeadded:[],beforeupdated:[],beforephxChildAdded:[],afteradded:[],afterupdated:[],afterdiscarded:[],afterphxChildAdded:[],aftertransitionsDiscarded:[]}}before(e,t){this.callbacks[`before${e}`].push(t)}after(e,t){this.callbacks[`after${e}`].push(t)}trackBefore(e,...t){this.callbacks[`before${e}`].forEach(i=>i(...t))}trackAfter(e,...t){this.callbacks[`after${e}`].forEach(i=>i(...t))}markPrunableContentForRemoval(){let e=this.liveSocket.binding(Gi);y.all(this.container,`[${e}=append] > *, [${e}=prepend] > *`,t=>{t.setAttribute(ka,"")})}perform(e){let{view:t,liveSocket:i,container:r,html:n}=this,s=this.isCIDPatch()?this.targetCIDContainer(n):r;if(this.isCIDPatch()&&!s)return;let a=i.getActiveElement(),{selectionStart:o,selectionEnd:d}=a&&y.hasSelectionRange(a)?a:{},f=i.binding(Gi),g=i.binding(qi),x=i.binding(Yi),_=i.binding(vn),b=i.binding(pn),k=i.binding(gn),L=i.binding($c),P=[],D=[],M=[],F=[],z=null;function de(V,ee){qa(V,ee,{childrenOnly:V.getAttribute(qe)===null,getNodeKey:C=>y.isPhxDestroyed(C)?null:e?C.id:C.id||C.getAttribute&&C.getAttribute(to),skipFromChildren:C=>C.getAttribute(f)===an,addChild:(C,I)=>{let{ref:Q,streamAt:j}=this.getStreamInsert(I);if(Q===void 0)return C.appendChild(I);if(this.setStreamRef(I,Q),j===0)C.insertAdjacentElement("afterbegin",I);else if(j===-1)C.appendChild(I);else if(j>0){let ue=Array.from(C.children)[j];C.insertBefore(I,ue)}},onBeforeNodeAdded:C=>{y.maybeAddPrivateHooks(C,b,k),this.trackBefore("added",C);let I=C;return!e&&this.streamComponentRestore[C.id]&&(I=this.streamComponentRestore[C.id],delete this.streamComponentRestore[C.id],de.bind(this)(I,C)),I},onNodeAdded:C=>{C.getAttribute&&this.maybeReOrderStream(C,!0),y.isFeedbackContainer(C,g)&&D.push(C),C instanceof HTMLImageElement&&C.srcset?C.srcset=C.srcset:C instanceof HTMLVideoElement&&C.autoplay&&C.play(),y.isNowTriggerFormExternal(C,L)&&(z=C),(y.isPhxChild(C)&&t.ownsElement(C)||y.isPhxSticky(C)&&t.ownsElement(C.parentNode))&&this.trackAfter("phxChildAdded",C),P.push(C)},onNodeDiscarded:C=>this.onNodeDiscarded(C),onBeforeNodeDiscarded:C=>C.getAttribute&&C.getAttribute(ka)!==null?!0:!(C.parentElement!==null&&C.id&&y.isPhxUpdate(C.parentElement,f,[an,"append","prepend"])||this.maybePendingRemove(C)||this.skipCIDSibling(C)),onElUpdated:C=>{y.isNowTriggerFormExternal(C,L)&&(z=C),M.push(C),this.maybeReOrderStream(C,!1)},onBeforeElUpdated:(C,I)=>{if(y.maybeAddPrivateHooks(I,b,k),(y.isFeedbackContainer(C,g)||y.isFeedbackContainer(I,g))&&(D.push(C),D.push(I)),y.cleanChildNodes(I,f),this.skipCIDSibling(I))return this.maybeReOrderStream(C),!1;if(y.isPhxSticky(C))return!1;if(y.isIgnored(C,f)||C.form&&C.form.isSameNode(z))return this.trackBefore("updated",C,I),y.mergeAttrs(C,I,{isIgnored:!0}),M.push(C),y.applyStickyOperations(C),!1;if(C.type==="number"&&C.validity&&C.validity.badInput)return!1;if(!y.syncPendingRef(C,I,_))return y.isUploadInput(C)&&(this.trackBefore("updated",C,I),M.push(C)),y.applyStickyOperations(C),!1;if(y.isPhxChild(I)){let ue=C.getAttribute(lt);return y.mergeAttrs(C,I,{exclude:[hi]}),ue!==""&&C.setAttribute(lt,ue),C.setAttribute(Ht,this.rootID),y.applyStickyOperations(C),!1}y.copyPrivates(I,C);let Q=a&&C.isSameNode(a)&&y.isFormInput(C),j=Q&&this.isChangedSelect(C,I);return Q&&C.type!=="hidden"&&!j?(this.trackBefore("updated",C,I),y.mergeFocusedInput(C,I),y.syncAttrsToProps(C),M.push(C),y.applyStickyOperations(C),!1):(j&&C.blur(),y.isPhxUpdate(I,f,["append","prepend"])&&F.push(new hd(C,I,I.getAttribute(f))),y.syncAttrsToProps(I),y.applyStickyOperations(I),this.trackBefore("updated",C,I),!0)}})}return this.trackBefore("added",r),this.trackBefore("updated",r,r),i.time("morphdom",()=>{this.streams.forEach(([V,ee,C,I])=>{ee.forEach(([Q,j,ue])=>{this.streamInserts[Q]={ref:V,streamAt:j,limit:ue,reset:I}}),I!==void 0&&y.all(r,`[${on}="${V}"]`,Q=>{this.removeStreamChildElement(Q)}),C.forEach(Q=>{let j=r.querySelector(`[id="${Q}"]`);j&&this.removeStreamChildElement(j)})}),e&&y.all(this.container,`[${f}=${an}]`,V=>{this.liveSocket.owner(V,ee=>{ee===this.view&&Array.from(V.children).forEach(C=>{this.removeStreamChildElement(C)})})}),de.bind(this)(s,n)}),i.isDebugEnabled()&&Qc(),F.length>0&&i.time("post-morph append/prepend restoration",()=>{F.forEach(V=>V.perform())}),y.maybeHideFeedback(s,D,g,x),i.silenceEvents(()=>y.restoreFocus(a,o,d)),y.dispatchEvent(document,"phx:update"),P.forEach(V=>this.trackAfter("added",V)),M.forEach(V=>this.trackAfter("updated",V)),this.transitionPendingRemoves(),z&&(i.unload(),Object.getPrototypeOf(z).submit.call(z)),!0}onNodeDiscarded(e){(y.isPhxChild(e)||y.isPhxSticky(e))&&this.liveSocket.destroyViewByEl(e),this.trackAfter("discarded",e)}maybePendingRemove(e){return e.getAttribute&&e.getAttribute(this.phxRemove)!==null?(this.pendingRemoves.push(e),!0):!1}removeStreamChildElement(e){this.maybePendingRemove(e)||(this.streamInserts[e.id]?(this.streamComponentRestore[e.id]=e,e.remove()):(e.remove(),this.onNodeDiscarded(e)))}getStreamInsert(e){return(e.id?this.streamInserts[e.id]:{})||{}}setStreamRef(e,t){y.putSticky(e,on,i=>i.setAttribute(on,t))}maybeReOrderStream(e,t){let{ref:i,streamAt:r,reset:n}=this.getStreamInsert(e);if(r!==void 0&&(this.setStreamRef(e,i),!(!n&&!t))){if(r===0)e.parentElement.insertBefore(e,e.parentElement.firstElementChild);else if(r>0){let s=Array.from(e.parentElement.children),a=s.indexOf(e);if(r>=s.length-1)e.parentElement.appendChild(e);else{let o=s[r];a>r?e.parentElement.insertBefore(e,o):e.parentElement.insertBefore(e,o.nextElementSibling)}}this.maybeLimitStream(e)}}maybeLimitStream(e){let{limit:t}=this.getStreamInsert(e),i=t!==null&&Array.from(e.parentElement.children);t&&t<0&&i.length>t*-1?i.slice(0,i.length+t).forEach(r=>this.removeStreamChildElement(r)):t&&t>=0&&i.length>t&&i.slice(t).forEach(r=>this.removeStreamChildElement(r))}transitionPendingRemoves(){let{pendingRemoves:e,liveSocket:t}=this;e.length>0&&(t.transitionRemoves(e),t.requestDOMUpdate(()=>{e.forEach(i=>{let r=y.firstPhxChild(i);r&&t.destroyViewByEl(r),i.remove()}),this.trackAfter("transitionsDiscarded",e)}))}isChangedSelect(e,t){if(!(e instanceof HTMLSelectElement)||e.multiple)return!1;if(e.options.length!==t.options.length)return!0;let i=e.selectedOptions[0],r=t.selectedOptions[0];return i&&i.hasAttribute("selected")&&r.setAttribute("selected",i.getAttribute("selected")),!e.isEqualNode(t)}isCIDPatch(){return this.cidPatch}skipCIDSibling(e){return e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute(eo)}targetCIDContainer(e){if(!this.isCIDPatch())return;let[t,...i]=y.findComponentNodeList(this.container,this.targetCID);return i.length===0&&y.childNodeLength(e)===1?t:t&&t.parentNode}indexOf(e,t){return Array.from(e.children).indexOf(t)}},Ed=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),Ad=new Set(["'",'"']),Ya=(e,t,i)=>{let r=0,n=!1,s,a,o,d,f,g,x=e.match(/^(\s*(?:<!--.*?-->\s*)*)<([^\s\/>]+)/);if(x===null)throw new Error(`malformed html ${e}`);for(r=x[0].length,s=x[1],o=x[2],d=r,r;r<e.length&&e.charAt(r)!==">";r++)if(e.charAt(r)==="="){let k=e.slice(r-3,r)===" id";r++;let L=e.charAt(r);if(Ad.has(L)){let P=r;for(r++,r;r<e.length&&e.charAt(r)!==L;r++);if(k){f=e.slice(P+1,r);break}}}let _=e.length-1;for(n=!1;_>=s.length+o.length;){let k=e.charAt(_);if(n)k==="-"&&e.slice(_-3,_)==="<!-"?(n=!1,_-=4):_-=1;else if(k===">"&&e.slice(_-2,_)==="--")n=!0,_-=3;else{if(k===">")break;_-=1}}a=e.slice(_+1,e.length);let b=Object.keys(t).map(k=>t[k]===!0?k:`${k}="${t[k]}"`).join(" ");if(i){let k=f?` id="${f}"`:"";Ed.has(o)?g=`<${o}${k}${b===""?"":" "}${b}/>`:g=`<${o}${k}${b===""?"":" "}${b}></${o}>`}else{let k=e.slice(d,_+1);g=`<${o}${b===""?"":" "}${b}${k}`}return[g,s,a]},Ka=class{static extract(e){let{[Na]:t,[Ma]:i,[Ha]:r}=e;return delete e[Na],delete e[Ma],delete e[Ha],{diff:e,title:r,reply:t||null,events:i||[]}}constructor(e,t){this.viewId=e,this.rendered={},this.magicId=0,this.mergeDiff(t)}parentViewId(){return this.viewId}toString(e){let[t,i]=this.recursiveToString(this.rendered,this.rendered[pe],e,!0,{});return[t,i]}recursiveToString(e,t=e[pe],i,r,n){i=i?new Set(i):null;let s={buffer:"",components:t,onlyCids:i,streams:new Set};return this.toOutputBuffer(e,null,s,r,n),[s.buffer,s.streams]}componentCIDs(e){return Object.keys(e[pe]||{}).map(t=>parseInt(t))}isComponentOnlyDiff(e){return e[pe]?Object.keys(e).length===1:!1}getComponent(e,t){return e[pe][t]}resetRender(e){this.rendered[pe][e]&&(this.rendered[pe][e].reset=!0)}mergeDiff(e){let t=e[pe],i={};if(delete e[pe],t){let r=this.rendered[pe]||{};for(let n in t)r[n]===void 0&&(t[n].reset=!0)}if(this.rendered=this.mutableMerge(this.rendered,e),this.rendered[pe]=this.rendered[pe]||{},t){let r=this.rendered[pe];for(let n in t)t[n]=this.cachedFindComponent(n,t[n],r,t,i);for(let n in t)r[n]=t[n];e[pe]=t}}cachedFindComponent(e,t,i,r,n){if(n[e])return n[e];{let s,a,o=t[$e];if(Je(o)){let d;o>0?d=this.cachedFindComponent(o,r[o],i,r,n):d=i[-o],a=d[$e],s=this.cloneMerge(d,t,!0),s[$e]=a}else s=t[$e]!==void 0||i[e]===void 0?t:this.cloneMerge(i[e],t,!1);return n[e]=s,s}}mutableMerge(e,t){return t[$e]!==void 0?t:(this.doMutableMerge(e,t),e)}doMutableMerge(e,t){for(let i in t){let r=t[i],n=e[i];ai(r)&&r[$e]===void 0&&ai(n)?this.doMutableMerge(n,r):e[i]=r}e[cn]&&(e.newRender=!0)}cloneMerge(e,t,i){let r=fe(fe({},e),t);for(let n in r){let s=t[n],a=e[n];ai(s)&&s[$e]===void 0&&ai(a)&&(r[n]=this.cloneMerge(a,s,i))}return i?(delete r.magicId,delete r.newRender):e[cn]&&(r.newRender=!0),r}componentToString(e){let[t,i]=this.recursiveCIDToString(this.rendered[pe],e,null),[r,n,s]=Ya(t,{});return[r,i]}pruneCIDs(e){e.forEach(t=>delete this.rendered[pe][t])}get(){return this.rendered}isNewFingerprint(e={}){return!!e[$e]}templateStatic(e,t){return typeof e=="number"?t[e]:e}nextMagicID(){return this.magicId++,`${this.parentViewId()}-${this.magicId}`}toOutputBuffer(e,t,i,r,n={}){if(e[$i])return this.comprehensionToBuffer(e,t,i);let{[$e]:s}=e;s=this.templateStatic(s,t);let a=e[cn],o=i.buffer;a&&(i.buffer=""),r&&a&&!e.magicId&&(e.newRender=!0,e.magicId=this.nextMagicID()),i.buffer+=s[0];for(let d=1;d<s.length;d++)this.dynamicToBuffer(e[d-1],t,i,r),i.buffer+=s[d];if(a){let d=!1,f;r||e.magicId?(d=r&&!e.newRender,f=fe({[to]:e.magicId},n)):f=n,d&&(f[eo]=!0);let[g,x,_]=Ya(i.buffer,f,d);e.newRender=!1,i.buffer=o+x+g+_}}comprehensionToBuffer(e,t,i){let{[$i]:r,[$e]:n,[Ba]:s}=e,[a,o,d,f]=s||[null,{},[],null];n=this.templateStatic(n,t);let g=t||e[Gc];for(let x=0;x<r.length;x++){let _=r[x];i.buffer+=n[0];for(let b=1;b<n.length;b++){let k=!1;this.dynamicToBuffer(_[b-1],g,i,k),i.buffer+=n[b]}}s!==void 0&&(e[$i].length>0||d.length>0||f)&&(delete e[Ba],e[$i]=[],i.streams.add(s))}dynamicToBuffer(e,t,i,r){if(typeof e=="number"){let[n,s]=this.recursiveCIDToString(i.components,e,i.onlyCids);i.buffer+=n,i.streams=new Set([...i.streams,...s])}else ai(e)?this.toOutputBuffer(e,t,i,r,{}):i.buffer+=e}recursiveCIDToString(e,t,i){let r=e[t]||Ae(`no component for CID ${t}`,e),n={[qe]:t},s=i&&!i.has(t);r.newRender=!s,r.magicId=`${this.parentViewId()}-c-${t}`;let a=!r.reset,[o,d]=this.recursiveToString(r,e,i,a,n);return delete r.reset,[o,d]}},Cd=1,li=class{static makeID(){return Cd++}static elementID(e){return e.phxHookId}constructor(e,t,i){this.__view=e,this.liveSocket=e.liveSocket,this.__callbacks=i,this.__listeners=new Set,this.__isDisconnected=!1,this.el=t,this.el.phxHookId=this.constructor.makeID();for(let r in this.__callbacks)this[r]=this.__callbacks[r]}__mounted(){this.mounted&&this.mounted()}__updated(){this.updated&&this.updated()}__beforeUpdate(){this.beforeUpdate&&this.beforeUpdate()}__destroyed(){this.destroyed&&this.destroyed()}__reconnected(){this.__isDisconnected&&(this.__isDisconnected=!1,this.reconnected&&this.reconnected())}__disconnected(){this.__isDisconnected=!0,this.disconnected&&this.disconnected()}pushEvent(e,t={},i=function(){}){return this.__view.pushHookEvent(this.el,null,e,t,i)}pushEventTo(e,t,i={},r=function(){}){return this.__view.withinTargets(e,(n,s)=>n.pushHookEvent(this.el,s,t,i,r))}handleEvent(e,t){let i=(r,n)=>n?e:t(r.detail);return window.addEventListener(`phx:${e}`,i),this.__listeners.add(i),i}removeHandleEvent(e){let t=e(null,!0);window.removeEventListener(`phx:${t}`,e),this.__listeners.delete(e)}upload(e,t){return this.__view.dispatchUploads(null,e,t)}uploadTo(e,t,i){return this.__view.withinTargets(e,(r,n)=>{r.dispatchUploads(n,t,i)})}__cleanup__(){this.__listeners.forEach(e=>this.removeHandleEvent(e))}},Vi=(e,t,i=[])=>{let f=t,{submitter:r}=f,n=Yn(f,["submitter"]),s;if(r&&r.name){let g=document.createElement("input");g.type="hidden";let x=r.getAttribute("form");x&&g.setAttribute("form",x),g.name=r.name,g.value=r.value,r.parentElement.insertBefore(g,r),s=g}let a=new FormData(e),o=[];a.forEach((g,x,_)=>{g instanceof File&&o.push(x)}),o.forEach(g=>a.delete(g));let d=new URLSearchParams;for(let[g,x]of a.entries())(i.length===0||i.indexOf(g)>=0)&&d.append(g,x);r&&s&&r.parentElement.removeChild(s);for(let g in n)d.append(g,n[g]);return d.toString()},ao=class{constructor(e,t,i,r,n){this.isDead=!1,this.liveSocket=t,this.flash=r,this.parent=i,this.root=i?i.root:this,this.el=e,this.id=this.el.id,this.ref=0,this.childJoins=0,this.loaderTimer=null,this.pendingDiffs=[],this.pruningCIDs=[],this.redirect=!1,this.href=null,this.joinCount=this.parent?this.parent.joinCount-1:0,this.joinPending=!0,this.destroyed=!1,this.joinCallback=function(s){s&&s()},this.stopCallback=function(){},this.pendingJoinOps=this.parent?null:[],this.viewHooks={},this.uploaders={},this.formSubmits=[],this.children=this.parent?null:{},this.root.children[this.id]={},this.channel=this.liveSocket.channel(`lv:${this.id}`,()=>{let s=this.href&&this.expandURL(this.href);return{redirect:this.redirect?s:void 0,url:this.redirect?void 0:s||void 0,params:this.connectParams(n),session:this.getSession(),static:this.getStatic(),flash:this.flash}})}setHref(e){this.href=e}setRedirect(e){this.redirect=!0,this.href=e}isMain(){return this.el.hasAttribute(yn)}connectParams(e){let t=this.liveSocket.params(this.el),i=y.all(document,`[${this.binding(Hc)}]`).map(r=>r.src||r.href).filter(r=>typeof r=="string");return i.length>0&&(t._track_static=i),t._mounts=this.joinCount,t._live_referer=e,t}isConnected(){return this.channel.canPush()}getSession(){return this.el.getAttribute(lt)}getStatic(){let e=this.el.getAttribute(hi);return e===""?null:e}destroy(e=function(){}){this.destroyAllChildren(),this.destroyed=!0,delete this.root.children[this.id],this.parent&&delete this.root.children[this.parent.id][this.id],clearTimeout(this.loaderTimer);let t=()=>{e();for(let i in this.viewHooks)this.destroyHook(this.viewHooks[i])};y.markPhxChildDestroyed(this.el),this.log("destroyed",()=>["the child has been removed from the parent"]),this.channel.leave().receive("ok",t).receive("error",t).receive("timeout",t)}setContainerClasses(...e){this.el.classList.remove(Ra,ii,Hi,Oa,nn),this.el.classList.add(...e)}showLoader(e){if(clearTimeout(this.loaderTimer),e)this.loaderTimer=setTimeout(()=>this.showLoader(),e);else{for(let t in this.viewHooks)this.viewHooks[t].__disconnected();this.setContainerClasses(ii)}}execAll(e){y.all(this.el,`[${e}]`,t=>this.liveSocket.execJS(t,t.getAttribute(e)))}hideLoader(){clearTimeout(this.loaderTimer),this.setContainerClasses(Ra),this.execAll(this.binding("connected"))}triggerReconnected(){for(let e in this.viewHooks)this.viewHooks[e].__reconnected()}log(e,t){this.liveSocket.log(this,e,t)}transition(e,t,i=function(){}){this.liveSocket.transition(e,t,i)}withinTargets(e,t){if(e instanceof HTMLElement||e instanceof SVGElement)return this.liveSocket.owner(e,i=>t(i,e));if(Je(e))y.findComponentNodeList(this.el,e).length===0?Ae(`no component found matching phx-target of ${e}`):t(this,parseInt(e));else{let i=Array.from(document.querySelectorAll(e));i.length===0&&Ae(`nothing found matching the phx-target selector "${e}"`),i.forEach(r=>this.liveSocket.owner(r,n=>t(n,r)))}}applyDiff(e,t,i){this.log(e,()=>["",Ji(t)]);let{diff:r,reply:n,events:s,title:a}=Ka.extract(t);i({diff:r,reply:n,events:s}),a&&window.requestAnimationFrame(()=>y.putTitle(a))}onJoin(e){let{rendered:t,container:i}=e;if(i){let[r,n]=i;this.el=y.replaceRootContainer(this.el,r,n)}this.childJoins=0,this.joinPending=!0,this.flash=null,je.dropLocal(this.liveSocket.localStorage,window.location.pathname,Ga),this.applyDiff("mount",t,({diff:r,events:n})=>{this.rendered=new Ka(this.id,r);let[s,a]=this.renderContainer(null,"join");this.dropPendingRefs();let o=this.formsForRecovery(s);this.joinCount++,o.length>0?o.forEach(([d,f,g],x)=>{this.pushFormRecovery(d,g,_=>{x===o.length-1&&this.onJoinComplete(_,s,a,n)})}):this.onJoinComplete(e,s,a,n)})}dropPendingRefs(){y.all(document,`[${at}="${this.id}"][${Ee}]`,e=>{e.removeAttribute(Ee),e.removeAttribute(at)})}onJoinComplete({live_patch:e},t,i,r){if(this.joinCount>1||this.parent&&!this.parent.isJoinPending())return this.applyJoinPatch(e,t,i,r);y.findPhxChildrenInFragment(t,this.id).filter(s=>{let a=s.id&&this.el.querySelector(`[id="${s.id}"]`),o=a&&a.getAttribute(hi);return o&&s.setAttribute(hi,o),a&&a.setAttribute(Ht,this.root.id),this.joinChild(s)}).length===0?this.parent?(this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i,r)]),this.parent.ackJoin(this)):(this.onAllChildJoinsComplete(),this.applyJoinPatch(e,t,i,r)):this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i,r)])}attachTrueDocEl(){this.el=y.byId(this.id),this.el.setAttribute(Ht,this.root.id)}execNewMounted(){let e=this.binding(pn),t=this.binding(gn);y.all(this.el,`[${e}], [${t}]`,i=>{y.maybeAddPrivateHooks(i,e,t),this.maybeAddNewHook(i)}),y.all(this.el,`[${this.binding(ri)}], [data-phx-${ri}]`,i=>{this.maybeAddNewHook(i)}),y.all(this.el,`[${this.binding(La)}]`,i=>this.maybeMounted(i))}applyJoinPatch(e,t,i,r){this.attachTrueDocEl();let n=new zi(this,this.el,this.id,t,i,null);if(n.markPrunableContentForRemoval(),this.performPatch(n,!1,!0),this.joinNewChildren(),this.execNewMounted(),this.joinPending=!1,this.liveSocket.dispatchEvents(r),this.applyPendingUpdates(),e){let{kind:s,to:a}=e;this.liveSocket.historyPatch(a,s)}this.hideLoader(),this.joinCount>1&&this.triggerReconnected(),this.stopCallback()}triggerBeforeUpdateHook(e,t){this.liveSocket.triggerDOM("onBeforeElUpdated",[e,t]);let i=this.getHook(e),r=i&&y.isIgnored(e,this.binding(Gi));if(i&&!e.isEqualNode(t)&&!(r&&td(e.dataset,t.dataset)))return i.__beforeUpdate(),i}maybeMounted(e){let t=e.getAttribute(this.binding(La)),i=t&&y.private(e,"mounted");t&&!i&&(this.liveSocket.execJS(e,t),y.putPrivate(e,"mounted",!0))}maybeAddNewHook(e,t){let i=this.addHook(e);i&&i.__mounted()}performPatch(e,t,i=!1){let r=[],n=!1,s=new Set;return e.after("added",a=>{this.liveSocket.triggerDOM("onNodeAdded",[a]);let o=this.binding(pn),d=this.binding(gn);y.maybeAddPrivateHooks(a,o,d),this.maybeAddNewHook(a),a.getAttribute&&this.maybeMounted(a)}),e.after("phxChildAdded",a=>{y.isPhxSticky(a)?this.liveSocket.joinRootViews():n=!0}),e.before("updated",(a,o)=>{this.triggerBeforeUpdateHook(a,o)&&s.add(a.id)}),e.after("updated",a=>{s.has(a.id)&&this.getHook(a).__updated()}),e.after("discarded",a=>{a.nodeType===Node.ELEMENT_NODE&&r.push(a)}),e.after("transitionsDiscarded",a=>this.afterElementsRemoved(a,t)),e.perform(i),this.afterElementsRemoved(r,t),n}afterElementsRemoved(e,t){let i=[];e.forEach(r=>{let n=y.all(r,`[${qe}]`),s=y.all(r,`[${this.binding(ri)}]`);n.concat(r).forEach(a=>{let o=this.componentID(a);Je(o)&&i.indexOf(o)===-1&&i.push(o)}),s.concat(r).forEach(a=>{let o=this.getHook(a);o&&this.destroyHook(o)})}),t&&this.maybePushComponentsDestroyed(i)}joinNewChildren(){y.findPhxChildren(this.el,this.id).forEach(e=>this.joinChild(e))}getChildById(e){return this.root.children[this.id][e]}getDescendentByEl(e){return e.id===this.id?this:this.children[e.getAttribute(Mt)][e.id]}destroyDescendent(e){for(let t in this.root.children)for(let i in this.root.children[t])if(i===e)return this.root.children[t][i].destroy()}joinChild(e){if(!this.getChildById(e.id)){let i=new ao(e,this.liveSocket,this);return this.root.children[this.id][i.id]=i,i.join(),this.childJoins++,!0}}isJoinPending(){return this.joinPending}ackJoin(e){this.childJoins--,this.childJoins===0&&(this.parent?this.parent.ackJoin(this):this.onAllChildJoinsComplete())}onAllChildJoinsComplete(){this.joinCallback(()=>{this.pendingJoinOps.forEach(([e,t])=>{e.isDestroyed()||t()}),this.pendingJoinOps=[]})}update(e,t){if(this.isJoinPending()||this.liveSocket.hasPendingLink()&&this.root.isMain())return this.pendingDiffs.push({diff:e,events:t});this.rendered.mergeDiff(e);let i=!1;this.rendered.isComponentOnlyDiff(e)?this.liveSocket.time("component patch complete",()=>{y.findParentCIDs(this.el,this.rendered.componentCIDs(e)).forEach(n=>{this.componentPatch(this.rendered.getComponent(e,n),n)&&(i=!0)})}):Fa(e)||this.liveSocket.time("full patch complete",()=>{let[r,n]=this.renderContainer(e,"update"),s=new zi(this,this.el,this.id,r,n,null);i=this.performPatch(s,!0)}),this.liveSocket.dispatchEvents(t),i&&this.joinNewChildren()}renderContainer(e,t){return this.liveSocket.time(`toString diff (${t})`,()=>{let i=this.el.tagName,r=e?this.rendered.componentCIDs(e).concat(this.pruningCIDs):null,[n,s]=this.rendered.toString(r);return[`<${i}>${n}</${i}>`,s]})}componentPatch(e,t){if(Fa(e))return!1;let[i,r]=this.rendered.componentToString(t),n=new zi(this,this.el,this.id,i,r,t);return this.performPatch(n,!0)}getHook(e){return this.viewHooks[li.elementID(e)]}addHook(e){if(li.elementID(e)||!e.getAttribute)return;let t=e.getAttribute(`data-phx-${ri}`)||e.getAttribute(this.binding(ri));if(t&&!this.ownsElement(e))return;let i=this.liveSocket.getHookCallbacks(t);if(i){e.id||Ae(`no DOM ID for hook "${t}". Hooks require a unique ID on each element.`,e);let r=new li(this,e,i);return this.viewHooks[li.elementID(r.el)]=r,r}else t!==null&&Ae(`unknown hook found for "${t}"`,e)}destroyHook(e){e.__destroyed(),e.__cleanup__(),delete this.viewHooks[li.elementID(e.el)]}applyPendingUpdates(){this.pendingDiffs.forEach(({diff:e,events:t})=>this.update(e,t)),this.pendingDiffs=[],this.eachChild(e=>e.applyPendingUpdates())}eachChild(e){let t=this.root.children[this.id]||{};for(let i in t)e(this.getChildById(i))}onChannel(e,t){this.liveSocket.onChannel(this.channel,e,i=>{this.isJoinPending()?this.root.pendingJoinOps.push([this,()=>t(i)]):this.liveSocket.requestDOMUpdate(()=>t(i))})}bindChannel(){this.liveSocket.onChannel(this.channel,"diff",e=>{this.liveSocket.requestDOMUpdate(()=>{this.applyDiff("update",e,({diff:t,events:i})=>this.update(t,i))})}),this.onChannel("redirect",({to:e,flash:t})=>this.onRedirect({to:e,flash:t})),this.onChannel("live_patch",e=>this.onLivePatch(e)),this.onChannel("live_redirect",e=>this.onLiveRedirect(e)),this.channel.onError(e=>this.onError(e)),this.channel.onClose(e=>this.onClose(e))}destroyAllChildren(){this.eachChild(e=>e.destroy())}onLiveRedirect(e){let{to:t,kind:i,flash:r}=e,n=this.expandURL(t);this.liveSocket.historyRedirect(n,i,r)}onLivePatch(e){let{to:t,kind:i}=e;this.href=this.expandURL(t),this.liveSocket.historyPatch(t,i)}expandURL(e){return e.startsWith("/")?`${window.location.protocol}//${window.location.host}${e}`:e}onRedirect({to:e,flash:t}){this.liveSocket.redirect(e,t)}isDestroyed(){return this.destroyed}joinDead(){this.isDead=!0}join(e){this.showLoader(this.liveSocket.loaderTimeout),this.bindChannel(),this.isMain()&&(this.stopCallback=this.liveSocket.withPageLoading({to:this.href,kind:"initial"})),this.joinCallback=t=>{t=t||function(){},e?e(this.joinCount,t):t()},this.liveSocket.wrapPush(this,{timeout:!1},()=>this.channel.join().receive("ok",t=>{this.isDestroyed()||this.liveSocket.requestDOMUpdate(()=>this.onJoin(t))}).receive("error",t=>!this.isDestroyed()&&this.onJoinError(t)).receive("timeout",()=>!this.isDestroyed()&&this.onJoinError({reason:"timeout"})))}onJoinError(e){if(e.reason==="reload"){this.log("error",()=>[`failed mount with ${e.status}. Falling back to page request`,e]),this.isMain()&&this.onRedirect({to:this.href});return}else if(e.reason==="unauthorized"||e.reason==="stale"){this.log("error",()=>["unauthorized live_redirect. Falling back to page request",e]),this.isMain()&&this.onRedirect({to:this.href});return}if((e.redirect||e.live_redirect)&&(this.joinPending=!1,this.channel.leave()),e.redirect)return this.onRedirect(e.redirect);if(e.live_redirect)return this.onLiveRedirect(e.live_redirect);this.displayError([ii,Hi,nn]),this.log("error",()=>["unable to join",e]),this.liveSocket.isConnected()&&this.liveSocket.reloadWithJitter(this)}onClose(e){if(!this.isDestroyed()){if(this.liveSocket.hasPendingLink()&&e!=="leave")return this.liveSocket.reloadWithJitter(this);this.destroyAllChildren(),this.liveSocket.dropActiveElement(this),document.activeElement&&document.activeElement.blur(),this.liveSocket.isUnloaded()&&this.showLoader(Jc)}}onError(e){this.onClose(e),this.liveSocket.isConnected()&&this.log("error",()=>["view crashed",e]),this.liveSocket.isUnloaded()||(this.liveSocket.isConnected()?this.displayError([ii,Hi,nn]):this.displayError([ii,Hi,Oa]))}displayError(e){this.isMain()&&y.dispatchEvent(window,"phx:page-loading-start",{detail:{to:this.href,kind:"error"}}),this.showLoader(),this.setContainerClasses(...e),this.execAll(this.binding("disconnected"))}pushWithReply(e,t,i,r=function(){}){if(!this.isConnected())return;let[n,[s],a]=e?e():[null,[],{}],o=function(){};return(a.page_loading||s&&s.getAttribute(this.binding(Ta))!==null)&&(o=this.liveSocket.withPageLoading({kind:"element",target:s})),typeof i.cid!="number"&&delete i.cid,this.liveSocket.wrapPush(this,{timeout:!0},()=>this.channel.push(t,i,Yc).receive("ok",d=>{let f=g=>{d.redirect&&this.onRedirect(d.redirect),d.live_patch&&this.onLivePatch(d.live_patch),d.live_redirect&&this.onLiveRedirect(d.live_redirect),o(),r(d,g)};d.diff?this.liveSocket.requestDOMUpdate(()=>{this.applyDiff("update",d.diff,({diff:g,reply:x,events:_})=>{n!==null&&this.undoRefs(n),this.update(g,_),f(x)})}):(n!==null&&this.undoRefs(n),f(null))}))}undoRefs(e){this.isConnected()&&y.all(document,`[${at}="${this.id}"][${Ee}="${e}"]`,t=>{let i=t.getAttribute(Lt),r=t.getAttribute(sn);t.removeAttribute(Ee),t.removeAttribute(at),r!==null&&(t.readOnly=r==="true",t.removeAttribute(sn)),i!==null&&(t.disabled=i==="true",t.removeAttribute(Lt)),Za.forEach(a=>y.removeClass(t,a));let n=t.getAttribute(Bi);n!==null&&(t.innerText=n,t.removeAttribute(Bi));let s=y.private(t,Ee);if(s){let a=this.triggerBeforeUpdateHook(t,s);zi.patchEl(t,s,this.liveSocket.getActiveElement()),a&&a.__updated(),y.deletePrivate(t,Ee)}})}putRef(e,t,i={}){let r=this.ref++,n=this.binding(vn);return i.loading&&(e=e.concat(y.all(document,i.loading))),e.forEach(s=>{s.classList.add(`phx-${t}-loading`),s.setAttribute(Ee,r),s.setAttribute(at,this.el.id);let a=s.getAttribute(n);a!==null&&(s.getAttribute(Bi)||s.setAttribute(Bi,s.innerText),a!==""&&(s.innerText=a),s.setAttribute(Lt,s.getAttribute(Lt)||s.disabled),s.setAttribute("disabled",""))}),[r,e,i]}componentID(e){let t=e.getAttribute&&e.getAttribute(qe);return t?parseInt(t):null}targetComponentID(e,t,i={}){if(Je(t))return t;let r=i.target||e.getAttribute(this.binding("target"));return Je(r)?parseInt(r):t&&(r!==null||i.target)?this.closestComponentID(t):null}closestComponentID(e){return Je(e)?e:e?ot(e.closest(`[${qe}]`),t=>this.ownsElement(t)&&this.componentID(t)):null}pushHookEvent(e,t,i,r,n){if(!this.isConnected())return this.log("hook",()=>["unable to push hook event. LiveView not connected",i,r]),!1;let[s,a,o]=this.putRef([e],"hook");return this.pushWithReply(()=>[s,a,o],"event",{type:"hook",event:i,value:r,cid:this.closestComponentID(t)},(d,f)=>n(f,s)),s}extractMeta(e,t,i){let r=this.binding("value-");for(let n=0;n<e.attributes.length;n++){t||(t={});let s=e.attributes[n].name;s.startsWith(r)&&(t[s.replace(r,"")]=e.getAttribute(s))}if(e.value!==void 0&&!(e instanceof HTMLFormElement)&&(t||(t={}),t.value=e.value,e.tagName==="INPUT"&&io.indexOf(e.type)>=0&&!e.checked&&delete t.value),i){t||(t={});for(let n in i)t[n]=i[n]}return t}pushEvent(e,t,i,r,n,s={},a){this.pushWithReply(()=>this.putRef([t],e,s),"event",{type:e,event:r,value:this.extractMeta(t,n,s.value),cid:this.targetComponentID(t,i,s)},(o,d)=>a&&a(d))}pushFileProgress(e,t,i,r=function(){}){this.liveSocket.withinOwners(e.form,(n,s)=>{n.pushWithReply(null,"progress",{event:e.getAttribute(n.binding(Vc)),ref:e.getAttribute(Ye),entry_ref:t,progress:i,cid:n.targetComponentID(e.form,s)},r)})}pushInput(e,t,i,r,n,s){let a,o=Je(i)?i:this.targetComponentID(e.form,t,n),d=()=>this.putRef([e,e.form],"change",n),f,g=this.extractMeta(e.form);e instanceof HTMLButtonElement&&(g.submitter=e),e.getAttribute(this.binding("change"))?f=Vi(e.form,fe({_target:n._target},g),[e.name]):f=Vi(e.form,fe({_target:n._target},g)),y.isUploadInput(e)&&e.files&&e.files.length>0&&ce.trackFiles(e,Array.from(e.files)),a=ce.serializeUploads(e);let x={type:"form",event:r,value:f,uploads:a,cid:o};this.pushWithReply(d,"event",x,_=>{if(y.showError(e,this.liveSocket.binding(qi),this.liveSocket.binding(Yi)),y.isUploadInput(e)&&y.isAutoUpload(e)){if(ce.filesAwaitingPreflight(e).length>0){let[b,k]=d();this.uploadFiles(e.form,t,b,o,L=>{s&&s(_),this.triggerAwaitingSubmit(e.form),this.undoRefs(b)})}}else s&&s(_)})}triggerAwaitingSubmit(e){let t=this.getScheduledSubmit(e);if(t){let[i,r,n,s]=t;this.cancelSubmit(e),s()}}getScheduledSubmit(e){return this.formSubmits.find(([t,i,r,n])=>t.isSameNode(e))}scheduleSubmit(e,t,i,r){if(this.getScheduledSubmit(e))return!0;this.formSubmits.push([e,t,i,r])}cancelSubmit(e){this.formSubmits=this.formSubmits.filter(([t,i,r])=>t.isSameNode(e)?(this.undoRefs(i),!1):!0)}disableForm(e,t={}){let i=g=>!(ci(g,`${this.binding(Gi)}=ignore`,g.form)||ci(g,"data-phx-update=ignore",g.form)),r=g=>g.hasAttribute(this.binding(vn)),n=g=>g.tagName=="BUTTON",s=g=>["INPUT","TEXTAREA","SELECT"].includes(g.tagName),a=Array.from(e.elements),o=a.filter(r),d=a.filter(n).filter(i),f=a.filter(s).filter(i);return d.forEach(g=>{g.setAttribute(Lt,g.disabled),g.disabled=!0}),f.forEach(g=>{g.setAttribute(sn,g.readOnly),g.readOnly=!0,g.files&&(g.setAttribute(Lt,g.disabled),g.disabled=!0)}),e.setAttribute(this.binding(Ta),""),this.putRef([e].concat(o).concat(d).concat(f),"submit",t)}pushFormSubmit(e,t,i,r,n,s){let a=()=>this.disableForm(e,n),o=this.targetComponentID(e,t);if(ce.hasUploadsInProgress(e)){let[d,f]=a(),g=()=>this.pushFormSubmit(e,t,i,r,n,s);return this.scheduleSubmit(e,d,n,g)}else if(ce.inputsAwaitingPreflight(e).length>0){let[d,f]=a(),g=()=>[d,f,n];this.uploadFiles(e,t,d,o,x=>{let _=this.extractMeta(e),b=Vi(e,fe({submitter:r},_));this.pushWithReply(g,"event",{type:"form",event:i,value:b,cid:o},s)})}else if(!(e.hasAttribute(Ee)&&e.classList.contains("phx-submit-loading"))){let d=this.extractMeta(e),f=Vi(e,fe({submitter:r},d));this.pushWithReply(a,"event",{type:"form",event:i,value:f,cid:o},s)}}uploadFiles(e,t,i,r,n){let s=this.joinCount,a=ce.activeFileInputs(e),o=a.length;a.forEach(d=>{let f=new ce(d,this,()=>{o--,o===0&&n()});this.uploaders[d]=f;let g=f.entries().map(_=>_.toPreflightPayload()),x={ref:d.getAttribute(Ye),entries:g,cid:this.targetComponentID(d.form,t)};this.log("upload",()=>["sending preflight request",x]),this.pushWithReply(null,"allow_upload",x,_=>{if(this.log("upload",()=>["got preflight response",_]),_.error){this.undoRefs(i);let[b,k]=_.error;this.log("upload",()=>[`error for entry ${b}`,k])}else{let b=k=>{this.channel.onError(()=>{this.joinCount===s&&k()})};f.initAdapterUpload(_,b,this.liveSocket)}})})}dispatchUploads(e,t,i){let r=this.targetCtxElement(e)||this.el,n=y.findUploadInputs(r).filter(s=>s.name===t);n.length===0?Ae(`no live file inputs found matching the name "${t}"`):n.length>1?Ae(`duplicate live file inputs found matching the name "${t}"`):y.dispatchEvent(n[0],Qa,{detail:{files:i}})}targetCtxElement(e){if(Je(e)){let[t]=y.findComponentNodeList(this.el,e);return t}else return e||null}pushFormRecovery(e,t,i){this.liveSocket.withinOwners(e,(r,n)=>{let s=this.binding("change"),a=Array.from(e.elements).filter(f=>y.isFormInput(f)&&f.name&&!f.hasAttribute(s));if(a.length===0)return;a.forEach(f=>f.hasAttribute(Ye)&&ce.clearFiles(f));let o=a.find(f=>f.type!=="hidden")||a[0],d=e.getAttribute(this.binding(Da))||e.getAttribute(this.binding("change"));ge.exec("change",d,r,o,["push",{_target:o.name,newCid:t,callback:i}])})}pushLinkPatch(e,t,i){let r=this.liveSocket.setPendingLink(e),n=t?()=>this.putRef([t],"click"):null,s=()=>this.liveSocket.redirect(window.location.href),a=e.startsWith("/")?`${location.protocol}//${location.host}${e}`:e,o=this.pushWithReply(n,"live_patch",{url:a},d=>{this.liveSocket.requestDOMUpdate(()=>{d.link_redirect?this.liveSocket.replaceMain(e,null,i,r):(this.liveSocket.commitPendingLink(r)&&(this.href=e),this.applyPendingUpdates(),i&&i(r))})});o?o.receive("timeout",s):s()}formsForRecovery(e){if(this.joinCount===0)return[];let t=this.binding("change"),i=document.createElement("template");return i.innerHTML=e,y.all(this.el,`form[${t}]`).filter(r=>r.id&&this.ownsElement(r)).filter(r=>r.elements.length>0).filter(r=>r.getAttribute(this.binding(Da))!=="ignore").map(r=>{let n=CSS.escape(r.getAttribute(t)),s=i.content.querySelector(`form[id="${r.id}"][${t}="${n}"]`);return s?[r,s,this.targetComponentID(s)]:[r,r,this.targetComponentID(r)]}).filter(([r,n,s])=>n)}maybePushComponentsDestroyed(e){let t=e.concat(this.pruningCIDs).filter(i=>y.findComponentNodeList(this.el,i).length===0);this.pruningCIDs=t.concat([]),t.length>0&&(t.forEach(i=>this.rendered.resetRender(i)),this.pushWithReply(null,"cids_will_destroy",{cids:t},()=>{let i=t.filter(r=>y.findComponentNodeList(this.el,r).length===0);i.length>0&&this.pushWithReply(null,"cids_destroyed",{cids:i},r=>{this.pruningCIDs=this.pruningCIDs.filter(n=>r.cids.indexOf(n)===-1),this.rendered.pruneCIDs(r.cids)})}))}ownsElement(e){let t=e.closest(Bt);return e.getAttribute(Mt)===this.id||t&&t.id===this.id||!t&&this.isDead}submitForm(e,t,i,r,n={}){y.putPrivate(e,Ki,!0);let s=this.liveSocket.binding(qi),a=this.liveSocket.binding(Yi),o=Array.from(e.elements);o.forEach(d=>y.putPrivate(d,Ki,!0)),this.liveSocket.blurActiveElement(this),this.pushFormSubmit(e,t,i,r,n,()=>{o.forEach(d=>y.showError(d,s,a)),this.liveSocket.restorePreviouslyActiveFocus()})}binding(e){return this.liveSocket.binding(e)}},oo=class{constructor(e,t,i={}){if(this.unloaded=!1,!t||t.constructor.name==="Object")throw new Error(`
      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:

          import {Socket} from "phoenix"
          import {LiveSocket} from "phoenix_live_view"
          let liveSocket = new LiveSocket("/live", Socket, {...})
      `);this.socket=new t(e,i),this.bindingPrefix=i.bindingPrefix||qc,this.opts=i,this.params=dn(i.params||{}),this.viewLogger=i.viewLogger,this.metadataCallbacks=i.metadata||{},this.defaults=Object.assign(Ji(Kc),i.defaults||{}),this.activeElement=null,this.prevActive=null,this.silenced=!1,this.main=null,this.outgoingMainEl=null,this.clickStartedAtTarget=null,this.linkRef=1,this.roots={},this.href=window.location.href,this.pendingLink=null,this.currentLocation=Ji(window.location),this.hooks=i.hooks||{},this.uploaders=i.uploaders||{},this.loaderTimeout=i.loaderTimeout||Xc,this.reloadWithJitterTimer=null,this.maxReloads=i.maxReloads||Lc,this.reloadJitterMin=i.reloadJitterMin||Ic,this.reloadJitterMax=i.reloadJitterMax||Mc,this.failsafeJitter=i.failsafeJitter||Nc,this.localStorage=i.localStorage||window.localStorage,this.sessionStorage=i.sessionStorage||window.sessionStorage,this.boundTopLevelEvents=!1,this.domCallbacks=Object.assign({onNodeAdded:dn(),onBeforeElUpdated:dn()},i.dom||{}),this.transitions=new Sd,window.addEventListener("pagehide",r=>{this.unloaded=!0}),this.socket.onOpen(()=>{this.isUnloaded()&&window.location.reload()})}isProfileEnabled(){return this.sessionStorage.getItem(ln)==="true"}isDebugEnabled(){return this.sessionStorage.getItem(Fi)==="true"}isDebugDisabled(){return this.sessionStorage.getItem(Fi)==="false"}enableDebug(){this.sessionStorage.setItem(Fi,"true")}enableProfiling(){this.sessionStorage.setItem(ln,"true")}disableDebug(){this.sessionStorage.setItem(Fi,"false")}disableProfiling(){this.sessionStorage.removeItem(ln)}enableLatencySim(e){this.enableDebug(),console.log("latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable"),this.sessionStorage.setItem(hn,e)}disableLatencySim(){this.sessionStorage.removeItem(hn)}getLatencySim(){let e=this.sessionStorage.getItem(hn);return e?parseInt(e):null}getSocket(){return this.socket}connect(){window.location.hostname==="localhost"&&!this.isDebugDisabled()&&this.enableDebug();let e=()=>{this.joinRootViews()?(this.bindTopLevelEvents(),this.socket.connect()):this.main?this.socket.connect():this.bindTopLevelEvents({dead:!0}),this.joinDeadView()};["complete","loaded","interactive"].indexOf(document.readyState)>=0?e():document.addEventListener("DOMContentLoaded",()=>e())}disconnect(e){clearTimeout(this.reloadWithJitterTimer),this.socket.disconnect(e)}replaceTransport(e){clearTimeout(this.reloadWithJitterTimer),this.socket.replaceTransport(e),this.connect()}execJS(e,t,i=null){this.owner(e,r=>ge.exec(i,t,r,e))}execJSHookPush(e,t,i,r){this.withinOwners(e,n=>{ge.exec("hook",t,n,e,["push",{data:i,callback:r}])})}unload(){this.unloaded||(this.main&&this.isConnected()&&this.log(this.main,"socket",()=>["disconnect for page nav"]),this.unloaded=!0,this.destroyAllViews(),this.disconnect())}triggerDOM(e,t){this.domCallbacks[e](...t)}time(e,t){if(!this.isProfileEnabled()||!console.time)return t();console.time(e);let i=t();return console.timeEnd(e),i}log(e,t,i){if(this.viewLogger){let[r,n]=i();this.viewLogger(e,t,r,n)}else if(this.isDebugEnabled()){let[r,n]=i();ed(e,t,r,n)}}requestDOMUpdate(e){this.transitions.after(e)}transition(e,t,i=function(){}){this.transitions.addTransition(e,t,i)}onChannel(e,t,i){e.on(t,r=>{let n=this.getLatencySim();n?setTimeout(()=>i(r),n):i(r)})}wrapPush(e,t,i){let r=this.getLatencySim(),n=e.joinCount;if(!r)return this.isConnected()&&t.timeout?i().receive("timeout",()=>{e.joinCount===n&&!e.isDestroyed()&&this.reloadWithJitter(e,()=>{this.log(e,"timeout",()=>["received timeout while communicating with server. Falling back to hard refresh for recovery"])})}):i();let s={receives:[],receive(a,o){this.receives.push([a,o])}};return setTimeout(()=>{e.isDestroyed()||s.receives.reduce((a,[o,d])=>a.receive(o,d),i())},r),s}reloadWithJitter(e,t){clearTimeout(this.reloadWithJitterTimer),this.disconnect();let i=this.reloadJitterMin,r=this.reloadJitterMax,n=Math.floor(Math.random()*(r-i+1))+i,s=je.updateLocal(this.localStorage,window.location.pathname,Ga,0,a=>a+1);s>this.maxReloads&&(n=this.failsafeJitter),this.reloadWithJitterTimer=setTimeout(()=>{e.isDestroyed()||e.isConnected()||(e.destroy(),t?t():this.log(e,"join",()=>[`encountered ${s} consecutive reloads`]),s>this.maxReloads&&this.log(e,"join",()=>[`exceeded ${this.maxReloads} consecutive reloads. Entering failsafe mode`]),this.hasPendingLink()?window.location=this.pendingLink:window.location.reload())},n)}getHookCallbacks(e){return e&&e.startsWith("Phoenix.")?ld[e.split(".")[1]]:this.hooks[e]}isUnloaded(){return this.unloaded}isConnected(){return this.socket.isConnected()}getBindingPrefix(){return this.bindingPrefix}binding(e){return`${this.getBindingPrefix()}${e}`}channel(e,t){return this.socket.channel(e,t)}joinDeadView(){let e=document.body;if(e&&!this.isPhxView(e)&&!this.isPhxView(document.firstElementChild)){let t=this.newRootView(e);t.setHref(this.getHref()),t.joinDead(),this.main||(this.main=t),window.requestAnimationFrame(()=>t.execNewMounted())}}joinRootViews(){let e=!1;return y.all(document,`${Bt}:not([${Mt}])`,t=>{if(!this.getRootById(t.id)){let i=this.newRootView(t);i.setHref(this.getHref()),i.join(),t.hasAttribute(yn)&&(this.main=i)}e=!0}),e}redirect(e,t){this.unload(),je.redirect(e,t)}replaceMain(e,t,i=null,r=this.setPendingLink(e)){let n=this.currentLocation.href;this.outgoingMainEl=this.outgoingMainEl||this.main.el;let s=y.cloneNode(this.outgoingMainEl,"");this.main.showLoader(this.loaderTimeout),this.main.destroy(),this.main=this.newRootView(s,t,n),this.main.setRedirect(e),this.transitionRemoves(null,!0),this.main.join((a,o)=>{a===1&&this.commitPendingLink(r)&&this.requestDOMUpdate(()=>{y.findPhxSticky(document).forEach(d=>s.appendChild(d)),this.outgoingMainEl.replaceWith(s),this.outgoingMainEl=null,i&&i(r),o()})})}transitionRemoves(e,t){let i=this.binding("remove");if(e=e||y.all(document,`[${i}]`),t){let r=y.findPhxSticky(document)||[];e=e.filter(n=>!y.isChildOfAny(n,r))}e.forEach(r=>{this.execJS(r,r.getAttribute(i),"remove")})}isPhxView(e){return e.getAttribute&&e.getAttribute(lt)!==null}newRootView(e,t,i){let r=new ao(e,this,null,t,i);return this.roots[r.id]=r,r}owner(e,t){let i=ot(e.closest(Bt),r=>this.getViewByEl(r))||this.main;i&&t(i)}withinOwners(e,t){this.owner(e,i=>t(i,e))}getViewByEl(e){let t=e.getAttribute(Ht);return ot(this.getRootById(t),i=>i.getDescendentByEl(e))}getRootById(e){return this.roots[e]}destroyAllViews(){for(let e in this.roots)this.roots[e].destroy(),delete this.roots[e];this.main=null}destroyViewByEl(e){let t=this.getRootById(e.getAttribute(Ht));t&&t.id===e.id?(t.destroy(),delete this.roots[t.id]):t&&t.destroyDescendent(e.id)}setActiveElement(e){if(this.activeElement===e)return;this.activeElement=e;let t=()=>{e===this.activeElement&&(this.activeElement=null),e.removeEventListener("mouseup",this),e.removeEventListener("touchend",this)};e.addEventListener("mouseup",t),e.addEventListener("touchend",t)}getActiveElement(){return document.activeElement===document.body?this.activeElement||document.activeElement:document.activeElement||document.body}dropActiveElement(e){this.prevActive&&e.ownsElement(this.prevActive)&&(this.prevActive=null)}restorePreviouslyActiveFocus(){this.prevActive&&this.prevActive!==document.body&&this.prevActive.focus()}blurActiveElement(){this.prevActive=this.getActiveElement(),this.prevActive!==document.body&&this.prevActive.blur()}bindTopLevelEvents({dead:e}={}){this.boundTopLevelEvents||(this.boundTopLevelEvents=!0,this.socket.onClose(t=>{if(t&&t.code===1e3&&this.main)return this.reloadWithJitter(this.main)}),document.body.addEventListener("click",function(){}),window.addEventListener("pageshow",t=>{t.persisted&&(this.getSocket().disconnect(),this.withPageLoading({to:window.location.href,kind:"redirect"}),window.location.reload())},!0),e||this.bindNav(),this.bindClicks(),e||this.bindForms(),this.bind({keyup:"keyup",keydown:"keydown"},(t,i,r,n,s,a)=>{let o=n.getAttribute(this.binding(zc)),d=t.key&&t.key.toLowerCase();if(o&&o.toLowerCase()!==d)return;let f=fe({key:t.key},this.eventMeta(i,t,n));ge.exec(i,s,r,n,["push",{data:f}])}),this.bind({blur:"focusout",focus:"focusin"},(t,i,r,n,s,a)=>{if(!a){let o=fe({key:t.key},this.eventMeta(i,t,n));ge.exec(i,s,r,n,["push",{data:o}])}}),this.bind({blur:"blur",focus:"focus"},(t,i,r,n,s,a)=>{if(a==="window"){let o=this.eventMeta(i,t,n);ge.exec(i,s,r,n,["push",{data:o}])}}),window.addEventListener("dragover",t=>t.preventDefault()),window.addEventListener("drop",t=>{t.preventDefault();let i=ot(ci(t.target,this.binding(Sa)),s=>s.getAttribute(this.binding(Sa))),r=i&&document.getElementById(i),n=Array.from(t.dataTransfer.files||[]);!r||r.disabled||n.length===0||!(r.files instanceof FileList)||(ce.trackFiles(r,n,t.dataTransfer),r.dispatchEvent(new Event("input",{bubbles:!0})))}),this.on(Qa,t=>{let i=t.target;if(!y.isUploadInput(i))return;let r=Array.from(t.detail.files||[]).filter(n=>n instanceof File||n instanceof Blob);ce.trackFiles(i,r),i.dispatchEvent(new Event("input",{bubbles:!0}))}))}eventMeta(e,t,i){let r=this.metadataCallbacks[e];return r?r(t,i):{}}setPendingLink(e){return this.linkRef++,this.pendingLink=e,this.linkRef}commitPendingLink(e){return this.linkRef!==e?!1:(this.href=this.pendingLink,this.pendingLink=null,!0)}getHref(){return this.href}hasPendingLink(){return!!this.pendingLink}bind(e,t){for(let i in e){let r=e[i];this.on(r,n=>{let s=this.binding(i),a=this.binding(`window-${i}`),o=n.target.getAttribute&&n.target.getAttribute(s);o?this.debounce(n.target,n,r,()=>{this.withinOwners(n.target,d=>{t(n,i,d,n.target,o,null)})}):y.all(document,`[${a}]`,d=>{let f=d.getAttribute(a);this.debounce(d,n,r,()=>{this.withinOwners(d,g=>{t(n,i,g,d,f,"window")})})})})}}bindClicks(){window.addEventListener("mousedown",e=>this.clickStartedAtTarget=e.target),this.bindClick("click","click",!1),this.bindClick("mousedown","capture-click",!0)}bindClick(e,t,i){let r=this.binding(t);window.addEventListener(e,n=>{let s=null;if(i)s=n.target.matches(`[${r}]`)?n.target:n.target.querySelector(`[${r}]`);else{n.detail===0&&(this.clickStartedAtTarget=n.target);let o=this.clickStartedAtTarget||n.target;s=ci(o,r),this.dispatchClickAway(n,o),this.clickStartedAtTarget=null}let a=s&&s.getAttribute(r);if(!a){!i&&y.isNewPageClick(n,window.location)&&this.unload();return}s.getAttribute("href")==="#"&&n.preventDefault(),!s.hasAttribute(Ee)&&this.debounce(s,n,"click",()=>{this.withinOwners(s,o=>{ge.exec("click",a,o,s,["push",{data:this.eventMeta("click",n,s)}])})})},i)}dispatchClickAway(e,t){let i=this.binding("click-away");y.all(document,`[${i}]`,r=>{r.isSameNode(t)||r.contains(t)||this.withinOwners(r,n=>{let s=r.getAttribute(i);ge.isVisible(r)&&ge.isInViewport(r)&&ge.exec("click",s,n,r,["push",{data:this.eventMeta("click",e,e.target)}])})})}bindNav(){if(!je.canPushState())return;history.scrollRestoration&&(history.scrollRestoration="manual");let e=null;window.addEventListener("scroll",t=>{clearTimeout(e),e=setTimeout(()=>{je.updateCurrentState(i=>Object.assign(i,{scroll:window.scrollY}))},100)}),window.addEventListener("popstate",t=>{if(!this.registerNewLocation(window.location))return;let{type:i,id:r,root:n,scroll:s}=t.state||{},a=window.location.href;y.dispatchEvent(window,"phx:navigate",{detail:{href:a,patch:i==="patch",pop:!0}}),this.requestDOMUpdate(()=>{this.main.isConnected()&&i==="patch"&&r===this.main.id?this.main.pushLinkPatch(a,null,()=>{this.maybeScroll(s)}):this.replaceMain(a,null,()=>{n&&this.replaceRootHistory(),this.maybeScroll(s)})})},!1),window.addEventListener("click",t=>{let i=ci(t.target,rn),r=i&&i.getAttribute(rn);if(!r||!this.isConnected()||!this.main||y.wantsNewTab(t))return;let n=i.href instanceof SVGAnimatedString?i.href.baseVal:i.href,s=i.getAttribute(Bc);t.preventDefault(),t.stopImmediatePropagation(),this.pendingLink!==n&&this.requestDOMUpdate(()=>{if(r==="patch")this.pushHistoryPatch(n,s,i);else if(r==="redirect")this.historyRedirect(n,s);else throw new Error(`expected ${rn} to be "patch" or "redirect", got: ${r}`);let a=i.getAttribute(this.binding("click"));a&&this.requestDOMUpdate(()=>this.execJS(i,a,"click"))})},!1)}maybeScroll(e){typeof e=="number"&&requestAnimationFrame(()=>{window.scrollTo(0,e)})}dispatchEvent(e,t={}){y.dispatchEvent(window,`phx:${e}`,{detail:t})}dispatchEvents(e){e.forEach(([t,i])=>this.dispatchEvent(t,i))}withPageLoading(e,t){y.dispatchEvent(window,"phx:page-loading-start",{detail:e});let i=()=>y.dispatchEvent(window,"phx:page-loading-stop",{detail:e});return t?t(i):i}pushHistoryPatch(e,t,i){if(!this.isConnected()||!this.main.isMain())return je.redirect(e);this.withPageLoading({to:e,kind:"patch"},r=>{this.main.pushLinkPatch(e,i,n=>{this.historyPatch(e,t,n),r()})})}historyPatch(e,t,i=this.setPendingLink(e)){this.commitPendingLink(i)&&(je.pushState(t,{type:"patch",id:this.main.id},e),y.dispatchEvent(window,"phx:navigate",{detail:{patch:!0,href:e,pop:!1}}),this.registerNewLocation(window.location))}historyRedirect(e,t,i){if(!this.isConnected()||!this.main.isMain())return je.redirect(e,i);if(/^\/$|^\/[^\/]+.*$/.test(e)){let{protocol:n,host:s}=window.location;e=`${n}//${s}${e}`}let r=window.scrollY;this.withPageLoading({to:e,kind:"redirect"},n=>{this.replaceMain(e,i,s=>{s===this.linkRef&&(je.pushState(t,{type:"redirect",id:this.main.id,scroll:r},e),y.dispatchEvent(window,"phx:navigate",{detail:{href:e,patch:!1,pop:!1}}),this.registerNewLocation(window.location)),n()})})}replaceRootHistory(){je.pushState("replace",{root:!0,type:"patch",id:this.main.id})}registerNewLocation(e){let{pathname:t,search:i}=this.currentLocation;return t+i===e.pathname+e.search?!1:(this.currentLocation=Ji(e),!0)}bindForms(){let e=0,t=!1;this.on("submit",i=>{let r=i.target.getAttribute(this.binding("submit")),n=i.target.getAttribute(this.binding("change"));!t&&n&&!r&&(t=!0,i.preventDefault(),this.withinOwners(i.target,s=>{s.disableForm(i.target),window.requestAnimationFrame(()=>{y.isUnloadableFormSubmit(i)&&this.unload(),i.target.submit()})}))},!0),this.on("submit",i=>{let r=i.target.getAttribute(this.binding("submit"));if(!r){y.isUnloadableFormSubmit(i)&&this.unload();return}i.preventDefault(),i.target.disabled=!0,this.withinOwners(i.target,n=>{ge.exec("submit",r,n,i.target,["push",{submitter:i.submitter}])})},!1);for(let i of["change","input"])this.on(i,r=>{let n=this.binding("change"),s=r.target,a=s.getAttribute(n),o=s.form&&s.form.getAttribute(n),d=a||o;if(!d||s.type==="number"&&s.validity&&s.validity.badInput)return;let f=a?s:s.form,g=e;e++;let{at:x,type:_}=y.private(s,"prev-iteration")||{};x===g-1&&i==="change"&&_==="input"||(y.putPrivate(s,"prev-iteration",{at:g,type:i}),this.debounce(s,r,i,()=>{this.withinOwners(f,b=>{y.putPrivate(s,mn,!0),y.isTextualInput(s)||this.setActiveElement(s),ge.exec("change",d,b,s,["push",{_target:r.target.name,dispatcher:f}])})}))},!1);this.on("reset",i=>{let r=i.target;y.resetForm(r,this.binding(qi),this.binding(Yi));let n=Array.from(r.elements).find(s=>s.type==="reset");n&&window.requestAnimationFrame(()=>{n.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1}))})})}debounce(e,t,i,r){if(i==="blur"||i==="focusout")return r();let n=this.binding(Uc),s=this.binding(Wc),a=this.defaults.debounce.toString(),o=this.defaults.throttle.toString();this.withinOwners(e,d=>{let f=()=>!d.isDestroyed()&&document.body.contains(e);y.debounce(e,t,n,a,s,o,f,()=>{r()})})}silenceEvents(e){this.silenced=!0,e(),this.silenced=!1}on(e,t){window.addEventListener(e,i=>{this.silenced||t(i)})}},Sd=class{constructor(){this.transitions=new Set,this.pendingOps=[]}reset(){this.transitions.forEach(e=>{clearTimeout(e),this.transitions.delete(e)}),this.flushPendingOps()}after(e){this.size()===0?e():this.pushPendingOp(e)}addTransition(e,t,i){t();let r=setTimeout(()=>{this.transitions.delete(r),i(),this.flushPendingOps()},e);this.transitions.add(r)}pushPendingOp(e){this.pendingOps.push(e)}size(){return this.transitions.size}flushPendingOps(){if(this.size()>0)return;let e=this.pendingOps.shift();e&&(e(),this.flushPendingOps())}};var Qi=Gn(ho());var co={createChart(){return Highcharts.chart("contribution-trend",{chart:{type:"column",height:250,displayErrors:!0,backgroundColor:null},credits:{enabled:!1},exporting:{enabled:!1},title:null,xAxis:{tickWidth:0,title:{text:"Months",style:{color:"#475467"}},labels:{style:{color:"#475467"}},categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0},colors:["#3C6921"],yAxis:{gridLineWidth:.5,gridLineColor:"#EAECF0",title:{text:"Number of users",style:{color:"#475467"}},labels:{style:{color:"#475467"}}},legend:{enabled:!1},tooltip:{useHTML:!0,formatter:function(){return this.key+"<b>: "+this.y.toLocaleString()+" Requests</b>"}},plotOptions:{column:{borderRadius:6,pointPadding:.3,groupPadding:.1,borderColor:null}},series:[{id:"registration",color:"#14B04C",data:[4692,2600,10700,6830,2750,1450,1500,4500,1400,7489,2823,849]}]})},mounted(){let e=this;e.chart=e.createChart()}};var kd={mounted(){var e=[],t=[];e=JSON.parse(this.el.dataset.items);var i=this.el.dataset.name,r=this.el.dataset.id;t=e;let n=document.getElementById(i.concat("-combo-container")),s=document.getElementById(i.concat("-items")),a=document.getElementById(i.concat("-selected_value")),o=document.getElementById(i.concat("-selected_value-placeholder")),d=document.getElementById(i.concat("_value_form_input")),f=document.getElementById(i.concat("_label_form_input")),g=document.getElementById(this.el.dataset.name);g.addEventListener("focus",_=>{s.setAttribute("style","display: block;")}),g.addEventListener("input",_=>{t=e.filter(b=>{let k=Number(b.name);return isNaN(k)?b.name.toLowerCase().startsWith(_.target.value.toLowerCase()):b.name.startsWith(_.target.value)}),x()}),a.addEventListener("click",_=>{n.classList.remove("hidden"),g.classList.remove("hidden"),s.classList.remove("hidden"),n.setAttribute("style","display: block;")}),document.addEventListener("click",_=>{let b=_.target,k=_.composedPath().includes(r);switch(b.id){case a.id:break;case g.id:break;case o.id:break;default:n.setAttribute("style","display: none;"),g.setAttribute("value",""),g.setAttribute("placeholder","Search"),g.classList.add("hidden"),s.classList.add("hidden");break}});function x(){for(;s.firstChild;)s.firstChild.remove();t.forEach(_=>{let b=document.createElement("li");b.setAttribute("class","group relative cursor-pointer select-none py-2 pl-3 pr-9 text-sm font-medium text-gray-900 hover:text-shablue-500 hover:bg-shablue-50"),b.setAttribute("role","option");let k=document.createTextNode(_.name);b.appendChild(k),b.addEventListener("click",L=>{g.setAttribute("value",_.name),g.setAttribute("placeholder",_.name),a.innerHTML=_.name,d!=null&&d.setAttribute("value",_.value),f!=null&&f.setAttribute("value",_.name),n.setAttribute("style","display: none;"),g.setAttribute("value",""),g.setAttribute("placeholder","Search"),g.classList.add("hidden"),s.classList.add("hidden")}),s.appendChild(b)})}x()}},uo=kd;var fo={createChart(){return Highcharts.chart("applicant-onboarding",{chart:{type:"line",displayErrors:!0,backgroundColor:null},credits:{enabled:!1},exporting:{enabled:!1},title:{text:null},subtitle:{text:null},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{title:{text:null}},legend:{enabled:!0},plotOptions:{line:{lineWidth:2,dataLabels:{enabled:!1},marker:{enabled:!1},enableMouseTracking:!0}},series:[{name:"Male",marker:{symbol:"diamond"},color:"#15BAF1",data:[162,128,24.1,37.9,42.2,76.4,99.8,88.4,53.5,92.2,22,17.8]},{name:"Female",color:"#ff4500",data:[16,18.2,23.1,27.9,32.2,36.4,39.8,38.4,35.5,29.2,22,17.8]}]})},mounted(){this.chart=this.createChart()}};var po={mounted(){let e=this.el.querySelectorAll("#otp-input input");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("input",function(){if(i.value.length==1&&t+1<e.length&&e[t+1].focus(),i.value.length>1){if(isNaN(i.value)){i.value="";return}let r=i.value.split("");for(let s=0;s<r.length&&!(s+t>=e.length);s++){let a=e[s+t];a.value=r[s]}let n=Math.min(e.length-1,t+r.length);e[n].focus()}}),i.addEventListener("keydown",function(r){if(r.keyCode==37){t>0&&(r.preventDefault(),e[t-1].focus(),e[t-1].select());return}if(r.keyCode==39){t+1<e.length&&(r.preventDefault(),e[t+1].focus(),e[t+1].select());return}if(r.keyCode==8&&i.value==""&&t!=0){for(let n=t;n<e.length-1;n++)e[n].value=e[n+1].value;e[t-1].value="",e[t-1].focus();return}if(r.keyCode==46&&t!=e.length-1){for(let n=t;n<e.length-1;n++)e[n].value=e[n+1].value;e[e.length-1].value="",r.preventDefault();return}})}}};var Td={mounted(){let e=this;var t=this.el.dataset.input_id,i=document.querySelector(`#hooked_phone_${t}`);let r=document.querySelector(`#error-msg-${t}`),n=document.querySelector(`#valid-msg-${t}`),s=["Invalid number","Invalid country code","Too short","Too long","Invalid number"];e.intel=window.intlTelInput(i,{initialCountry:"auto",separateDialCode:!0,preferredCountries:"ke",geoIpLookup:o=>{fetch("https://ipapi.co/json").then(d=>d.json()).then(d=>o(d.country_code)).catch(()=>o("ke"))},utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"});let a=()=>{i.classList.remove("error"),r.innerHTML="",r.classList.add("hidden"),n.classList.add("hidden")};i.addEventListener("blur",()=>{if(a(),i.value.trim())if(e.intel.isValidNumber()){n.classList.remove("hidden");var o=e.intel.getNumber();e.pushEventTo(this.el,"international_phone",{formatted:o})}else{i.classList.add("error");let d=e.intel.getValidationError();r.innerHTML=s[d],r.classList.remove("hidden")}}),i.addEventListener("change",a),i.addEventListener("keyup",a)}},go=Td;var Rd={mounted(){document.querySelectorAll("pre code").forEach(e=>{hljs.highlightElement(e)})}},mo=Rd;var Od={mounted(){let e=this;var t=[],i=[];t=JSON.parse(this.el.dataset.items);var r=this.el.dataset.name,n=this.el.dataset.id;i=t;let s=document.getElementById(r.concat("-combo-container")),a=document.getElementById(r.concat("-items")),o=document.getElementById(r.concat("-selected_value")),d=document.getElementById(r.concat("-selected_value-placeholder")),f=document.getElementById(this.el.dataset.name);f.addEventListener("focus",x=>{a.setAttribute("style","display: block;")}),o.addEventListener("click",x=>{s.classList.remove("hidden"),f.classList.remove("hidden"),a.classList.remove("hidden"),s.setAttribute("style","display: block;")}),f.addEventListener("input",x=>{i=t.filter(_=>{let b=Number(_.name);return isNaN(b)?_.name.toLowerCase().includes(x.target.value.toLowerCase()):_.name.startsWith(x.target.value)}),g()}),o.addEventListener("click",x=>{s.classList.remove("hidden"),f.classList.remove("hidden"),a.classList.remove("hidden"),s.setAttribute("style","display: block;")}),document.addEventListener("click",x=>{let _=x.target,b=x.composedPath().includes(n);switch(_.id){case o.id:break;case f.id:break;case d.id:break;default:s.setAttribute("style","display: none;"),f.setAttribute("value",""),f.setAttribute("placeholder","Search"),f.classList.add("hidden"),a.classList.add("hidden");break}});function g(){for(;a.firstChild;)a.firstChild.remove();i.forEach(x=>{let _=document.createElement("li");_.setAttribute("class","group relative cursor-pointer select-none py-2 pl-3 pr-9 text-gray-900 hover:text-accentcolor-800 hover:bg-accentcolor-50"),_.setAttribute("role","option");let b=document.createTextNode(x.name);_.appendChild(b),_.addEventListener("click",k=>{f.setAttribute("value",x.name),f.setAttribute("placeholder",x.name),o.innerHTML=x.name,e.pushEvent("combo_value",{source:r,selected:x.value}),s.setAttribute("style","display: none;"),f.setAttribute("value",""),f.setAttribute("placeholder","Search"),f.classList.add("hidden"),a.classList.add("hidden")}),a.appendChild(_)})}g()}},vo=Od;var bo={createChart(e){return console.log(e),Highcharts.chart("age-demographic",{chart:{type:"bar",backgroundColor:null,height:200},title:{text:null},subtitle:{text:null},exporting:{enabled:!1},xAxis:{categories:["18-25 Years","26-44 Years","45-59 Years","> 60 years"],title:{text:null},labels:{style:{color:"#344054"}},gridLineWidth:0,lineWidth:0},yAxis:{title:null,labels:{enabled:!1},gridLineWidth:0},plotOptions:{bar:{stacking:"normal",borderRadius:"20%",borderColor:null,pointWidth:20,dataLabels:{enabled:!1},groupPadding:0}},legend:{layout:"horizontal",align:"right",verticalAlign:"top",itemStyle:{color:"#344054"},itemHoverStyle:{color:"#CCCCCC"}},credits:{enabled:!1},series:[{name:"Male",data:[e.male_eighteen_twenty_five,e.male_twenty_six_forty_four,e.male_forty_six_fifty_nine,e.male_above_sixty],color:"#00A1594D"},{name:"Female",data:[e.female_eighteen_twenty_five,e.female_twenty_six_forty_four,e.female_forty_six_fifty_nine,e.female_above_sixty],color:"#14CF6A"}]})},mounted(){let e=this;e.handleEvent("graphed",({age_group:t})=>{e.chart=e.createChart(t)})}};var yo={createChart(e){return Highcharts.chart("gender-demographic",{chart:{type:"pie",height:240,backgroundColor:null},credits:{enabled:!1},exporting:{enabled:!1},title:null,tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{innerSize:"50%",allowPointSelect:!0,cursor:"pointer",borderColor:null,dataLabels:{enabled:!1},showInLegend:!0}},legend:{layout:"horizontal",align:"right",verticalAlign:"top",itemStyle:{color:"#BFBFBF"},itemHoverStyle:{color:"#CCCCCC"}},pane:{startAngle:0,endAngle:360,size:"160%",innerSize:"180%",background:[{backgroundColor:"#EAECF0",outerRadius:"60%",innerRadius:"50%",borderWidth:0}]},yAxis:{min:0,max:100,lineWidth:0,tickPositions:[]},series:[{id:"gender",name:"Gender",data:[{name:"Male",y:e.male,color:"#14B04C"},{name:"Female ",y:e.female,color:"#184833"},{name:"Unspecified ",y:e.other,color:"#ffec00"}]}]})},mounted(){let e=this;e.handleEvent("graphed",({gender_count:t})=>{console.log(t),e.chart=e.createChart(t)})}};var wo={createChart(e){return Highcharts.chart("registration-freq",{chart:{type:"column",height:250,displayErrors:!0,backgroundColor:null},credits:{enabled:!1},exporting:{enabled:!1},title:null,xAxis:{tickWidth:0,title:{text:"Months",style:{color:"#344054"}},labels:{style:{color:"#344054"}},categories:["January","February","March","April","May","June","July","August","September","October","November","December"]},colors:["#3C6921"],yAxis:{gridLineWidth:.5,gridLineColor:"#545659",title:{text:"Number of users",style:{color:"#344054"}},labels:{style:{color:"#344054"}}},legend:{enabled:!1},tooltip:{useHTML:!0,formatter:function(){return this.key+"<b>: "+this.y.toLocaleString()+" Registrations</b>"}},plotOptions:{column:{borderRadius:6,pointPadding:0,groupPadding:.1,borderColor:null}},series:[{id:"registration",color:"#14B04C",data:e}]})},mounted(){let e=this;e.handleEvent("graphed",({monthly_registrations:t})=>{let i=t.map(r=>r.registrations);e.chart=e.createChart(i)})}};var _o={createChart(e){return Highcharts.chart("status-demographic",{chart:{type:"pie",height:240,backgroundColor:null},credits:{enabled:!1},exporting:{enabled:!1},title:null,tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{innerSize:"50%",allowPointSelect:!0,cursor:"pointer",borderColor:null,dataLabels:{enabled:!1},showInLegend:!0}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:80,itemStyle:{color:"#BFBFBF"},itemHoverStyle:{color:"#CCCCCC"}},pane:{startAngle:0,endAngle:360,size:"160%",innerSize:"180%",background:[{backgroundColor:"#EAECF0",outerRadius:"60%",innerRadius:"50%",borderWidth:0}]},yAxis:{min:0,max:100,lineWidth:0,tickPositions:[]},series:[{id:"status",name:"Status",data:[{name:"Ready",y:e.ready,color:"#14B04C"},{name:"Active ",y:e.active,color:"#90EE90"},{name:"Inactive ",y:e.inactive,color:"#4CBB17"},{name:"Unavailable ",y:e.unavailable,color:"#00FF7F"}]}]})},mounted(){let e=this;e.handleEvent("graphed",({status_count:t})=>{console.log(t),e.chart=e.createChart(t)})}};var xo={createChart(){return Highcharts.chart("family-tree",{chart:{height:600,inverted:!0},title:{text:"Family Tree"},accessibility:{point:{descriptionFormat:"{add index 1}. {toNode.name}{#if (ne toNode.name toNode.id)}, {toNode.id}{/if}, reports to {fromNode.id}"}},series:[{type:"organization",name:"Highsoft",keys:["from","to"],data:[["Shareholders","Board"],["Board","CEO"],["CEO","CTO"],["CEO","CPO"],["CEO","CSO"],["CEO","HR"],["CTO","Product"],["CTO","Web"],["CSO","Sales"],["HR","Market"],["CSO","Market"],["HR","Market"],["CTO","Market"]],levels:[{level:0,color:"silver",dataLabels:{color:"black"},height:25},{level:1,color:"silver",dataLabels:{color:"black"},height:25},{level:2,color:"#980104"},{level:4,color:"#359154"}],nodes:[{id:"Shareholders"},{id:"Board"},{id:"CEO",title:"CEO",name:"Atle Sivertsen",image:"https://wp-assets.highcharts.com/www-highcharts-com/blog/wp-content/uploads/2022/06/30081411/portrett-sorthvitt.jpg"},{id:"HR",title:"CFO",name:"Anne Jorunn Fj\xE6restad",color:"#007ad0",image:"https://wp-assets.highcharts.com/www-highcharts-com/blog/wp-content/uploads/2020/03/17131210/Highsoft_04045_.jpg"},{id:"CTO",title:"CTO",name:"Christer Vasseng",image:"https://wp-assets.highcharts.com/www-highcharts-com/blog/wp-content/uploads/2020/03/17131120/Highsoft_04074_.jpg"},{id:"CPO",title:"CPO",name:"Torstein H\xF8nsi",image:"https://wp-assets.highcharts.com/www-highcharts-com/blog/wp-content/uploads/2020/03/17131213/Highsoft_03998_.jpg"},{id:"CSO",title:"CSO",name:"Anita Nesse",image:"https://wp-assets.highcharts.com/www-highcharts-com/blog/wp-content/uploads/2020/03/17131156/Highsoft_03834_.jpg"},{id:"Product",name:"Product developers"},{id:"Web",name:"Web devs, sys admin"},{id:"Sales",name:"Sales team"},{id:"Market",name:"Marketing team",column:5}],colorByPoint:!1,color:"#007ad0",dataLabels:{color:"white"},borderColor:"white",nodeWidth:65}],tooltip:{outside:!0},credits:{enabled:!1},exporting:{allowHTML:!0,sourceWidth:800,sourceHeight:600}})},mounted(){this.chart=this.createChart()}};var Eo={createChart:async e=>{let t=await fetch("https://code.highcharts.com/mapdata/countries/ke/ke-all.topo.json").then(i=>i.json());Highcharts.getJSON("https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/world-population.json",function(i){let r=i.map(function(n){let s=e.country_values.find(a=>a.code==n.code);return s!==void 0?hr(fe({},n),{z:s.z}):n});return Highcharts.mapChart("health_facilities",{chart:{map:t},title:{text:"Highcharts Maps basic demo"},subtitle:{text:'Source map: <a href="http://code.highcharts.com/mapdata/countries/ke/ke-all.topo.json">Kenya</a>'},mapNavigation:{enabled:!0,buttonOptions:{verticalAlign:"bottom"}},colorAxis:{min:0},series:[{data:i,name:"Random data",states:{hover:{color:"#BADA55"}},dataLabels:{enabled:!0,format:"{point.name}"}}]})})},mounted(){this.handleEvent("load_charts_data",t=>{console.log(t);let r=Object.keys(t.stats).filter(n=>n.includes("country")).map(n=>({code:n.split("_")[0],z:50}));this.chart=this.createChart(hr(fe({},t.stats),{country_values:r}))})}};var Co=Gn(Ao()),Pd={mounted(){let e=document.getElementById("image"),t=document.getElementById("image_file_input"),i=document.getElementById("save_image"),r=document.getElementById("change_image"),n=document.querySelector("div#uploader_section");var s="";e.setAttribute("alt","image"),t.addEventListener("change",o=>{o.preventDefault(),e.src=URL.createObjectURL(o.target.files[0]),this.pushEventTo("#register-form","cropped_image_filename",{fileName:o.target.files[0].name}),s=new Co.default(e,{viewMode:1,dragMode:"move",zoomOnTouch:!0,zoomOnWheel:!0,aspectRatio:1,autoCropArea:.75,restore:!0,guides:!0,center:!0,highlight:!0,cropBoxMovable:!0,cropBoxResizable:!0,minCropBoxWidth:256,minCropBoxHeight:256,minCanvasWidth:600,minCanvasHeight:600,minContainerHeight:400,minContainerWidth:600}),i&&i.setAttribute("style","display: block;"),r&&r.setAttribute("style","display: block;"),setTimeout(()=>{n&&n.setAttribute("style","display: none;")},100)});let a;window.addEventListener("resize",()=>{clearTimeout(a),s.disable(),a=setTimeout(()=>{s.enable()},100)}),i&&i.addEventListener("click",o=>{let d=s.getCroppedCanvas();d!=null&&d.toBlob(f=>{document.querySelector("div.cropper-container").remove(),document.querySelector("div#uploader_section").setAttribute("style","display: none;"),e.remove(),i.remove(),this.upload("photo",[f])},"image/jpeg")}),r&&r.addEventListener("click",o=>{window.location.reload()})}},So=Pd;var ko={createChart(){return Highcharts.chart("total-dependants",{chart:{type:"pie",height:340,backgroundColor:null},credits:{enabled:!1},exporting:{enabled:!1},title:null,tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{innerSize:"50%",allowPointSelect:!0,cursor:"pointer",borderColor:null,dataLabels:{enabled:!1},showInLegend:!0}},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom",x:20,y:20,itemStyle:{color:"#222"}},pane:{startAngle:0,endAngle:360,size:"160%",innerSize:"180%",background:[{backgroundColor:"#EAECF0",outerRadius:"60%",innerRadius:"50%",borderWidth:0}]},yAxis:{min:0,max:100,lineWidth:0,tickPositions:[]},series:[{id:"status",name:"Status",data:[{name:"Spouse",y:30,color:"#F2B007"},{name:"Own Child",y:40,color:"#168080"},{name:"Adopted",y:30,color:"#14B04C"}]}]})},mounted(){this.chart=this.createChart()}};var To={mounted(){let e=["code1","code2","code3","code4","code5","code6"];document.addEventListener("phx:update",t=>{this.el.querySelectorAll(".hero-exclamation-circle-mini").forEach(i=>{i.style.display="none"}),e.forEach(i=>{let r=["!ring-1","!ring-red-500","!outline-none","!border-0"],n=this.el.querySelector(`#${i}`),s=this.el.querySelector(`#confirm_${i}`);n!=null&&n!=null&&(n.value==null||n.value==""||n.value==null)&&n.classList.add(...r),s!=null&&s!=null&&s.value!=n.value&&s.classList.add(...r)})})}};var Ro={imageCropper:So,search_dropdown:vo,contributionTrend:co,combobox:uo,ageDemographic:bo,genderDemographic:yo,statusDemographic:_o,registrationFreq:wo,highlight:mo,applicantsOnboarding:fo,otpHook:po,internationalPhone:go,familyTree:xo,healthFacilities:Eo,totalDependants:ko,pinHook:To};window.Alpine=Qr;Qr.start();var Dd=document.querySelector("meta[name='csrf-token']").getAttribute("content"),Oo=new oo("/live",Ca,{params:{_csrf_token:Dd},hooks:Ro,dom:{onBeforeElUpdated(e,t){e._x_dataStack&&(window.Alpine.clone(e,t),window.Alpine.initTree(t))}}});Qi.default.config({barColors:{0:"#29d"},shadowColor:"rgba(0, 0, 0, .3)"});window.addEventListener("phx:page-loading-start",e=>Qi.default.show(300));window.addEventListener("phx:page-loading-stop",e=>Qi.default.hide());Oo.connect();window.liveSocket=Oo;})();
/**
 * @license MIT
 * topbar 2.0.0, 2023-02-04
 * https://buunguyen.github.io/topbar
 * Copyright (c) 2021 Buu Nguyen
 */
/*! Bundled license information:

cropperjs/dist/cropper.js:
  (*!
   * Cropper.js v1.5.13
   * https://fengyuanchen.github.io/cropperjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2022-11-20T05:30:46.114Z
   *)
*/
